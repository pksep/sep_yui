import{p as w,d as A,w as b,k as q,l as O,m as y,A as N,F as k,q as f,z as R,y as T,s as m,B as g,E as I,r as v,N as E,o as H,a as F,H as C,u as U,V as D,J as W}from"./vue.esm-bundler-BHGztBRP.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{v as x}from"./index-D5_7ZNz9.js";import{c as $}from"./change-style-properties-1EhjFsjc.js";const L=s=>s!==null&&typeof s=="object"&&"hint"in s,se=s=>s!==null&&Array.isArray(s)&&L(s[0]);function p(s){return s!==null&&typeof s=="object"&&"key"in s}function ne(s){return s!==null&&Array.isArray(s)&&typeof s[0]=="object"&&"key"in s[0]}const z=["onClick","data-testid"],K={class:"options__item"},P={class:"options__value truncate-yui-kit"},J={key:0,class:"options__used"},j=w({__name:"Options",props:{options:{},defaultOption:{},class:{},disabled:{type:Boolean},dataTestid:{default:"Options"}},emits:["change"],setup(s,{emit:h}){const e=s,n=A({choosedOption:e.defaultOption??(e.options[0]||""),lengthOption:0});b(()=>e.defaultOption,()=>{e.defaultOption?n.choosedOption=e.defaultOption:n.choosedOption=""},{immediate:!0});const a=h,_=q(()=>({"select-list-yui-kit__item":!0,"truncate-yui-kit":!0})),l=t=>{n.choosedOption=t,p(n.choosedOption)?a("change",n.choosedOption.key):a("change",n.choosedOption)},c=t=>{let i=!1;return p(t)?p(n.choosedOption)?t.value===n.choosedOption.value&&(i=!0):((t.key==="null"||t.key===null)&&n.choosedOption===""&&(i=!0),t.value===n.choosedOption&&(i=!0)):p(n.choosedOption)?t===n.choosedOption.value&&(i=!0):t===n.choosedOption&&(i=!0),{active:i}},u=t=>L(t)?t.hint:p(t)?t.value:t;return(t,i)=>(O(!0),y(k,null,N(e.options,(o,r)=>(O(),y(k,{key:r},[f("li",{class:g([_.value,c(o),e.class]),onClick:()=>l(o),"data-testid":`${e.dataTestid}-${r}`},[f("div",K,[f("div",P,R(u(o)),1),typeof o=="object"&&(o!=null&&o.used)?(O(),y("div",J)):T("",!0)]),m(t.$slots,"option",{inx:r},void 0,!0)],10,z),m(t.$slots,"default",{},void 0,!0)],64))),128))}}),ae=S(j,[["__scopeId","data-v-c19494ee"]]);j.__docgenInfo={exportName:"default",displayName:"Options",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Options'"}},{name:"options",required:!0,type:{name:"union",elements:[{name:"Array",elements:[{name:"string"}]},{name:"Array",elements:[{name:"OptionsObject"}]},{name:"Array",elements:[{name:"IOptionsObjectWithHint"}]}]}},{name:"defaultOption",required:!1,type:{name:"string"}},{name:"class",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"}}],events:[{name:"change",type:{names:["string"]}}],slots:[{name:"option",scoped:!0,bindings:[{name:"inx",title:"binding"}]},{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Select/Options.vue"]};const M=["data-testid"],G=["data-testid"],Q=["open","data-testid"],B=w({__name:"SelectList",props:{isOpened:{type:Boolean,default:!1},isUseAnchor:{type:Boolean,default:!1},disableOpen:{type:Boolean},headerClasses:{},optionsClasses:{},disabled:{type:Boolean},dataTestid:{default:"SelectList"}},emits:["change","focusout-options"],setup(s,{emit:h}){const e=s,n=h,a=A({isOpened:!1}),_=I(),l=v(null),c=v(null),u=v(null),t=q(()=>`--anchor-select-${_}`);E(()=>a.isOpened=e.isOpened);const i=()=>{e.disabled||e.disableOpen||(a.isOpened=!a.isOpened,n("change",a.isOpened))},o=()=>{a.isOpened=!1,n("focusout-options"),n("change",a.isOpened)},r=()=>{if(c.value&&l.value&&a.isOpened){const d=c.value.getBoundingClientRect();l.value.style.top=`${d.top+d.height}px`}};b(()=>e.isOpened,()=>{a.isOpened=e.isOpened}),b(()=>a.isOpened,r);const V=()=>{u.value&&$({"anchor-name":`${t.value}`},u.value),l.value&&$({"position-anchor":`${t.value}`},l.value)};return H(()=>{e.isUseAnchor&&V(),window.addEventListener("scroll",r,!0)}),F(()=>{window.removeEventListener("scroll",r,!0)}),(d,X)=>C((O(),y("div",{ref_key:"selectRef",ref:u,class:"select-list-yui-kit","data-testid":e.dataTestid},[m(d.$slots,"body",{closeOpenList:i},()=>[f("div",{ref_key:"currentRef",ref:c,class:g(["select-list-yui-kit__current",{"active-yui-kit":a.isOpened},{"disabled-yui-kit":e.disabled},e==null?void 0:e.headerClasses]),tabindex:"0",onKeyup:D(i,["enter"]),onClick:i,"data-testid":`${e.dataTestid}-Current`},[m(d.$slots,"header",{},void 0,!0)],42,G)],!0),C(f("ul",{ref_key:"dropdownRef",ref:l,class:g(["select-list-yui-kit__list",e==null?void 0:e.optionsClasses]),open:a.isOpened,"data-testid":`${e.dataTestid}-OptionsList`},[m(d.$slots,"options",{},void 0,!0)],10,Q),[[W,a.isOpened]])],8,M)),[[U(x),o,void 0,{bubble:!0}]])}}),ie=S(B,[["__scopeId","data-v-3fb4a190"]]);B.__docgenInfo={exportName:"default",displayName:"SelectList",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'SelectList'"}},{name:"isOpened",required:!0,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isUseAnchor",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disableOpen",required:!1,type:{name:"boolean"}},{name:"headerClasses",required:!1,type:{name:"VueClasses"}},{name:"optionsClasses",required:!1,type:{name:"VueClasses"}},{name:"disabled",required:!1,type:{name:"boolean"}}],events:[{name:"change",type:{names:["boolean"]}},{name:"focusout-options"}],slots:[{name:"body",scoped:!0,bindings:[{name:"close-open-list",title:"binding"}]},{name:"header"},{name:"options"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Select/SelectList.vue"]};export{ae as O,ie as S,L as a,se as b,ne as i};
