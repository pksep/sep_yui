import{p as w,d as B,r as c,o as M,l as d,D as S,G as h,q as $,s as o,m as p,v as O,y as b,k as W,B as E}from"./vue.esm-bundler-DwgwRRKm.js";import{H as F,T as D,b as L}from"./SectionTableRow-Bvl-n8xA.js";import{c as H}from"./change-style-properties-1EhjFsjc.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G=["id","data-testid"],P=["data-testid"],U=["data-testid"],N=w({name:"TableNew",__name:"TableNew",props:{tableId:{},search:{},tbodyId:{},theadId:{},columnCount:{},dataTestid:{default:"Table"},isShowVerticalScroll:{type:Boolean,default:!1},isShowHorizontalScroll:{type:Boolean,default:!1}},emits:["unmount-scroll","unmount-paginate"],setup(i,{expose:n,emit:u}){var R;const a=i,T=u,m=B({headHeight:0,maxColumnCount:0}),r=c(null),l=c(null),y=c(null),v=c(null),s=c(null),I=e=>{T("unmount-scroll",e)},f=()=>{if(!r.value||!s.value)return;const e=r.value.querySelector("thead");if(!e)return;const t=e.getBoundingClientRect().height;m.headHeight=t,H({"--scroll-track-margin-top":`${t}px`},s.value.$el)},q=()=>{s.value&&s.value.scrollToTop()},V=()=>{if(s.value&&v.value){const e=getComputedStyle(s.value.$el),t=Number(e.minHeight.replace(/\D/g,""));if(t&&t>0)return;H({"min-height":`${m.headHeight+108}px`},s.value.$el)}},g=()=>{let e=1;if(l.value){for(let t=0;t<l.value.children.length;t++)e=Math.max(l.value.children[t].children.length,e);m.maxColumnCount=e}},x=new MutationObserver(()=>{g()}),z=new ResizeObserver(()=>{f()});return n({scrollToTop:q,setHeightSlot:(R=s.value)==null?void 0:R.setHeightSlot,tbodyRef:y,tableRef:r,theadRef:l}),M(()=>{f(),g(),window.addEventListener("resize",f),r.value&&z.observe(r.value),l.value&&x.observe(l.value,{childList:!0,subtree:!0}),V()}),(e,t)=>(d(),S(L,{ref_key:"scrollWrapperRef",ref:s,class:"table",onUnmountScroll:I,"is-show-vertical-scroll":a.isShowVerticalScroll,"is-show-horizontal-scroll":a.isShowHorizontalScroll,"data-testid":`${a.dataTestid}-ScrollWrapper`},{default:h(()=>[$("table",{ref_key:"tableRef",ref:r,id:a.tableId,class:"table__table","data-testid":`${a.dataTestid}`},[o(e.$slots,"default",{},()=>[$("colgroup",null,[o(e.$slots,"colspan",{},void 0,!0)]),e.$slots.head?(d(),p("thead",{key:0,ref_key:"theadRef",ref:l,class:"table__head","data-testid":`${a.dataTestid}-Thead`},[o(e.$slots,"head",{},void 0,!0),e.$slots.search?(d(),S(F,{key:0,class:"table__search-tr",ref_key:"searchRowRef",ref:v,"data-testid":`${a.dataTestid}-Search-Row`},{default:h(()=>[O(D,{colspan:m.maxColumnCount,class:"table__search-th","data-testid":`${a.dataTestid}-SearchRow-Search`},{default:h(()=>[o(e.$slots,"search",{},void 0,!0)]),_:3},8,["colspan","data-testid"])]),_:3},8,["data-testid"])):b("",!0)],8,P)):b("",!0),o(e.$slots,"body-group",{},()=>[e.$slots.body?(d(),p("tbody",{key:0,ref_key:"tbodyRef",ref:y,class:"table__body","data-testid":`${a.dataTestid}-Tbody`},[o(e.$slots,"body",{},void 0,!0)],8,U)):b("",!0)],!0)],!0)],8,G)]),_:3},8,["is-show-vertical-scroll","is-show-horizontal-scroll","data-testid"]))}}),Y=_(N,[["__scopeId","data-v-84d45223"]]);N.__docgenInfo={name:"TableNew",exportName:"default",displayName:"TableNew",description:"",tags:{},expose:[{name:"scrollToTop"},{name:"setHeightSlot"},{name:"tbodyRef"},{name:"tableRef"},{name:"theadRef"}],props:[{name:"isShowHorizontalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isShowVerticalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Table'"}},{name:"tableId",required:!1,type:{name:"string"}},{name:"search",required:!1,type:{name:`{
    rowId?: string;
    headId?: string;
}`}},{name:"tbodyId",required:!1,type:{name:"string"}},{name:"theadId",required:!1,type:{name:"string"}},{name:"columnCount",required:!1,type:{name:"number"}}],events:[{name:"unmount-scroll",type:{names:["Event"]}},{name:"unmount-paginate",type:{names:["boolean"]}}],slots:[{name:"default"},{name:"colspan"},{name:"head"},{name:"search"},{name:"body-group"},{name:"body"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/TableNew.vue"]};const j=["data-testid"],C=w({name:"TableRow",__name:"TableRowNew",props:{type:{default:"default"},dataTestid:{}},setup(i){const n=i,u=W(()=>[{"table-row_active":n.type==="selected"}]);return(a,T)=>(d(),p("tr",{class:E(["table-row",u.value]),"data-testid":n.dataTestid},[o(a.$slots,"default",{},void 0,!0)],10,j))}}),Z=_(C,[["__scopeId","data-v-4cf77a95"]]);C.__docgenInfo={name:"TableRow",exportName:"default",displayName:"TableRowNew",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"}},{name:"type",required:!1,type:{name:"TTableRow"},defaultValue:{func:!1,value:"'default'"}},{name:"colspan",defaultValue:{func:!1,value:"1"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/TableRowNew.vue"]};const A=["data-testid"],k=w({name:"HeadTableRow",__name:"HeadTableRowNew",props:{dataTestid:{default:"TableRow"}},setup(i){const n=i;return(u,a)=>(d(),p("tr",{class:"head-table-row","data-testid":n.dataTestid},[o(u.$slots,"default",{},void 0,!0)],8,A))}}),ee=_(k,[["__scopeId","data-v-66a223a9"]]);k.__docgenInfo={name:"HeadTableRow",exportName:"default",displayName:"HeadTableRowNew",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'TableRow'"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/HeadTableRowNew.vue"]};export{ee as H,Y as T,Z as a};
