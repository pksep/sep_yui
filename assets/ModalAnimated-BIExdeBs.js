import{r as c,p as q,M as E,k as T,o as S,N as V,a as $,l as y,m as I,q as R,s as x,x as W,O as F,I as P,u as K,d as U,D as w,G as k,y as z,K as G}from"./vue.esm-bundler-D8QwmNJd.js";import{c as b}from"./change-style-properties-1EhjFsjc.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j=()=>{const t=c(0),s=c([]),e=c(null),i=l=>{s.value.push(l),d(l),n()},m=()=>{s.value.pop(),o(),s.value.length?d(s.value[s.value.length-1]):e.value=null},d=l=>{e.value=l},n=()=>{t.value+=1},o=()=>{t.value>0&&(t.value-=1)};return{countOpenedModal:t,openedModals:s,lastOpenedModal:e,addOpenedModal:i,reduceOpenedModal:m,setLastOpenedModal:d,incrementCountModal:n,decrementCountModal:o}},H=["data-testid"],J=["data-testid"],D=q({__name:"Modal",props:{open:{type:Boolean},position:{default:"right"},width:{},height:{},dataTestid:{default:"Modal"}},emits:["close","unmounted"],setup(t,{expose:s,emit:e}){const{lastOpenedModal:i,addOpenedModal:m,reduceOpenedModal:d}=j(),n=t,o=c(null),l=E(),f=c(!1),g=T(()=>({width:n.width,height:n.height})),u=e;let h=0;const r=()=>{h=Date.now(),o.value&&(n.open?(o.value.showModal(),m(o.value)):v())},v=()=>{Date.now()-h<300||(d(),u("close"))},L=()=>{var a;(a=o.value)==null||a.close(),document.documentElement.focus(),M()},_=a=>{a.key==="Escape"&&i.value===o.value&&v()},N=()=>{if(document.querySelectorAll(".modal-yui-kit").length===1)return window.innerWidth-document.documentElement.clientWidth;{const p=document.body.style.paddingRight;return Number(p.replace(/\D/g,""))||0}},M=()=>{document.querySelectorAll(".modal-yui-kit").length===0&&b({overflow:"","padding-right":""},document.body)},O=a=>{a.target===o.value&&v()};return s({closeDialog:L}),S(()=>{V(()=>{n.open!==f.value&&(r(),f.value=n.open)}),o.value&&o.value.addEventListener("cancel",p=>{p.preventDefault()});const a=N();b({overflow:"hidden","padding-right":`${a}px`},document.body),document.addEventListener("keydown",_)}),$(()=>{M(),document.removeEventListener("keydown",_),u("unmounted")}),(a,p)=>(y(),I("dialog",F({ref_key:"dialog",ref:o},K(l),{class:["modal-yui-kit",`modal-yui-kit_${n.position}`],"data-testid":n.dataTestid,onClick:P(O,["self","left"])}),[R("div",{class:"modal-yui-kit__modal-content",style:W(g.value),"data-testid":`${n.dataTestid}-ModalContent`},[x(a.$slots,"default",{},void 0,!0)],12,J)],16,H))}}),Q=C(D,[["__scopeId","data-v-f0c5c3b3"]]);D.__docgenInfo={exportName:"default",displayName:"Modal",description:"",tags:{},expose:[{name:"closeDialog"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Modal'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'right'"}},{name:"width",required:!1,type:{name:"string"}},{name:"height",required:!1,type:{name:"string"}}],events:[{name:"close"},{name:"unmounted"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Modal/Modal.vue"]};var A=(t=>(t.slideTop="slide-top",t.slideLeft="slide-left",t.fadeAndScale="fade-and-scale",t.fade="fade",t))(A||{});const B=q({__name:"ModalAnimated",props:{animateType:{},open:{type:Boolean},position:{default:"right"},width:{},height:{},dataTestid:{default:"Modal"}},emits:["close","unmounted","end-animation"],setup(t,{emit:s}){const e=t,i=s,m=T(()=>e.animateType===A.fade?"fade":e.position==="bottom"?"slide-bottom":e.position==="right"?"slide-left":"fade-and-scale"),d=c(null),n=U({function:()=>{}}),o=()=>{u()},l=()=>{i("unmounted")},f=()=>{u()},g=()=>{n.function(),i("end-animation")},u=()=>{var r;d.value&&(n.function=(r=d.value)==null?void 0:r.closeDialog)},h=()=>{u(),i("close")};return(r,v)=>(y(),w(G,{name:m.value,onAfterLeave:g,onBeforeLeave:f,onAfterEnter:o},{default:k(()=>[e.open?(y(),w(Q,{key:0,ref_key:"modalRef",ref:d,open:e.open,position:e.position,width:e.width,height:e.height,"data-testid":e.dataTestid,onClose:h,onUnmounted:l},{default:k(()=>[x(r.$slots,"default",{},void 0,!0)]),_:3},8,["open","position","width","height","data-testid"])):z("",!0)]),_:3},8,["name"]))}}),te=C(B,[["__scopeId","data-v-f7950e34"]]);B.__docgenInfo={exportName:"default",displayName:"ModalAnimated",description:"",tags:{},props:[{name:"height",required:!1,type:{name:"string"}},{name:"width",required:!1,type:{name:"string"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'right'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Modal'"}},{name:"animateType",required:!1,type:{name:"ModalAnimateEnum"}}],events:[{name:"close"},{name:"unmounted"},{name:"end-animation"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Modal/ModalAnimated.vue"]};export{te as M,A as a};
