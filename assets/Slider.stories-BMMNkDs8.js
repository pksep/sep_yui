import{p as q,d as ce,r as R,w as W,o as le,l as E,m as P,q as _,s as ee,L as X,k as Q,B as ue,a as ke,u as g,I as N,y as oe,D as te,G as se,v as B,a5 as Pe,E as at,a6 as Et,C as Je,O as Mt,a2 as It,A as Me,z as be,F as me,T as Ct}from"./vue.esm-bundler-D8QwmNJd.js";import{I as Y,a as J}from"./Icon-CgbGn_kP.js";import{c as re,i as Pt,_ as pe,b as qe,g as Tt}from"./Picture-B3wn-JRb.js";import{M as ot,a as kt}from"./ModalAnimated-Cwv7voqr.js";import"./Badges-DriezkGk.js";import"./BreadCrumbs-CVIElvxU.js";import{a as Bt,B as Ze}from"./Button-Bk9jAkTK.js";import"./Switch-B_NDZyKf.js";import"./Dropdown-CjbTY1H8.js";import"./Calendar-CmnX70bD.js";import"./Dialog-DYxK5lQc.js";import"./Accordion-D1pjWLvC.js";import"./DragAndDrop-CiZucJsh.js";import"./Card-eHND-q7f.js";import"./Filter-D1ItAEJ7.js";import"./Combobox-BLCvDK4x.js";import"./SelectList-Dp9vj95N.js";import"./Input-D2d5Yn9V.js";import"./InputNumber-CWWoOR1L.js";import"./Search-CSUy_fmM.js";import"./Toggle-B80S11av.js";import"./Scrollbar-CtgJgKV2.js";import"./Checkbox-BSnSRbdr.js";import"./UserMenu-DUXM63Fg.js";import"./Textarea-NcTgRL6e.js";import"./Notification-DcrASnc-.js";import"./CopyIcon-CNwdlnte.js";import"./Loader-CpJmM4Vi.js";import"./FilterTag-JxsbQQP-.js";import"./CircularProgress-B-GaeBTv.js";import"./Popover-CqYpXPWf.js";import"./Table-Dd3il8Ke.js";import{u as Rt,c as Ot,T as At}from"./SectionTableRow-B5q6a0QE.js";import"./Radio-Bde_Ln0A.js";import"./Tooltip-DbV-qqYR.js";import"./BaseFilter-Bc3tvdTU.js";import{R as jt}from"./Range-DwIibG2-.js";import{H as $t}from"./HeadTableRowNew-B2oqvo7X.js";import{c as he}from"./change-style-properties-1EhjFsjc.js";import"./Avatar-DXCOBzqI.js";import"./Tabs-DMopgWim.js";import"./ContentEditor-D4llOfqv.js";import{_ as Be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TimePicker-D6f0USpU.js";import{g as Dt}from"./_commonjsHelpers-Cpj98o6Y.js";import{S as Ge}from"./storybook-BJU81olc.js";import{f as Lt}from"./index-CGbn3E6N.js";import"./sizes-9jYRAigb.js";import"./index-Cd4hMdH8.js";import"./lodash-DHyxJ22h.js";import"./index-DtW3Gt5I.js";import"./enum-D-JvIl_F.js";import"./colors-BMxzW9Sg.js";var Re=(m=>(m.jpg="jpg",m.png="png",m.jpeg="jpeg",m.webp="webp",m.svg="svg",m))(Re||{}),Oe=(m=>(m.mp4="mp4",m.mp3="mp3",m.avif="avif",m))(Oe||{});const Qe=(m,S=window)=>{const o=m.getBoundingClientRect();if(S instanceof Window){const n=window.innerWidth,i=window.innerHeight;return o.top<i&&o.bottom>0&&o.left<n&&o.right>0}else{const n=S.getBoundingClientRect();return o.top<n.bottom&&o.bottom>n.top&&o.left<n.right&&o.right>n.left}},Te=(m,S=null)=>{if(!m)return;(S?Qe(m,S):Qe(m))||m.scrollIntoView({behavior:"smooth",block:"nearest"})},st=q({name:"BaseSlider",__name:"BaseSlider",props:{activeIndex:{default:0}},setup(m,{expose:S}){const o=m,n=ce({children:null,activeIndex:o.activeIndex}),i=R(null),e=R(null);W(()=>o.activeIndex,()=>{c(o.activeIndex)});const c=l=>{if(!i.value||!e.value)return;const d=[...i.value.children];l>d.length-1||l<0||(Te(d[l],e.value),n.activeIndex=l)},t=()=>{X(()=>{!n.children||!e.value||Te(n.children[n.activeIndex],e.value)})},f=()=>(c(n.activeIndex+1),n.activeIndex),r=()=>(c(n.activeIndex-1),n.activeIndex);return le(()=>{!i.value||!e.value||(n.children=[...i.value.children])}),S({shiftPosition:c,nextSlide:f,prevSlide:r,initScroll:t}),(l,d)=>(E(),P("div",{ref_key:"sliderRef",ref:e,class:"base-slider"},[_("div",{ref_key:"contentRef",ref:i,class:"base-slider__content"},[ee(l.$slots,"default")],512)],512))}});st.__docgenInfo={name:"BaseSlider",exportName:"default",displayName:"BaseSlider",description:"",tags:{},expose:[{name:"shiftPosition"},{name:"nextSlide"},{name:"prevSlide"},{name:"initScroll"}],props:[{name:"activeIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlider.vue"]};const Nt={class:"base-slide__content"},rt=q({name:"BaseSlide",__name:"BaseSlide",props:{isActive:{type:Boolean}},setup(m){const S=m,o=Q(()=>[{"base-slide_active":S.isActive}]);return(n,i)=>(E(),P("div",{class:ue(["base-slide",o.value])},[_("div",Nt,[ee(n.$slots,"default")])],2))}});rt.__docgenInfo={name:"BaseSlide",exportName:"default",displayName:"BaseSlide",description:"",tags:{},props:[{name:"isActive",required:!1,type:{name:"boolean"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlide.vue"]};const Ht={class:"scroll-wrapper__vertical-wrapper"},Ft={class:"scroll-wrapper__horizont-wrapper"},Wt=q({name:"ScrollWrapper",__name:"ScrollWrapperNew",props:{isShowVerticalScroll:{type:Boolean,default:!1},isShowHorizontalScroll:{type:Boolean,default:!1}},emits:["unmount-scroll","unmount-paginate","on-mounted"],setup(m,{expose:S,emit:o}){const n=o,i=R(null),e=R(null),c=R(null),t=R(null),f=R(null),r=R(null),{onTrackClick:l,startDrag:d,changeBarPosition:a,setVerticalBarHeight:y,verticalTrackClass:w,isExistVerticalTrack:s}=Rt(i,e,t,c),{changeBarPosition:v,startDrag:p,onTrackClick:b,setHorizontalBarWidth:x,horizontalTrackClass:O,isExistHorizontalTrack:A}=Ot(i,e,r,f),M=$=>{a(),v(),n("unmount-scroll",$)},I=()=>{requestAnimationFrame(()=>{T(),D()})},T=()=>{if(!i.value||!e.value)return;const $=getComputedStyle(e.value),V=e.value.style.minHeight||$.minHeight,U=e.value.style.maxHeight||$.maxHeight,ge=e.value.style.height;he({"--scroll-wrapper-height":`${ge}`,"--scroll-wrapper-max-height":`${U}`,"--scroll-wrapper-min-height":`${V}`},e.value)},D=()=>{y(),x(),a(),v()},z=()=>{i.value&&i.value.addEventListener("scroll",M)},K=()=>{i.value&&(i.value.scrollTop=0)},Z=new MutationObserver(()=>{I()}),ne=new ResizeObserver(()=>{I()}),ie=$=>{Z.observe($,{childList:!0,subtree:!0,attributes:!0}),ne.observe($)};return S({scrollToTop:K,setHeightSlot:T}),le(()=>{I(),z(),e.value&&ie(e.value),c.value&&ie(c.value),window.addEventListener("resize",I),n("on-mounted")}),ke(()=>{window.removeEventListener("resize",I)}),($,V)=>(E(),P("div",{ref_key:"scrollWrapperRef",ref:e,class:"scroll-wrapper"},[_("div",Ht,[_("div",Ft,[_("div",{ref_key:"slotRef",ref:i,class:"scroll-wrapper__slot"},[ee($.$slots,"default",{},void 0,!0)],512),g(A)||m.isShowHorizontalScroll?(E(),P("div",{key:0,ref_key:"horizontTrackRef",ref:f,class:ue(["scroll-wrapper__track scroll-wrapper__track_horizont",g(O)]),onClick:V[1]||(V[1]=N((...U)=>g(b)&&g(b)(...U),["prevent","left"]))},[_("div",{ref_key:"horizontBarRef",ref:r,class:"scroll-wrapper__bar",onMousedown:V[0]||(V[0]=N((...U)=>g(p)&&g(p)(...U),["prevent","left"]))},null,544)],2)):oe("",!0)]),g(s)||m.isShowVerticalScroll?(E(),P("div",{key:0,ref_key:"verticalTrackRef",ref:c,class:ue(["scroll-wrapper__track scroll-wrapper__track_vertical",g(w)]),onClick:V[3]||(V[3]=N((...U)=>g(l)&&g(l)(...U),["prevent","left"]))},[_("div",{ref_key:"verticalBarRef",ref:t,class:"scroll-wrapper__bar",onMousedown:V[2]||(V[2]=N((...U)=>g(d)&&g(d)(...U),["prevent","left"]))},null,544)],2)):oe("",!0)])],512))}});Wt.__docgenInfo={name:"ScrollWrapper",exportName:"default",displayName:"ScrollWrapperNew",description:"",tags:{},expose:[{name:"scrollToTop"},{name:"setHeightSlot"}],props:[{name:"isShowVerticalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isShowHorizontalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"unmount-scroll",type:{names:["Event"]}},{name:"unmount-paginate",type:{names:["boolean"]}},{name:"on-mounted"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/ScrollWrapper/ScrollWrapperNew.vue"]};const zt=["data-testid"],Vt=["data-testid"],Ut=["data-testid"],Yt=q({name:"TableSimple",__name:"TableSimple",props:{dataTestid:{default:"TableSimple"}},setup(m,{expose:S}){const o=m,n=R(null),i=R(null),e=R(null),c=R(null),t=Q(()=>{let f=1;if(i.value)for(let r=0;r<i.value.children.length;r++)f=Math.max(i.value.children[r].children.length,f);return f});return S({tbodyRef:e,tableRef:n,theadRef:i}),(f,r)=>(E(),P("table",{ref_key:"tableRef",ref:n,class:"simple-table-yui-kit","data-testid":`${o.dataTestid}`},[ee(f.$slots,"default",{},()=>[ee(f.$slots,"colspan",{},void 0,!0),f.$slots.head?(E(),P("thead",{key:0,ref_key:"theadRef",ref:i,class:"simple-table-yui-kit__head","data-testid":`${o.dataTestid}-Thead`},[ee(f.$slots,"head",{},void 0,!0),f.$slots.search?(E(),te($t,{key:0,class:"table-new-yui-kit__search",ref_key:"searchRowRef",ref:c,"data-testid":`${o.dataTestid}-Search-Row`},{default:se(()=>[B(At,{colspan:t.value,class:"table-new-yui-kit__th","data-testid":`${o.dataTestid}-SearchRow-Search`},{default:se(()=>[ee(f.$slots,"search",{},void 0,!0)]),_:3},8,["colspan","data-testid"])]),_:3},8,["data-testid"])):oe("",!0)],8,Vt)):oe("",!0),ee(f.$slots,"body-group",{},()=>[f.$slots.body?(E(),P("tbody",{key:0,ref_key:"tbodyRef",ref:e,class:"simple-table-yui-kit__body","data-testid":`${o.dataTestid}-Tbody`},[ee(f.$slots,"body",{},void 0,!0)],8,Ut)):oe("",!0)],!0)],!0)],8,zt))}});Yt.__docgenInfo={name:"TableSimple",exportName:"default",displayName:"TableSimple",description:"",tags:{},expose:[{name:"tbodyRef"},{name:"tableRef"},{name:"theadRef"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'TableSimple'"}}],slots:[{name:"default"},{name:"colspan"},{name:"head"},{name:"search"},{name:"body-group"},{name:"body"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/TableSimple.vue"]};const Xt=["data-testid"],Kt=["data-testid"],lt=q({name:"BaseCropper",__name:"BaseCropper",props:{image:{},max:{default:3},min:{default:1},step:{default:.5}},emits:["unmount-scale"],setup(m,{expose:S,emit:o}){const n=m,i=o,e=Pe("canvas"),c=Pe("container"),t=ce({ctx:null,image:null,id:at(),scale:1,position:{x:0,y:0},isDragging:!1,startX:0,startY:0,minScale:n.min,maxScale:n.max,stepScale:n.step});W(()=>n.image,()=>{n.image&&d(n.image)});const f=()=>{e.value&&(t.ctx=e.value.getContext("2d")),r(),window.addEventListener("resize",r)},r=()=>{if(c.value){const{width:M,height:I}=c.value.getBoundingClientRect();e.value&&(e.value.width=M,e.value.height=I),t.image&&l()}},l=()=>{if(t.image){const M=t.ctx,I=e.value;M&&I&&(M.clearRect(0,0,I.width,I.height),M.drawImage(t.image,t.position.x,t.position.y,t.image.width*t.scale,t.image.height*t.scale))}},d=M=>{const I=new FileReader;I.onload=async T=>{var D;typeof((D=T.target)==null?void 0:D.result)=="string"&&(t.image=new Image,t.image.src=T.target.result,t.image.onload=async()=>{if(await X(),e.value&&t.image){const z=e.value.width,K=e.value.height,Z=t.image.width/t.image.height,ne=z/K;Z>ne?(t.image.width=z,t.image.height=z/Z):(t.image.height=K,t.image.width=K*Z),r(),t.position.x=(e.value.width-t.image.width)/2,t.position.y=(e.value.height-t.image.height)/2,l()}})},I.readAsDataURL(M)},a=M=>{t.isDragging=!0,t.startX=M.clientX-t.position.x,t.startY=M.clientY-t.position.y,window.addEventListener("mousemove",y),window.addEventListener("mouseup",w)},y=M=>{if(!t.isDragging&&!e.value)return;let I=M.clientX-t.startX,T=M.clientY-t.startY;if(e.value&&t.image){const D=e.value.width-t.image.width*t.scale;t.image.width*t.scale<e.value.width?I=Math.min(Math.max(I,0),e.value.width-t.image.width*t.scale):(I>0&&(I=0),I<D&&(I=D));const z=e.value.height-t.image.height*t.scale;t.image.height*t.scale<e.value.height?T=Math.min(Math.max(T,0),e.value.height-t.image.height*t.scale):(T>0&&(T=0),T<z&&(T=z)),t.position.x=I,t.position.y=T}l()},w=()=>{t.isDragging=!1,window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",w)},s=M=>Math.max(t.minScale,Math.min(M,t.maxScale)),v=M=>{if(e.value){const I=e.value.width/2,T=e.value.height/2;t.position.x=I-(I-t.position.x)*M,t.position.y=T-(T-t.position.y)*M}},p=M=>{const I=t.scale,T=t.scale+M.deltaY*-.001;if(I===s(T))return;t.scale=s(T);const D=T/I;v(D),i("unmount-scale",t.scale),l()};return S({cropImage:()=>{if(c.value){const{width:M,height:I}=c.value.getBoundingClientRect(),T=document.createElement("canvas");T.width=M,T.height=I;const D=T.getContext("2d");D&&t.image&&D.drawImage(t.image,t.position.x,t.position.y,t.image.width*t.scale,t.image.height*t.scale);const z=T.toDataURL("image/png"),K=atob(z.split(",")[1]),Z=new ArrayBuffer(K.length),ne=new Uint8Array(Z);for(let $=0;$<K.length;$++)ne[$]=K.charCodeAt($);const ie=new Blob([ne],{type:"image/png"});return n.image?new File([ie],n.image.name,{type:"image/png"}):null}return null},scalePlus:()=>{const M=t.scale+t.stepScale;t.scale=s(M),l()},scaleMinus:()=>{const M=t.scale-t.stepScale;t.scale=s(M),l()},setScale:M=>{const I=t.scale,D=M/I;t.scale=s(M),v(D),l()},startMove:a,scaleImage:p}),le(()=>{f(),n.image&&d(n.image)}),(M,I)=>(E(),P("div",{ref_key:"container",ref:c,class:"base-cropper","data-testid":`BaseCropper-${t.id}`},[_("canvas",{ref_key:"canvas",ref:e,class:"base-cropper__canvas","data-testid":`BaseCropper-${t.id}-canvas`,onMousedown:a,onWheel:N(p,["prevent"])},null,40,Kt)],8,Xt))}}),Jt=Be(lt,[["__scopeId","data-v-96931847"]]);lt.__docgenInfo={name:"BaseCropper",exportName:"default",displayName:"BaseCropper",description:"",tags:{},expose:[{name:"cropImage"},{name:"scalePlus"},{name:"scaleMinus"},{name:"setScale"},{name:"startMove"},{name:"scaleImage"}],props:[{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}},{name:"max",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"3"}},{name:"min",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"step",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0.5"}}],events:[{name:"unmount-scale",type:{names:["number"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/BaseCropper.vue"]};const qt=m=>{const S=R(m==null?void 0:m.defaultValue),o=m==null?void 0:m.min,n=m==null?void 0:m.max,i=m==null?void 0:m.step;W(S,c=>{S.value=e(c)});const e=c=>Math.max(o,Math.min(c,n));return{value:S,min:o,max:n,step:i,getCorrectValue:e}},Zt=(m,S)=>new File([m],S,{type:m.type}),Gt=["data-testid"],Qt=["data-testid"],en=["data-testid"],tn=["data-testid"],nn=["data-testid"],an=["data-testid"],on=q({name:"ModalCroppedAvatar",__name:"ModalCroppedAvatar",props:{image:{},open:{type:Boolean},position:{default:"center"},width:{default:"650px"},height:{default:"auto"},dataTestid:{}},emits:["unmount-close","unmount-save"],setup(m,{emit:S}){const o=m,n=S,{max:i,min:e,step:c,value:t}=qt({defaultValue:1,max:3,min:1,step:.1}),f=at(),r=Pe("cropper"),l=ce({openModal:!1});W(t,()=>{r.value&&r.value.setScale(t.value)});const d=()=>{l.openModal=!1,n("unmount-close")},a=v=>{t.value=v},y=()=>{t.value=t.value-c},w=()=>{t.value=t.value+c},s=()=>{if(r.value){const v=r.value.cropImage();if(v){const p=v.name,b=Zt(v,p);n("unmount-save",b),d()}}};return ke(()=>{d()}),le(()=>{o.open===void 0&&(l.openModal=o.open)}),(v,p)=>(E(),te(ot,Mt(o,{class:"modal-cropped-avatar","data-testid":`ModalCroppedAvatar-${g(f)}`,onClose:d}),{default:se(()=>[_("div",{class:"modal-cropped-avatar__content","data-testid":`ModalCroppedAvatar-${g(f)}-content`},[_("div",{class:"modal-cropped-avatar__title","data-testid":`ModalCroppedAvatar-${g(f)}-title`}," Изменение фото профиля ",8,Qt),_("div",{class:"modal-cropped-avatar__main","data-testid":`ModalCroppedAvatar-${g(f)}-content-main`},[_("div",{class:"modal-cropped-avatar__cropped","data-testid":`ModalCroppedAvatar-${g(f)}-content-main-cropped`},[B(Jt,{ref_key:"cropper",ref:r,image:m.image,max:g(i),min:g(e),step:g(c),class:"modal-cropped-avatar__cropper",onUnmountScale:a},null,8,["image","max","min","step"]),_("div",{class:"modal-cropped-avatar__tools","data-testid":`ModalCroppedAvatar-${g(f)}-content-tools`},[B(J,{name:g(Y).minus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${g(f)}-content-iconMinus`,onClick:y},null,8,["name","data-testid"]),B(jt,{max:g(i),min:g(e),step:g(c),modelValue:g(t),"onUpdate:modelValue":p[0]||(p[0]=b=>Et(t)?t.value=b:null),"data-testid":`ModalCroppedAvatar-${g(f)}-content-Range`},null,8,["max","min","step","modelValue","data-testid"]),B(J,{name:g(Y).plus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${g(f)}-content-IconPlus`,onClick:w},null,8,["name","data-testid"])],8,nn)],8,tn),_("div",{class:"modal-cropped-avatar__buttons","data-testid":`ModalCroppedAvatar-${g(f)}-content-buttons`},[B(Ze,{type:g(Bt).outline,class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${g(f)}-content-ButtonCancel`,onClick:d},{default:se(()=>[...p[1]||(p[1]=[Je(" Отменить ",-1)])]),_:1},8,["type","data-testid"]),B(Ze,{class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${g(f)}-content-buttonSave`,onClick:s},{default:se(()=>[...p[2]||(p[2]=[Je(" Сохранить ",-1)])]),_:1},8,["data-testid"])],8,an)],8,en)],8,Gt)]),_:1},16,["data-testid"]))}});on.__docgenInfo={name:"ModalCroppedAvatar",exportName:"default",displayName:"ModalCroppedAvatar",description:"",tags:{},props:[{name:"height",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'auto'"}},{name:"width",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'650px'"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'center'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"dataTestid",required:!1,type:{name:"string"}},{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}}],events:[{name:"unmount-close"},{name:"unmount-save",type:{names:["File"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/ModalCroppedAvatar.vue"]};const sn=["src"],dt=q({name:"ImagePreview",__name:"ImagePreview",props:{src:{}},emits:["error"],setup(m,{expose:S,emit:o}){const n=m,i=o,e=ce({isError:!1,rotate:0});W(()=>n.src,()=>{e.isError=!1,e.rotate=0,X(()=>{t()})});const c=R(null),t=async()=>{try{if(!c.value||!n.src)return;const r=new Image;r.src=n.src,r.addEventListener("load",()=>{var s;if(!c.value)return;const l=(s=c.value)==null?void 0:s.getContext("2d");if(!l)return;const d=r.width,a=r.height;let y=d,w=a;e.rotate%180!==0&&(y=a,w=d),c.value.width=y,c.value.height=w,l.save(),l.clearRect(0,0,y,w),l.translate(y/2,w/2),l.rotate(e.rotate*Math.PI/180),l.drawImage(r,-d/2,-a/2,d,a),l.restore()}),r.addEventListener("error",l=>{e.isError=!0,i("error",l)})}catch{i("error",new Event("error")),e.isError=!0}},f=async r=>{const l=Math.round(r/90)*90;e.rotate+=l,X(()=>{t()})};return le(()=>{X(()=>{t()})}),S({rotateImage:f}),(r,l)=>e.isError?(E(),P("img",{key:1,src:g(re)},null,8,sn)):(E(),P("canvas",{key:0,ref_key:"canvasRef",ref:c,class:"image-preview"},null,512))}});dt.__docgenInfo={name:"ImagePreview",exportName:"default",displayName:"ImagePreview",description:"",tags:{},expose:[{name:"rotateImage"}],props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/ImagePreview.vue"]};const rn=["src"],Ae=q({name:"VideoPreview",__name:"VideoPreview",props:{src:{}},emits:["error"],setup(m,{emit:S}){const o=m,n=S,i=ce({isError:!1});W(()=>o.src,()=>{i.isError=!1,X(()=>{c()})});const e=R(null),c=async()=>{var t;try{if(!e.value||!o.src)return;const f=document.createElement("video");f.muted=!0,f.preload="metadata";const r=await fetch(o.src);if(!r.ok)throw new Error("Failed to fetch video");const l=new Blob([await r.arrayBuffer()]);f.src=URL.createObjectURL(l);const d=(t=e==null?void 0:e.value)==null?void 0:t.getContext("2d");if(!d)return;f.addEventListener("loadeddata",()=>{f.currentTime=0}),f.addEventListener("seeked",()=>{var a,y;e.value&&d.drawImage(f,0,0,(a=e.value)==null?void 0:a.width,(y=e.value)==null?void 0:y.height)}),f.addEventListener("error",a=>{i.isError=!0,n("error",a)})}catch{n("error",new Event("error")),i.isError=!0}};return le(()=>{X(()=>{c()})}),(t,f)=>i.isError?(E(),P("img",{key:1,src:g(re)},null,8,rn)):(E(),P("canvas",{key:0,ref_key:"canvasRef",ref:e,class:"video-preview"},null,512))}});Ae.__docgenInfo={name:"VideoPreview",exportName:"default",displayName:"VideoPreview",description:"",tags:{},props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/VideoPreview.vue"]};const ct=m=>{if(!m)return null;const S=m.split("?")[0],o=/\.\w+$/,n=S.match(o);return n?n[0].replace(".",""):null},Ie=m=>{if(!m)return!1;if(m.startsWith("data:image/"))return!0;const S=ct(m);return S?Object.values(Re).includes(S.toLowerCase()):!1},ln=async(m,S="file")=>{const n=await(await fetch(m)).blob(),i=window.URL.createObjectURL(n),e=document.createElement("a");e.href=i,e.download=S,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(i)};var ut={exports:{}};(function(m,S){(function(n,i){m.exports=i()})(window,function(){return function(o){var n={};function i(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return o[e].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=o,i.c=n,i.d=function(e,c,t){i.o(e,c)||Object.defineProperty(e,c,{enumerable:!0,get:t})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,c){if(c&1&&(e=i(e)),c&8||c&4&&typeof e=="object"&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),c&2&&typeof e!="string")for(var f in e)i.d(t,f,(function(r){return e[r]}).bind(null,f));return t},i.n=function(e){var c=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(c,"a",c),c},i.o=function(e,c){return Object.prototype.hasOwnProperty.call(e,c)},i.p="",i(i.s=0)}({"./src/index.js":function(o,n,i){i.r(n),i("./src/sass/index.scss");var e=i("./src/js/init.js"),c=e.default.init;typeof window<"u"&&(window.printJS=c),n.default=c},"./src/js/browser.js":function(o,n,i){i.r(n);var e={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!e.isIE()&&!!window.StyleMedia},isChrome:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!t.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};n.default=e},"./src/js/functions.js":function(o,n,i){i.r(n),i.d(n,"addWrapper",function(){return f}),i.d(n,"capitalizePrint",function(){return r}),i.d(n,"collectStyles",function(){return l}),i.d(n,"addHeader",function(){return a}),i.d(n,"cleanUp",function(){return y}),i.d(n,"isRawHTML",function(){return w});var e=i("./src/js/modal.js"),c=i("./src/js/browser.js");function t(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(p){return typeof p}:t=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t(s)}function f(s,v){var p="font-family:"+v.font+" !important; font-size: "+v.font_size+" !important; width:100%;";return'<div style="'+p+'">'+s+"</div>"}function r(s){return s.charAt(0).toUpperCase()+s.slice(1)}function l(s,v){for(var p=document.defaultView||window,b="",x=p.getComputedStyle(s,""),O=0;O<x.length;O++)(v.targetStyles.indexOf("*")!==-1||v.targetStyle.indexOf(x[O])!==-1||d(v.targetStyles,x[O]))&&x.getPropertyValue(x[O])&&(b+=x[O]+":"+x.getPropertyValue(x[O])+";");return b+="max-width: "+v.maxWidth+"px !important; font-size: "+v.font_size+" !important;",b}function d(s,v){for(var p=0;p<s.length;p++)if(t(v)==="object"&&v.indexOf(s[p])!==-1)return!0;return!1}function a(s,v){var p=document.createElement("div");if(w(v.header))p.innerHTML=v.header;else{var b=document.createElement("h1"),x=document.createTextNode(v.header);b.appendChild(x),b.setAttribute("style",v.headerStyle),p.appendChild(b)}s.insertBefore(p,s.childNodes[0])}function y(s){s.showModal&&e.default.close(),s.onLoadingEnd&&s.onLoadingEnd(),(s.showModal||s.onLoadingStart)&&window.URL.revokeObjectURL(s.printable);var v="mouseover";(c.default.isChrome()||c.default.isFirefox())&&(v="focus");var p=function b(){window.removeEventListener(v,b),s.onPrintDialogClose();var x=document.getElementById(s.frameId);x&&x.remove()};window.addEventListener(v,p)}function w(s){var v=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return v.test(s)}},"./src/js/html.js":function(o,n,i){i.r(n);var e=i("./src/js/functions.js"),c=i("./src/js/print.js");function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(a){return typeof a}:t=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(l)}n.default={print:function(d,a){var y=r(d.printable)?d.printable:document.getElementById(d.printable);if(!y){window.console.error("Invalid HTML element id: "+d.printable);return}d.printableElement=f(y,d),d.header&&Object(e.addHeader)(d.printableElement,d),c.default.send(d,a)}};function f(l,d){for(var a=l.cloneNode(),y=Array.prototype.slice.call(l.childNodes),w=0;w<y.length;w++)if(d.ignoreElements.indexOf(y[w].id)===-1){var s=f(y[w],d);a.appendChild(s)}switch(d.scanStyles&&l.nodeType===1&&a.setAttribute("style",Object(e.collectStyles)(l,d)),l.tagName){case"SELECT":a.value=l.value;break;case"CANVAS":a.getContext("2d").drawImage(l,0,0);break}return a}function r(l){return t(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(o,n,i){i.r(n);var e=i("./src/js/functions.js"),c=i("./src/js/print.js"),t=i("./src/js/browser.js");n.default={print:function(r,l){r.printable.constructor!==Array&&(r.printable=[r.printable]),r.printableElement=document.createElement("div"),r.printable.forEach(function(d){var a=document.createElement("img");if(a.setAttribute("style",r.imageStyle),a.src=d,t.default.isFirefox()){var y=a.src;a.src=y}var w=document.createElement("div");w.appendChild(a),r.printableElement.appendChild(w)}),r.header&&Object(e.addHeader)(r.printableElement,r),c.default.send(r,l)}}},"./src/js/init.js":function(o,n,i){i.r(n);var e=i("./src/js/browser.js"),c=i("./src/js/modal.js"),t=i("./src/js/pdf.js"),f=i("./src/js/html.js"),r=i("./src/js/raw-html.js"),l=i("./src/js/image.js"),d=i("./src/js/json.js");function a(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(v){return typeof v}:a=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},a(w)}var y=["pdf","html","image","json","raw-html"];n.default={init:function(){var s={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(M){throw M},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},v=arguments[0];if(v===void 0)throw new Error("printJS expects at least 1 attribute.");switch(a(v)){case"string":s.printable=encodeURI(v),s.fallbackPrintable=s.printable,s.type=arguments[1]||s.type;break;case"object":s.printable=v.printable,s.fallbackPrintable=typeof v.fallbackPrintable<"u"?v.fallbackPrintable:s.printable,s.fallbackPrintable=s.base64?"data:application/pdf;base64,".concat(s.fallbackPrintable):s.fallbackPrintable;for(var p in s)p==="printable"||p==="fallbackPrintable"||(s[p]=typeof v[p]<"u"?v[p]:s[p]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+a(v))}if(!s.printable)throw new Error("Missing printable information.");if(!s.type||typeof s.type!="string"||y.indexOf(s.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");s.showModal&&c.default.show(s),s.onLoadingStart&&s.onLoadingStart();var b=document.getElementById(s.frameId);b&&b.parentNode.removeChild(b);var x=document.createElement("iframe");switch(e.default.isFirefox()?x.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):x.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),x.setAttribute("id",s.frameId),s.type!=="pdf"&&(x.srcdoc="<html><head><title>"+s.documentTitle+"</title>",s.css&&(Array.isArray(s.css)||(s.css=[s.css]),s.css.forEach(function(A){x.srcdoc+='<link rel="stylesheet" href="'+A+'">'})),x.srcdoc+="</head><body></body></html>"),s.type){case"pdf":if(e.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var O=window.open(s.fallbackPrintable,"_blank");O.focus(),s.onIncompatibleBrowser()}catch(A){s.onError(A)}finally{s.showModal&&c.default.close(),s.onLoadingEnd&&s.onLoadingEnd()}else t.default.print(s,x);break;case"image":l.default.print(s,x);break;case"html":f.default.print(s,x);break;case"raw-html":r.default.print(s,x);break;case"json":d.default.print(s,x);break}}}},"./src/js/json.js":function(o,n,i){i.r(n);var e=i("./src/js/functions.js"),c=i("./src/js/print.js");function t(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(r)}n.default={print:function(l,d){if(t(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(a){return{field:t(a)==="object"?a.field:a,displayName:t(a)==="object"?a.displayName:a,columnSize:t(a)==="object"&&a.columnSize?a.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(e.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=f(l),c.default.send(l,d)}};function f(r){var l=r.printable,d=r.properties,a='<table style="border-collapse: collapse; width: 100%;">';r.repeatTableHeader&&(a+="<thead>"),a+="<tr>";for(var y=0;y<d.length;y++)a+='<th style="width:'+d[y].columnSize+";"+r.gridHeaderStyle+'">'+Object(e.capitalizePrint)(d[y].displayName)+"</th>";a+="</tr>",r.repeatTableHeader&&(a+="</thead>"),a+="<tbody>";for(var w=0;w<l.length;w++){a+="<tr>";for(var s=0;s<d.length;s++){var v=l[w],p=d[s].field.split(".");if(p.length>1)for(var b=0;b<p.length;b++)v=v[p[b]];else v=v[d[s].field];a+='<td style="width:'+d[s].columnSize+r.gridStyle+'">'+v+"</td>"}a+="</tr>"}return a+="</tbody></table>",a}},"./src/js/modal.js":function(o,n,i){i.r(n);var e={show:function(t){var f="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",r=document.createElement("div");r.setAttribute("style",f),r.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var d=document.createElement("div");d.setAttribute("class","printClose"),d.setAttribute("id","printClose"),l.appendChild(d);var a=document.createElement("span");a.setAttribute("class","printSpinner"),l.appendChild(a);var y=document.createTextNode(t.modalMessage);l.appendChild(y),r.appendChild(l),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("printClose").addEventListener("click",function(){e.close()})},close:function(){var t=document.getElementById("printJS-Modal");t&&t.parentNode.removeChild(t)}};n.default=e},"./src/js/pdf.js":function(o,n,i){i.r(n);var e=i("./src/js/print.js"),c=i("./src/js/functions.js");n.default={print:function(r,l){if(r.base64){var d=Uint8Array.from(atob(r.printable),function(y){return y.charCodeAt(0)});t(r,l,d);return}r.printable=/^(blob|http|\/\/)/i.test(r.printable)?r.printable:window.location.origin+(r.printable.charAt(0)!=="/"?"/"+r.printable:r.printable);var a=new window.XMLHttpRequest;a.responseType="arraybuffer",a.addEventListener("error",function(){Object(c.cleanUp)(r),r.onError(a.statusText,a)}),a.addEventListener("load",function(){if([200,201].indexOf(a.status)===-1){Object(c.cleanUp)(r),r.onError(a.statusText,a);return}t(r,l,a.response)}),a.open("GET",r.printable,!0),a.send()}};function t(f,r,l){var d=new window.Blob([l],{type:"application/pdf"});d=window.URL.createObjectURL(d),r.setAttribute("src",d),e.default.send(f,r)}},"./src/js/print.js":function(o,n,i){i.r(n);var e=i("./src/js/browser.js"),c=i("./src/js/functions.js"),t={send:function(a,y){document.getElementsByTagName("body")[0].appendChild(y);var w=document.getElementById(a.frameId);w.onload=function(){if(a.type==="pdf"){e.default.isFirefox()?setTimeout(function(){return f(w,a)},1e3):f(w,a);return}var s=w.contentWindow||w.contentDocument;if(s.document&&(s=s.document),s.body.appendChild(a.printableElement),a.type!=="pdf"&&a.style){var v=document.createElement("style");v.innerHTML=a.style,s.head.appendChild(v)}var p=s.getElementsByTagName("img");p.length>0?r(Array.from(p)).then(function(){return f(w,a)}):f(w,a)}}};function f(d,a){try{if(d.focus(),e.default.isEdge()||e.default.isIE())try{d.contentWindow.document.execCommand("print",!1,null)}catch{d.contentWindow.print()}else d.contentWindow.print()}catch(y){a.onError(y)}finally{e.default.isFirefox()&&(d.style.visibility="hidden",d.style.left="-1px"),Object(c.cleanUp)(a)}}function r(d){var a=d.map(function(y){if(y.src&&y.src!==window.location.href)return l(y)});return Promise.all(a)}function l(d){return new Promise(function(a){var y=function w(){!d||typeof d.naturalWidth>"u"||d.naturalWidth===0||!d.complete?setTimeout(w,500):a()};y()})}n.default=t},"./src/js/raw-html.js":function(o,n,i){i.r(n);var e=i("./src/js/print.js");n.default={print:function(t,f){t.printableElement=document.createElement("div"),t.printableElement.setAttribute("style","width:100%"),t.printableElement.innerHTML=t.printable,e.default.send(t,f)}}},"./src/sass/index.scss":function(o,n,i){},0:function(o,n,i){o.exports=i("./src/index.js")}}).default})})(ut);var dn=ut.exports;const cn=Dt(dn),fe=m=>{if(!m)return!1;const S=ct(m);return S?Object.values(Oe).includes(S):!1},G=m=>m?m instanceof File?m.type==="application/pdf":Pt(m):!1,un={ref:"contentRef",class:"slider-modal__content"},fn=["onClick"],mn={class:"slider-modal__side-bar-count"},pn={class:"slider-modal__mobile-header"},hn={class:"slider-modal__mobile-header-block"},vn={class:"slider-modal__mobile-header-block"},gn={key:0,class:"slider-modal__counter"},yn=["data-testid"],_n=["src"],bn=["src"],wn={class:"slider-modal__bottom"},Sn={class:"slider-modal__nav-block"},xn=["disabled"],En=["src","alt"],Mn=["src"],In=["disabled"],Cn={class:"slider-modal__nav-block"},Pn={class:"slider-modal__sub-nav"},Tn=["disabled"],kn=["disabled"],Bn=["disabled"],Rn={class:"slider-modal__sub-nav"},On=["disabled"],An=["disabled"],Ce=80,et=20,jn=80,$n=20,ft=q({name:"SliderModal",__name:"SliderModal",props:{dataTestid:{default:"SliderModal"},animateType:{},open:{type:Boolean},position:{},width:{},height:{},items:{},defaultIndex:{default:0}},emits:["close","unmounted","end-animation"],setup(m,{emit:S}){const o=m,n=S,i=window.matchMedia("(max-width: 768px)"),e=ce({defaultIndex:o.defaultIndex,file:o.items[o.defaultIndex],sideBarItems:[],sideBarIndex:0,sideBarLength:0,isErrorFile:!1,isClickOnExit:!1,isDragging:!1,isMobile:!1,isPointerActive:!1,isExistSwipe:!1,isChangeItemSwipe:!1,isSwipeNextSlide:!1,isSwipePrevSlide:!1,isExitScrollActive:!1,zoomValue:1,offsetX:0,offsetY:0,startX:0,startY:0,startXForMobile:0,startYForMobile:0,endXForMobile:0,endYForMobile:0,overscrollDelta:0,startScrollTop:0}),c=R(null),t=R(null),f=R(null),r=R(null),l=R(null),d=R(null),a=R(null),y=R(null),w=Q(()=>e.defaultIndex===0),s=Q(()=>e.defaultIndex===o.items.length-1),v=Q(()=>{var h,C;let u=!e.file||e.isErrorFile;return u=fe((h=e.file)==null?void 0:h.path)||u,u=e.isMobile&&G((C=e.file)==null?void 0:C.path)||u,u}),p=Q(()=>{var h;let u=!e.file||e.isErrorFile;return u=fe((h=e.file)==null?void 0:h.path)||u,u}),b=Q(()=>!e.file||e.isErrorFile),x=Q(()=>{var h;let u=!e.file||e.isErrorFile;return u=fe((h=e.file)==null?void 0:h.path)||u,u}),O=Q(()=>({transform:`
    translate(${e.offsetX}px, ${e.offsetY}px)
    scale(${e.zoomValue})
  `}));W([()=>o.items,()=>o.defaultIndex],()=>{e.file=o.items[o.defaultIndex??0],e.defaultIndex=o.defaultIndex??0}),W([()=>e.file,()=>o.open],()=>{if(!o.open){xe(),e.file=null;return}e.zoomValue=1,e.file||(e.file=o.items[o.defaultIndex??0]),e.isErrorFile=!1,bt()}),W(()=>o.open,()=>{o.open&&(X(()=>{a.value&&a.value.initScroll()}),e.defaultIndex=o.defaultIndex??0)}),W(()=>e.sideBarIndex,()=>{wt()});const A=()=>{e.isClickOnExit&&n("close")},M=u=>{de(u)},I=u=>{e.sideBarIndex=u},T=u=>{e.isMobile||_t(u.deltaY)},D=()=>{ze(!0)},z=()=>{ze(!1)},K=()=>{d.value&&d.value.rotatePdf(-90),y.value&&y.value.rotateImage(-90)},Z=()=>{var k,j,H;if(!((k=e.file)!=null&&k.path))return;let u="pdf",h="",C="";Ie((j=e.file)==null?void 0:j.path)&&(u="image",h=`
        @page {
          size: A4 portrait;
          margin: 10mm;
        }
      `,C="max-height: 95vh; margin-bottom: 10px; max-width: 100%"),cn({printable:(H=e.file)==null?void 0:H.path,type:u,style:h,imageStyle:C})},ne=()=>{var u,h,C;(u=e.file)!=null&&u.path&&ln((h=e.file)==null?void 0:h.path,(C=e.file)==null?void 0:C.name)},ie=(u,h=!1)=>{const C=u.target;C&&(C.src=re),h&&(e.isErrorFile=!0)},$=()=>{a.value&&de(a.value.nextSlide())},V=()=>{a.value&&de(a.value.prevSlide())},U=u=>{if(e.isMobile)return;const h=u.target;(h===l.value||h===f.value)&&(e.isClickOnExit=!0)},ge=u=>{const h=u.target;(h===l.value||h===f.value)&&A(),e.isClickOnExit=!1},je=u=>{e.isDragging=!0,e.startX=u.clientX-e.offsetX,e.startY=u.clientY-e.offsetY},$e=u=>{e.isDragging&&(e.offsetX=u.clientX-e.startX,e.offsetY=u.clientY-e.startY,We(),requestAnimationFrame(()=>{r.value&&he(O.value,r.value)}))},ye=()=>{e.isDragging=!1},De=u=>{e.isMobile&&(e.startXForMobile=u.clientX,e.startYForMobile=u.clientY,e.isPointerActive=!0)},Le=u=>{e.isMobile&&(e.startXForMobile=u.touches[0].clientX,e.startYForMobile=u.touches[0].clientY,e.isPointerActive=!0)},ht=()=>{e.isMobile&&(Se(),we())},vt=u=>{var H,ae;if(!e.isMobile)return;const h=u.clientX,C=u.clientY,k=Math.abs(h-e.startXForMobile),j=C-e.startYForMobile;e.isExistSwipe&&j>Ce&&j>k&&n("close"),e.isChangeItemSwipe&&a.value&&(e.isSwipeNextSlide&&de((H=a.value)==null?void 0:H.nextSlide()),e.isSwipePrevSlide&&de((ae=a.value)==null?void 0:ae.prevSlide())),Se(),X(()=>{we()})},gt=u=>{var H,ae;if(!e.isMobile)return;const h=u.changedTouches[0].clientX,C=u.changedTouches[0].clientY,k=Math.abs(h-e.startXForMobile),j=C-e.startYForMobile;e.isExistSwipe&&j>Ce&&j>k&&n("close"),e.isChangeItemSwipe&&a.value&&(e.isSwipeNextSlide&&de((H=a.value)==null?void 0:H.nextSlide()),e.isSwipePrevSlide&&de((ae=a.value)==null?void 0:ae.prevSlide())),Se(),X(()=>{we()})},Ne=u=>{if(!e.isMobile||!e.isPointerActive)return;const h=u.clientY-e.startYForMobile,C=u.clientX-e.startXForMobile;Fe(C,h)},He=u=>{if(!e.isMobile)return;const h=u.touches[0].clientX,C=u.touches[0].clientY,k=h-e.startXForMobile,j=C-e.startYForMobile;Fe(k,j)},yt=u=>{const h=u.target;!e.isMobile||!h||h.scrollHeight<=h.clientHeight||!e.isExitScrollActive&&h.scrollTop===0&&u.preventDefault()},Fe=(u,h)=>{const C=Math.abs(u);if(C<h&&h>et&&!e.isChangeItemSwipe&&f.value&&f.value.scrollTop===0&&(e.isExistSwipe=!0),C>h&&C>$n&&!e.isExistSwipe&&(e.isChangeItemSwipe=!0),e.isExistSwipe){const k=Math.max(0,1-(h-et)/Ce);requestAnimationFrame(()=>{l.value&&he({opacity:k},l.value)})}if(e.isChangeItemSwipe&&C>jn){const k=e.defaultIndex===o.items.length-1,j=e.defaultIndex===0;if(u>0){if(j)return;e.isSwipePrevSlide=!0}if(u<0){if(k)return;e.isSwipeNextSlide=!0}}},we=()=>{requestAnimationFrame(()=>{l.value&&he({opacity:1},l.value)})},Se=()=>{e.isPointerActive=!1,e.isExistSwipe=!1,e.isSwipeNextSlide=!1,e.isSwipePrevSlide=!1,e.isChangeItemSwipe=!1},We=()=>{if(!f.value||!r.value)return;const u=f.value.clientWidth,h=f.value.clientHeight,C=r.value.offsetWidth*e.zoomValue,k=r.value.offsetHeight*e.zoomValue,j=Math.max(0,(C-u)/2);e.offsetX=Math.min(j,Math.max(-j,e.offsetX));const H=Math.max(0,(k-h)/2);e.offsetY=Math.min(H,Math.max(-H,e.offsetY))},ze=u=>{const h=e.zoomValue;e.zoomValue+=u?1:-1,e.zoomValue=Math.min(Math.max(1,e.zoomValue),3);const C=e.zoomValue;if(h===C)return;const k=C/h;e.offsetX*=k,e.offsetY*=k,We(),r.value&&(y.value||d.value)&&he(O.value,r.value)},de=u=>{o.items[u]&&(e.defaultIndex=u,xe(),e.file=o.items[u])},_t=u=>{let h=e.sideBarIndex;u>0?(h=e.sideBarIndex+1,h=Math.min(e.sideBarLength-1,h)):(h=e.sideBarIndex-1,h=Math.max(0,h)),e.sideBarIndex=h},bt=()=>{X(()=>{var u,h;e.file&&(G((u=e.file)==null?void 0:u.path)||G((h=e.file)==null?void 0:h.file))&&(e.isErrorFile=!0,St())})},wt=()=>{X(()=>{if(!c.value||!t.value)return;const u=c.value[e.sideBarIndex];Te(u,t.value)})},St=async()=>{var u,h;try{if(!e.file)return;const C=qe.getCache(e.file.path);let k;if(C?k=C:k=await Tt((u=e.file)==null?void 0:u.path).promise,!k){e.isErrorFile=!0;return}e.sideBarLength=k.numPages,e.sideBarItems=new Array(k.numPages).fill(((h=e.file)==null?void 0:h.path)??""),qe.setCache(e.file.path,k),xt(0),e.isErrorFile=!1}catch(C){console.error(C),e.isErrorFile=!0}},xt=async(u=0)=>{e.sideBarIndex=u},xe=()=>{e.sideBarItems=[],e.sideBarIndex=0,e.sideBarLength=0},Ee=()=>{e.isMobile=i.matches};return le(()=>{Ee(),i.addEventListener("change",Ee)}),ke(()=>{xe(),i.removeEventListener("change",Ee)}),(u,h)=>{const C=It("YIcon");return E(),te(ot,{position:"center",class:"slider-modal",ref:"modalRef",open:m.open,height:m.height,width:m.width,"animate-type":g(kt).fade,onClose:A,onEndAnimation:h[3]||(h[3]=k=>u.$emit("end-animation")),onUnmounted:h[4]||(h[4]=k=>u.$emit("unmounted")),onPointerup:vt,onPointerleave:ht,onTouchend:gt},{default:se(()=>{var k,j,H,ae,Ve,Ue,Ye,Xe,Ke;return[_("div",un,[_("div",{ref_key:"sideBarRef",ref:t,class:ue(["slider-modal__side-bar",[{"slider-modal__side-bar_active":g(G)((k=e.file)==null?void 0:k.path)||g(G)((j=e.file)==null?void 0:j.file)}]])},[(E(!0),P(me,null,Me(e.sideBarItems,(L,F)=>(E(),P("div",{ref_for:!0,ref_key:"miniItemsRef",ref:c,class:ue(["slider-modal__side-bar-item",{"slider-modal__side-bar-item_active":F===e.sideBarIndex}]),key:F},[_("div",{class:"slider-modal__mini-prewiew-wrapper",onClick:_e=>I(F)},[B(pe,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__mini-preview",src:L,page:F+1},null,8,["src","page"])],8,fn),_("div",mn,be(F+1),1)],2))),128))],2),_("div",pn,[_("div",hn,[_("div",{class:"slider-modal__exit-button",onClick:h[0]||(h[0]=L=>u.$emit("close"))},[B(C,{class:"slider-modal__exit-icon",name:g(Y).leftBig,width:16,height:16},null,8,["name"]),h[5]||(h[5]=_("div",{class:"slider-modal__exit-text"},"Назад",-1))])]),_("div",vn,[e.isMobile?(E(),P("div",gn,be(e.defaultIndex+1)+" из "+be(o.items.length),1)):oe("",!0)]),h[6]||(h[6]=_("div",{class:"slider-modal__mobile-header-block"},null,-1))]),_("div",{ref_key:"mainRef",ref:l,class:"slider-modal__main",onMousedown:N(U,["self"]),onMouseup:N(ge,["self"])},[g(G)((H=e.file)==null?void 0:H.path)||g(G)((ae=e.file)==null?void 0:ae.file)?(E(),P("div",{key:0,ref_key:"itemRef",ref:f,class:"slider-modal__item",onMousedown:N(U,["self"]),onMouseup:N(ge,["self"]),onWheel:T,onScroll:yt,onTouchstart:Le,onTouchmove:He},[e.isMobile?(E(!0),P(me,{key:1},Me(e.sideBarItems,(L,F)=>(E(),P("div",{key:F,class:"slider-modal__viewport"},[B(pe,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__pdf slider-modal__pdf_mobile",src:L,page:F+1},null,8,["src","page"])]))),128)):(E(),P("div",{key:0,ref_key:"viewportRef",ref:r,class:"slider-modal__viewport",onMousedown:N(je,["stop"]),onMousemove:$e,onMouseup:ye,onMouseleave:ye},[B(pe,{class:"slider-modal__pdf",ref_key:"pdfRef",ref:d,src:(Ve=e==null?void 0:e.file)==null?void 0:Ve.path,page:e.sideBarIndex+1},null,8,["src","page"])],544))],544)):g(Ie)((Ue=e.file)==null?void 0:Ue.path)?(E(),P("div",{key:1,ref_key:"itemRef",ref:f,class:"slider-modal__item",onClick:N(A,["self"]),onPointerdown:De,onPointermove:Ne},[_("div",{ref_key:"viewportRef",ref:r,class:"slider-modal__viewport",onMousedown:N(je,["stop"]),onMousemove:$e,onMouseup:ye,onMouseleave:ye},[B(dt,{ref_key:"imagePreviewRef",ref:y,class:"slider-modal__image",src:(Ye=e.file)==null?void 0:Ye.path,onError:h[1]||(h[1]=L=>ie(L,!0))},null,8,["src"])],544)],544)):g(fe)((Xe=e.file)==null?void 0:Xe.path)?(E(),P("div",{key:2,class:"slider-modal__item",onClick:N(A,["self"]),onTouchstart:N(Le,["prevent"]),onTouchmove:N(He,["prevent"])},[_("video",{controls:"",playsinline:"","webkit-playsinline":"",class:"slider-modal__video","data-testid":`${o.dataTestid}-Video`,onError:h[2]||(h[2]=L=>ie(L,!0))},[_("source",{src:((Ke=e.file)==null?void 0:Ke.path)??""},null,8,_n)],40,yn)],32)):(E(),P("div",{key:3,class:"slider-modal__item",onClick:N(A,["self"]),onPointerdown:De,onPointermove:Ne},[_("img",{class:"slider-modal__image",src:g(re)},null,8,bn)],32)),_("div",wn,[h[7]||(h[7]=_("div",{class:"slider-modal__nav-block"},[_("br")],-1)),_("div",Sn,[o.items.length>1?(E(),P(me,{key:0},[_("button",{class:"slider-modal__side-button",disabled:w.value,onClick:V},[B(J,{class:"slider-modal__icon",name:g(Y).leftBig,width:24,height:24},null,8,["name"])],8,xn),B(st,{ref_key:"sliderRef",ref:a,class:"slider-modal__bottom-slider","active-index":e.defaultIndex},{default:se(()=>[(E(!0),P(me,null,Me(o.items,(L,F)=>(E(),te(rt,{class:ue(["slider-modal__slide",{"slider-modal__slide_active":F===e.defaultIndex}]),key:F,"is-active":F===e.defaultIndex,onClick:_e=>M(F)},{default:se(()=>{var _e;return[g(Ie)(L.path)?(E(),P("img",{key:0,class:"slider-modal__slide-image",src:L.path,alt:L.path,onError:ie},null,40,En)):g(G)(L.path)||g(G)((_e=e.file)==null?void 0:_e.file)?(E(),te(pe,{key:1,class:"slider-modal__slide-image",src:L.path,page:1},null,8,["src"])):g(fe)(L.path)?(E(),te(Ae,{key:2,class:"slider-modal__slide-image",src:L.path},null,8,["src"])):(E(),P("img",{key:3,class:"slider-modal__slide-image",src:g(re)},null,8,Mn))]}),_:2},1032,["class","is-active","onClick"]))),128))]),_:1},8,["active-index"]),_("button",{class:"slider-modal__side-button",disabled:s.value,onClick:$},[B(J,{class:"slider-modal__icon",name:g(Y).rightBig,width:24,height:24},null,8,["name"])],8,In)],64)):oe("",!0)]),_("div",Cn,[_("div",Pn,[_("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:x.value,onClick:z},[B(J,{class:"slider-modal__icon",name:g(Y).zoomMinus,width:24,height:24},null,8,["name"])],8,Tn),_("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:x.value,onClick:D},[B(J,{class:"slider-modal__icon",name:g(Y).zoomPlus,width:24,height:24},null,8,["name"])],8,kn),_("button",{class:"slider-modal__side-button",disabled:v.value,onClick:K},[B(J,{class:"slider-modal__icon",name:g(Y).reset,width:24,height:24},null,8,["name"])],8,Bn)]),_("div",Rn,[_("button",{class:"slider-modal__side-button",disabled:b.value,onClick:ne},[B(J,{class:"slider-modal__icon",name:g(Y).uploadCloud,width:24,height:24},null,8,["name"])],8,On),_("button",{class:"slider-modal__side-button slider-modal__side-button_printer",disabled:p.value,onClick:Z},[B(J,{class:"slider-modal__icon",name:g(Y).printer,width:24,height:24},null,8,["name"])],8,An)])])])],544)],512)]}),_:1},8,["open","height","width","animate-type"])}}}),Dn=Be(ft,[["__scopeId","data-v-e7a700ff"]]);ft.__docgenInfo={name:"SliderModal",exportName:"default",displayName:"SliderModal",description:"",tags:{},props:[{name:"defaultIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"animateType",required:!1,type:{name:"ModalAnimateEnum"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]}},{name:"width",required:!1,type:{name:"string"}},{name:"height",required:!1,type:{name:"string"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'SliderModal'"}}],events:[{name:"end-animation"},{name:"unmounted"},{name:"close"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/SliderModal.vue"]};const Ln=["data-testid"],Nn=["data-testid"],Hn=["disabled","data-testid"],Fn=["data-testid"],Wn=["data-testid"],zn=["src","data-testid"],Vn=["data-testid"],Un=["data-testid"],Yn=["src"],Xn=["src","data-testid"],Kn=["disabled","data-testid"],mt=q({__name:"Slider",props:{items:{},defaultIndex:{},dataTestid:{default:"Slider"}},setup(m,{expose:S}){const o=m,n=ce({files:o.items.length?o.items:[],file:null,currentIndex:o.defaultIndex||0,extension:null,filePath:null,isShowSliderModal:!1,indexModal:0});W(()=>n.file,()=>{var p;n.filePath=((p=n.file)==null?void 0:p.path)??null},{immediate:!0}),W(()=>o.items,()=>{n.files=o.items.length?o.items:[]});const i=()=>{n.filePath=re},e=p=>{if(!p)return;const b=n.files.findIndex(x=>p.path===x.path);b!==-1&&(n.indexModal=b,n.isShowSliderModal=!0)},c=()=>{n.isShowSliderModal=!1},t=()=>{var p;return(p=o.items)!=null&&p.length?n.currentIndex===o.items.length-1:!0},f=p=>{if(!p)return null;const b=p.split("?")[0],x=/\.\w+$/,O=b.match(x);return n.extension=O?O[0].replace(".",""):null,n.extension},r=p=>{const b=f(p);return b?Object.values(Re).includes(b.toLowerCase()):!1},l=p=>{const b=f(p);return b?Object.values(Oe).includes(b):!1},d=p=>f(p)==="pdf",a=()=>{n.currentIndex--,n.file=n.files[n.currentIndex]},y=()=>{n.currentIndex++,n.file=n.files[n.currentIndex]},w=()=>n.files.length===0,s=()=>{var p,b,x;return r(((p=n.file)==null?void 0:p.path)??null)==!1&&l(((b=n.file)==null?void 0:b.path)??null)==!1&&d(((x=n.file)==null?void 0:x.path)??null)==!1&&n.files.length>0};le(()=>{if(!o.items)return 0;n.files=o.items,o.defaultIndex&&(n.file=n.files[n.currentIndex]),n.file=n.files[n.currentIndex]});const v=p=>{p>=0&&p<n.files.length&&(n.currentIndex=p,n.file=n.files[n.currentIndex])};return W(()=>o.items,()=>{n.files=o.items},{deep:!0}),S({setSlide:v}),(p,b)=>{var x,O,A,M,I;return E(),P("div",{class:"slider-yui-kit","data-testid":o.dataTestid},[_("div",{class:"slider-yui-kit__wrapper",ref:"slider-yui-kitWrapperRef","data-testid":`${o.dataTestid}-Wrapper`},[_("button",{class:"slider-yui-kit__button slider-yui-kit__button--prev",onClick:a,disabled:n.currentIndex===0,"data-testid":`${o.dataTestid}-Prev-Button`},[B(J,{name:g(Y).leftBig,"data-testid":`${o.dataTestid}-Prev-Icon`},null,8,["name","data-testid"])],8,Hn),_("div",{class:"slider-yui-kit__slides","data-testid":`${o.dataTestid}-Slides-Container`},[w()?(E(),P("div",{key:0,class:"placeholder-yui-kit no-content","data-testid":`${o.dataTestid}-NoContent-Placeholder`},[_("img",{src:g(re),alt:"",width:"111px",height:"111px","data-testid":`${o.dataTestid}-NoContent-Image`},null,8,zn),_("p",{"data-testid":`${o.dataTestid}-NoContent-Paragrpah`}," Контент отсутствует ",8,Vn)],8,Wn)):s()?(E(),P("div",{key:1,class:"placeholder-yui-kit","data-testid":`${o.dataTestid}-Invalid-Extension-Placeholder`},[_("img",{src:g(re),alt:"",width:"111px",height:"111px"},null,8,Yn),_("p",null,"."+be(n.extension),1)],8,Un)):(E(),P(me,{key:2},[r(((x=n.file)==null?void 0:x.path)??"")?(E(),P("img",{key:0,class:"slider__item",src:n.filePath??"","data-testid":`${o.dataTestid}-Image`,onClick:b[0]||(b[0]=T=>e(n.file)),onError:i},null,40,Xn)):l(((O=n.file)==null?void 0:O.path)??"")?(E(),te(Ae,{key:1,class:"slider__item",src:((A=n.file)==null?void 0:A.path)??"",onClick:b[1]||(b[1]=T=>e(n.file))},null,8,["src"])):d(((M=n.file)==null?void 0:M.path)??"")?(E(),te(pe,{key:2,class:"slider-yui-kit__pdf-preview slider__item",src:(I=n.file)==null?void 0:I.path,onClick:b[2]||(b[2]=T=>e(n.file))},null,8,["src"])):oe("",!0)],64))],8,Fn),_("button",{class:"slider-yui-kit__button slider-yui-kit__button--next",onClick:y,disabled:t(),"data-testid":`${o.dataTestid}-Next-Button`},[B(J,{name:g(Y).rightBig,"data-testid":`${o.dataTestid}-Next-Icon`},null,8,["name","data-testid"])],8,Kn)],8,Nn),(E(),te(Ct,{to:"body"},[B(Dn,{open:n.isShowSliderModal,items:n.files,"default-index":n.indexModal,onClose:c},null,8,["open","items","default-index"])]))],8,Ln)}}}),pt=Be(mt,[["__scopeId","data-v-40ac125b"]]);mt.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},expose:[{name:"setSlide"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Slider'"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"defaultIndex",required:!1,type:{name:"number"}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/Slider.vue"]};const Jn=[{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.jpg"},{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.woff"},{path:"https://videocdn.cdnpk.net/joy/content/video/free/video0467/large_preview/_import_61557331a47cb7.87464437.mp4?filename=1109668_stairs_standard_dawn_1920x1080.mp4"},{path:"https://www.sunhome.ru/i/wallpapers/210/voronie-loshadi.orig.jpg"}],qi={title:"Slider/Slider",component:pt,argTypes:{defaultIndex:{control:{type:Ge.number}},items:{control:{type:Ge.object}}},args:{onClick:Lt()},parameters:{layout:"center"},tags:["autodocs"]},qn=m=>({components:{Slider:pt},setup(){return{args:m}},template:`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> `}),ve=qn.bind({});ve.args={items:Jn,defaultIndex:0};var tt,nt,it;ve.parameters={...ve.parameters,docs:{...(tt=ve.parameters)==null?void 0:tt.docs,source:{originalSource:`args => ({
  components: {
    Slider
  },
  setup() {
    return {
      args
    };
  },
  template: \`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> \`
})`,...(it=(nt=ve.parameters)==null?void 0:nt.docs)==null?void 0:it.source}}};const Zi=["Default"];export{ve as Default,Zi as __namedExportsOrder,qi as default};
