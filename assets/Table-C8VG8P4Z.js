import{p as x,d as B,r,o as M,l as i,E as T,H as c,q as _,s as n,m as S,v as E,y as m}from"./vue.esm-bundler-B9HtKiky.js";import{H as O,T as W,b as P}from"./SectionTableRow-BsnNTqgO.js";import{c as w}from"./change-style-properties-1EhjFsjc.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U=["id","data-testid"],D=["id","data-testid"],F=["id","data-testid"],R=x({name:"TableNew",__name:"Table",props:{tableId:{},search:{},tbodyId:{},theadId:{},columnCount:{},dataTestid:{default:"Table"},isShowVerticalScroll:{type:Boolean,default:!1},isShowHorizontalScroll:{type:Boolean,default:!1}},emits:["unmount-scroll","unmount-paginate"],setup($,{expose:C,emit:H}){var y;const a=$,h=H,d=B({headHeight:0,maxColumnCount:0}),s=r(null),l=r(null),f=r(null),p=r(null),o=r(null),I=e=>{h("unmount-scroll",e)},k=e=>h("unmount-paginate",e),u=()=>{if(!s.value||!o.value)return;const e=s.value.querySelector("thead");if(!e)return;const t=e.getBoundingClientRect().height;d.headHeight=t,w({"--scroll-track-margin-top":`${t}px`},o.value.$el)},q=()=>{o.value&&o.value.scrollToTop()},V=()=>{if(o.value&&p.value){const e=getComputedStyle(o.value.$el),t=Number(e.minHeight.replace(/\D/g,""));if(t&&t>0)return;w({"min-height":`${d.headHeight+108}px`},o.value.$el)}},b=()=>{let e=1;if(l.value){for(let t=0;t<l.value.children.length;t++)e=Math.max(l.value.children[t].children.length,e);d.maxColumnCount=e}},z=new MutationObserver(()=>{b()}),N=new ResizeObserver(()=>{u()});return C({scrollToTop:q,setHeightSlot:(y=o.value)==null?void 0:y.setHeightSlot,tbodyRef:f,tableRef:s,theadRef:l}),M(()=>{u(),b(),window.addEventListener("resize",u),s.value&&N.observe(s.value),l.value&&z.observe(l.value,{childList:!0,subtree:!0}),V()}),(e,t)=>(i(),T(P,{ref_key:"scrollWrapperRef",ref:o,class:"table",onUnmountScroll:I,onUnmountPaginate:k,"is-show-vertical-scroll":a.isShowVerticalScroll,"is-show-horizontal-scroll":a.isShowHorizontalScroll,"data-testid":`${a.dataTestid}-ScrollWrapper`},{default:c(()=>[_("table",{ref_key:"tableRef",ref:s,id:a.tableId,class:"table__table","data-testid":`${a.dataTestid}`},[n(e.$slots,"default",{},()=>{var v;return[_("colgroup",null,[n(e.$slots,"colspan",{},void 0,!0)]),e.$slots.head?(i(),S("thead",{key:0,ref_key:"theadRef",ref:l,id:a.theadId,class:"table__head","data-testid":`${a.dataTestid}-Thead`},[n(e.$slots,"head",{},void 0,!0),e.$slots.search?(i(),T(O,{key:0,class:"table__search-tr",id:(v=a.search)==null?void 0:v.rowId,ref_key:"searchRowRef",ref:p,"data-testid":`${a.dataTestid}-Search-Row`},{default:c(()=>{var g;return[E(W,{colspan:a.columnCount||d.maxColumnCount,class:"table__search-th",id:(g=a.search)==null?void 0:g.headId,"data-testid":`${a.dataTestid}-SearchRow-Search`},{default:c(()=>[n(e.$slots,"search",{},void 0,!0)]),_:3},8,["colspan","id","data-testid"])]}),_:3},8,["id","data-testid"])):m("",!0)],8,D)):m("",!0),n(e.$slots,"body-group",{},()=>[e.$slots.body?(i(),S("tbody",{key:0,id:a.tbodyId,ref_key:"tbodyRef",ref:f,class:"table__body","data-testid":`${a.dataTestid}-Tbody`},[n(e.$slots,"body",{},void 0,!0)],8,F)):m("",!0)],!0)]},!0)],8,U)]),_:3},8,["is-show-vertical-scroll","is-show-horizontal-scroll","data-testid"]))}}),K=L(R,[["__scopeId","data-v-05e4d9e1"]]);R.__docgenInfo={name:"TableNew",exportName:"default",displayName:"Table",description:"",tags:{},expose:[{name:"scrollToTop"},{name:"setHeightSlot"},{name:"tbodyRef"},{name:"tableRef"},{name:"theadRef"}],props:[{name:"isShowHorizontalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isShowVerticalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Table'"}},{name:"tableId",required:!1,type:{name:"string"}},{name:"search",required:!1,type:{name:`{
    rowId?: string;
    headId?: string;
}`}},{name:"tbodyId",required:!1,type:{name:"string"}},{name:"theadId",required:!1,type:{name:"string"}},{name:"columnCount",required:!1,type:{name:"number"}}],events:[{name:"unmount-scroll",type:{names:["Event"]}},{name:"unmount-paginate",type:{names:["boolean"]}}],slots:[{name:"default"},{name:"colspan"},{name:"head"},{name:"search"},{name:"body-group"},{name:"body"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/Table.vue"]};export{K as T};
