import{j as M,k as l,l as k,C as d,B as u,p as q,q as Q,D as P,r as z,w as H,F as G,E as J,x as C,z as _,u as O,m as I,b as K,f as U}from"./vue.esm-bundler-BS9OZKXr.js";import{B as W,a as X}from"./Button-By03twho.js";import{a as D,I as r}from"./Icon-CDFjbdWL.js";import{A as Y}from"./Avatar-BPy6V1tx.js";import{P as Z}from"./Popover-4KtUrD78.js";import{S as ee}from"./Switch-qk3gp8Y5.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as te}from"./Toggle-BKvOKFzX.js";import{S as N}from"./storybook-BJU81olc.js";import"./sizes-9jYRAigb.js";import"./index-Bw18-9Qm.js";import"./Tooltip-Dzotirrz.js";import"./change-style-properties-1EhjFsjc.js";const ae=["data-testid"],se={class:"list-yui-kit__item-text"},j=M({__name:"MenuItem",props:{active:{type:Boolean},disabled:{type:Boolean},dataTestid:{},iconName:{},text:{},menuType:{}},emits:["click"],setup(s,{emit:p}){const t=p,n=()=>{s.disabled||t("click",s.menuType)};return(o,y)=>(l(),k("li",{class:P(["list-yui-kit__item",{"list-yui-kit__item--disabled":s.disabled,"list-yui-kit__item--active":s.active}]),onClick:n,"data-testid":s.dataTestid},[d(D,{name:s.iconName},null,8,["name"]),u("span",se,q(s.text),1),Q(o.$slots,"default",{},void 0,!0)],10,ae))}}),ne=B(j,[["__scopeId","data-v-2e49f660"]]);j.__docgenInfo={exportName:"default",displayName:"MenuItem",description:"",tags:{},props:[{name:"active",required:!1,type:{name:"boolean"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"dataTestid",required:!0,type:{name:"string"}},{name:"iconName",required:!0,type:{name:"IconNameEnum"}},{name:"text",required:!0,type:{name:"string"}},{name:"menuType",required:!0,type:{name:"MenuTypeEnum"}}],events:[{name:"click",type:{names:["MenuTypeEnum"]}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/UserMenu/MenuItem.vue"]};var e=(s=>(s.profile="profile",s.theme="theme",s.options="options",s.exit="exit",s.qrAuth="qr-auth",s.help="help",s))(e||{});const oe={class:"menu-yui-kit__list"},ie={class:"list-yui-kit"},F=M({__name:"UserMenuList",props:{closeAfterClick:{type:Boolean},menuOpen:{type:Boolean},categories:{},texts:{},user:{},languages:{},isBlackTheme:{type:Boolean},dataTestid:{default:"UserMenuList"}},emits:["click","unmount-qr-auth","themeChange","languageSwitch"],setup(s,{emit:p}){const t=s,n=p,o=z(null);H(()=>t.menuOpen,a=>{a||(o.value=null)});const y=a=>{if(o.value=a,a===e.qrAuth){n("unmount-qr-auth");return}n("click",a)},v=a=>{n("languageSwitch",a)},w=()=>!1,S=a=>({[e.profile]:"Profile",[e.qrAuth]:"Auth with QR",[e.theme]:"Theme",[e.options]:"Settings",[e.exit]:"Log Out",[e.help]:"Help"})[a]??"",b=a=>({[e.profile]:r.profile,[e.qrAuth]:r.qrCode,[e.theme]:r.darkThemeSwitcher,[e.options]:r.settings,[e.exit]:r.logout,[e.help]:r.help})[a]??r.profile,x=a=>({[e.profile]:"Profile",[e.qrAuth]:"QR",[e.theme]:"Theme",[e.options]:"Settings",[e.exit]:"Exit",[e.help]:"Help"})[a]??a,T=a=>a===e.theme;return(a,c)=>{var m,h,f;return l(),k("div",oe,[u("ul",ie,[(l(!0),k(G,null,J(t.categories,i=>{var A;return l(),C(ne,{key:i,"data-testid":`${t.dataTestid}-${x(i)}-Item`,iconName:b(i),text:((A=t.texts)==null?void 0:A[i])??S(i),menuType:i,disabled:T(i),active:o.value===i,onClick:()=>y(i)},{default:_(()=>[i===O(e).theme?(l(),C(te,{key:0,disabled:"",onChange:w})):I("",!0)]),_:2},1032,["data-testid","iconName","text","menuType","disabled","active","onClick"])}),128))]),(m=t.languages)!=null&&m.items?(l(),C(ee,{key:0,items:(h=t.languages)==null?void 0:h.items,"default-value":(f=t.languages)==null?void 0:f.defaultValue,onChange:v,"data-testid":`${t.dataTestid}-Language-Switch`},null,8,["items","default-value","data-testid"])):I("",!0)])}}}),re=B(F,[["__scopeId","data-v-e7bfc787"]]);F.__docgenInfo={exportName:"default",displayName:"UserMenuList",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'UserMenuList'"}},{name:"isBlackTheme",required:!1,type:{name:"boolean"}},{name:"languages",required:!1,type:{name:"ISwitchProps"}},{name:"closeAfterClick",required:!1,type:{name:"boolean"}},{name:"menuOpen",required:!1,type:{name:"boolean"}},{name:"categories",required:!1,type:{name:"Array",elements:[{name:"MenuTypeEnum"}]}},{name:"texts",required:!1,type:{name:"Partial",elements:[{name:"Record",elements:[{name:"MenuTypeEnum"},{name:"string"}]}]}}],events:[{name:"click",type:{names:["MenuTypeEnum"]}},{name:"unmount-qr-auth"},{name:"themeChange",type:{names:["boolean"]}},{name:"languageSwitch",type:{names:["IChangeSwitchEmit"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/UserMenu/UserMenuList.vue"]};const le=["data-testid"],ue={class:"menu-yui-kit__wrapper"},ce={class:"menu-yui-kit__names"},me={class:"menu-yui-kit__name"},de={class:"menu-yui-kit__role"},V=M({__name:"UserMenu",props:{closeAfterClick:{type:Boolean},menuOpen:{type:Boolean},categories:{},texts:{},user:{},languages:{},isBlackTheme:{type:Boolean},dataTestid:{default:"UserMenu"}},emits:["click","unmount-qr-auth","themeChange","languageSwitch"],setup(s,{emit:p}){const t=s,n=K({isShow:!1,isBlackTheme:t.isBlackTheme??!1}),o=p,y=U(()=>({"menu-yui-kit__heading":!0,"active-yui-kit":n.isShow}));function v(a){o("click",a),t.closeAfterClick&&(n.isShow=!1)}const w=U(()=>n.isShow?r.chevronUp:r.chevronDown),S=()=>{n.isShow=!n.isShow};function b(a){t.closeAfterClick&&(n.isShow=!1),o("themeChange",a),n.isBlackTheme=a}const x=a=>{t.closeAfterClick&&(n.isShow=!1),o("languageSwitch",a)},T=()=>{t.closeAfterClick&&(n.isShow=!1),o("unmount-qr-auth")};return(a,c)=>(l(),k("div",{class:"menu-yui-kit","data-testid":t.dataTestid},[u("div",ue,[d(Z,{open:n.isShow,onClose:c[0]||(c[0]=m=>n.isShow=!1),placement:"bottom-start","data-testid":`${t.dataTestid}-Popover`},{trigger:_(()=>{var m,h,f;return[u("div",{class:P(y.value),onClick:S},[d(Y,{class:"menu-yui-kit__avatar",url:(m=t.user)==null?void 0:m.avatar,alt:"user-avatar","data-testid":`${t.dataTestid}-Avatar`},null,8,["url","data-testid"]),u("div",ce,[u("p",me,q((h=t.user)==null?void 0:h.name),1),u("p",de,q((f=t.user)==null?void 0:f.role),1)]),d(W,{type:O(X).ghost,class:"menu-yui-kit__button","data-testid":`${t.dataTestid}-Toggle`},{default:_(()=>[d(D,{class:"menu-yui-kit__button-icon",name:w.value},null,8,["name"])]),_:1},8,["type","data-testid"])],2)]}),default:_(()=>[d(re,{"data-testid":`${t.dataTestid}-List`,"is-black-theme":n.isBlackTheme,"menu-open":n.isShow,languages:t.languages,categories:t.categories,texts:t.texts,onClick:v,onThemeChange:b,onLanguageSwitch:x,onUnmountQrAuth:T},null,8,["data-testid","is-black-theme","menu-open","languages","categories","texts"])]),_:1},8,["open","data-testid"])])],8,le))}}),R=B(V,[["__scopeId","data-v-0c8ef81a"]]);V.__docgenInfo={exportName:"default",displayName:"UserMenu",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'UserMenu'"}},{name:"isBlackTheme",required:!1,type:{name:"boolean"}},{name:"languages",required:!1,type:{name:"ISwitchProps"}},{name:"closeAfterClick",required:!1,type:{name:"boolean"}},{name:"menuOpen",required:!1,type:{name:"boolean"}},{name:"categories",required:!1,type:{name:"Array",elements:[{name:"MenuTypeEnum"}]}},{name:"texts",required:!1,type:{name:"Partial",elements:[{name:"Record",elements:[{name:"MenuTypeEnum"},{name:"string"}]}]}}],events:[{name:"click",type:{names:["MenuTypeEnum"]}},{name:"unmount-qr-auth"},{name:"themeChange",type:{names:["boolean"]}},{name:"languageSwitch",type:{names:["IChangeSwitchEmit"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/UserMenu/UserMenu.vue"]};const qe={title:"UserMenu/UserMenu",component:R,argTypes:{user:{control:{type:"object"}},languages:{control:{type:"object"}},categories:{control:{type:"object"}},texts:{control:{type:"object"}},categoryLabels:{control:{type:"object"}},isBlackTheme:{control:{type:N.boolean}},closeAfterClick:{control:{type:N.boolean}}},tags:["autodocs"]},pe=s=>({components:{UserMenu:R},setup(){return{args:s}},template:'<UserMenu v-bind="args"/> '}),g=pe.bind({});g.args={user:{name:"David Perov",role:"Администратор",avatar:"/default-avatar.jpg"},languages:{items:["En","Ru"]},categories:[e.profile,e.theme,e.options,e.help,e.exit],texts:{[e.profile]:"My Profile",[e.options]:"Preferences"},isBlackTheme:!1,closeAfterClick:!0};var $,E,L;g.parameters={...g.parameters,docs:{...($=g.parameters)==null?void 0:$.docs,source:{originalSource:`args => ({
  components: {
    UserMenu
  },
  setup() {
    return {
      args
    };
  },
  template: \`<UserMenu v-bind="args"/> \`
})`,...(L=(E=g.parameters)==null?void 0:E.docs)==null?void 0:L.source}}};const Me=["Default"];export{g as Default,Me as __namedExportsOrder,qe as default};
