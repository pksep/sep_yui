import{p as C,d as w,w as _,k as L,l as p,m as f,A as j,F as b,q as c,z as B,y as T,s as m,B as v,r as g,N as V,o as N,a as R,H as k,u as H,V as I,J as E}from"./vue.esm-bundler-D8QwmNJd.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{v as F}from"./index-DtW3Gt5I.js";const q=n=>n!==null&&typeof n=="object"&&"hint"in n,Q=n=>n!==null&&Array.isArray(n)&&q(n[0]);function r(n){return n!==null&&typeof n=="object"&&"key"in n}function X(n){return n!==null&&Array.isArray(n)&&typeof n[0]=="object"&&"key"in n[0]}const x=["onClick","data-testid"],D={class:"options__item"},W={class:"options__value truncate-yui-kit"},z={key:0,class:"options__used"},S=C({__name:"Options",props:{options:{},defaultOption:{},class:{},disabled:{type:Boolean},dataTestid:{default:"Options"}},emits:["change"],setup(n,{emit:O}){const t=n,e=w({choosedOption:t.defaultOption??(t.options[0]||""),lengthOption:0});_(()=>t.defaultOption,()=>{t.defaultOption?e.choosedOption=t.defaultOption:e.choosedOption=""},{immediate:!0});const o=O,d=L(()=>({"select-list-yui-kit__item":!0,"truncate-yui-kit":!0})),l=s=>{e.choosedOption=s,r(e.choosedOption)?o("change",e.choosedOption.key):o("change",e.choosedOption)},u=s=>{let a=!1;return r(s)?r(e.choosedOption)?s.value===e.choosedOption.value&&(a=!0):((s.key==="null"||s.key===null)&&e.choosedOption===""&&(a=!0),s.value===e.choosedOption&&(a=!0)):r(e.choosedOption)?s===e.choosedOption.value&&(a=!0):s===e.choosedOption&&(a=!0),{active:a}},y=s=>q(s)?s.hint:r(s)?s.value:s;return(s,a)=>(p(!0),f(b,null,j(t.options,(i,h)=>(p(),f(b,{key:h},[c("li",{class:v([d.value,u(i),t.class]),onClick:()=>l(i),"data-testid":`${t.dataTestid}-${h}`},[c("div",D,[c("div",W,B(y(i)),1),typeof i=="object"&&(i!=null&&i.used)?(p(),f("div",z)):T("",!0)]),m(s.$slots,"option",{inx:h},void 0,!0)],10,x),m(s.$slots,"default",{},void 0,!0)],64))),128))}}),Y=$(S,[["__scopeId","data-v-c19494ee"]]);S.__docgenInfo={exportName:"default",displayName:"Options",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Options'"}},{name:"options",required:!0,type:{name:"union",elements:[{name:"Array",elements:[{name:"string"}]},{name:"Array",elements:[{name:"OptionsObject"}]},{name:"Array",elements:[{name:"IOptionsObjectWithHint"}]}]}},{name:"defaultOption",required:!1,type:{name:"string"}},{name:"class",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"}}],events:[{name:"change",type:{names:["string"]}}],slots:[{name:"option",scoped:!0,bindings:[{name:"inx",title:"binding"}]},{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Select/Options.vue"]};const K=["data-testid"],J=["data-testid"],M=["open","data-testid"],A=C({__name:"SelectList",props:{isOpened:{type:Boolean,default:!1},disableOpen:{type:Boolean},headerClasses:{},optionsClasses:{},disabled:{type:Boolean},dataTestid:{default:"SelectList"}},emits:["change","focusout-options"],setup(n,{emit:O}){const t=n,e=w({isOpened:!1}),o=g(null),d=g(null),l=O;V(()=>e.isOpened=t.isOpened);const u=()=>{t.disabled||t.disableOpen||(e.isOpened=!e.isOpened,l("change",e.isOpened))},y=()=>{e.isOpened=!1,l("focusout-options"),l("change",e.isOpened)},s=()=>{if(d.value&&o.value&&e.isOpened){const a=d.value.getBoundingClientRect();o.value.style.top=`${a.top+a.height}px`}};return _(()=>t.isOpened,()=>{e.isOpened=t.isOpened}),_(()=>e.isOpened,s),N(()=>{window.addEventListener("scroll",s,!0)}),R(()=>{window.removeEventListener("scroll",s,!0)}),(a,i)=>k((p(),f("div",{class:"select-list-yui-kit","data-testid":t.dataTestid},[c("div",{ref_key:"currentRef",ref:d,class:v(["select-list-yui-kit__current",{"active-yui-kit":e.isOpened},{"disabled-yui-kit":t.disabled},t==null?void 0:t.headerClasses]),tabindex:"0",onKeyup:I(u,["enter"]),onClick:u,"data-testid":`${t.dataTestid}-Current`},[m(a.$slots,"header",{},void 0,!0)],42,J),k(c("ul",{ref_key:"dropdownRef",ref:o,class:v(["select-list-yui-kit__list",t==null?void 0:t.optionsClasses]),open:e.isOpened,"data-testid":`${t.dataTestid}-OptionsList`},[m(a.$slots,"options",{},void 0,!0)],10,M),[[E,e.isOpened]])],8,K)),[[H(F),y,void 0,{bubble:!0}]])}}),Z=$(A,[["__scopeId","data-v-17dfd163"]]);A.__docgenInfo={exportName:"default",displayName:"SelectList",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'SelectList'"}},{name:"isOpened",required:!0,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disableOpen",required:!1,type:{name:"boolean"}},{name:"headerClasses",required:!1,type:{name:"VueClasses"}},{name:"optionsClasses",required:!1,type:{name:"VueClasses"}},{name:"disabled",required:!1,type:{name:"boolean"}}],events:[{name:"change",type:{names:["boolean"]}},{name:"focusout-options"}],slots:[{name:"header"},{name:"options"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Select/SelectList.vue"]};export{Y as O,Z as S,q as a,Q as b,X as i};
