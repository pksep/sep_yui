import{j as y,b as v,v as p,w as x,k as V,H as w,I as d,B as k,C as M,x as S,N as T,E as q,F as I}from"./vue.esm-bundler-DC1UwcWE.js";import{O as B,S as N}from"./SelectList-gUknga8t.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as D}from"./storybook-BJU81olc.js";import{f as F}from"./index-CGbn3E6N.js";import"./index-BqoPcbcE.js";const L=["placeholder","data-testid"],f=y({__name:"Combobox",props:{options:{},placeholder:{},disableOpen:{type:Boolean},defaultOption:{},class:{},disabled:{type:Boolean,default:!1},dataTestid:{default:"Combobox"}},emits:["change","error","focusout-option"],setup(r,{emit:b}){const n=b,a=r,e=v({isOpened:!1,placeholder:a.placeholder,values:a.options,searchValue:""}),O=()=>{n("focusout-option")},g=o=>{var t;(((t=e.values)==null?void 0:t.length)!=0||!a.disableOpen)&&(e.isOpened=o,!e.isOpened&&e.searchValue!=""&&n("error"))};p(()=>e.values=a.options),p(()=>e.searchValue=a.defaultOption||""),x(()=>e.searchValue,()=>{e.searchValue==""&&(e.values=a.options)});const l=()=>{var o;e.isOpened=!0,e.values=a.options.filter(t=>e.searchValue.toLowerCase().split(" ").every(i=>t.toLowerCase().includes(i))),n("change",e.searchValue),((o=e.values)==null?void 0:o.length)==0&&(e.isOpened=!1)},_=o=>{e.searchValue=o,e.isOpened=!1,n("change",o)};return(o,t)=>{var i;return V(),w(N,{onChange:g,"is-opened":e.isOpened,"disable-open":((i=e.values)==null?void 0:i.length)==0,class:I(a.class),disabled:a.disabled,onFocusoutOptions:O,"header-classes":"filter__header","options-classes":"filter__options","data-testid":a.dataTestid},{header:d(()=>[k(S("input",{type:"search",class:"combobox__input","onUpdate:modelValue":t[0]||(t[0]=C=>e.searchValue=C),placeholder:e.placeholder,onKeydown:T(l,["enter"]),onInput:l,"data-testid":`${a.dataTestid}-Input`},null,40,L),[[M,e.searchValue]])]),options:d(()=>[q(B,{"default-option":e.searchValue,options:e.values,onChange:_,"data-testid":`${a.dataTestid}-Options`},null,8,["default-option","options","data-testid"])]),_:1},8,["is-opened","disable-open","class","disabled","data-testid"])}}}),h=E(f,[["__scopeId","data-v-3d8641f6"]]);f.__docgenInfo={exportName:"default",displayName:"Combobox",description:"",tags:{},props:[{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"class",required:!1,type:{name:"string"}},{name:"defaultOption",required:!1,type:{name:"string"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Combobox'"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"string"}]}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"disableOpen",required:!1,type:{name:"boolean"}}],events:[{name:"change",type:{names:["string"]}},{name:"error",type:{names:["void"]}},{name:"focusout-option"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Select/Combobox.vue"]};const j=["MainOptionMainOptionMainOption","Option1MainOptionMainOption","Option2MainOptionMainOption","Option3","Option4"],J={title:"Select/Combobox",component:h,argTypes:{optionsItems:{type:D.object,onClick:{action:"clicked"}}},tags:["autodocs"],args:{onClick:F()}},K=r=>({components:{Combobox:h},setup(){return{args:r}},template:`
    <Combobox v-bind="args" />
  `}),s=K.bind({});s.args={options:j};var c,u,m;s.parameters={...s.parameters,docs:{...(c=s.parameters)==null?void 0:c.docs,source:{originalSource:`args => ({
  components: {
    Combobox
  },
  setup() {
    return {
      args
    };
  },
  template: \`
    <Combobox v-bind="args" />
  \`
})`,...(m=(u=s.parameters)==null?void 0:u.docs)==null?void 0:m.source}}};const P=["Default"];export{s as Default,P as __namedExportsOrder,J as default};
