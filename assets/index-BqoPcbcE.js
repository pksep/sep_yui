import{u as I,t as M,d as j,e as T,r as S,g as R,o as H,w as _,f as N}from"./vue.esm-bundler-DC1UwcWE.js";function C(e){return R()?(H(e),!0):!1}function m(e){return typeof e=="function"?e():I(e)}const A={mounted:"mounted",updated:"updated",unmounted:"unmounted"},W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Y=Object.prototype.toString,x=e=>Y.call(e)==="[object Object]",y=()=>{},E=B();function B(){var e,t;return W&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function G(...e){if(e.length!==1)return M(...e);const t=e[0];return typeof t=="function"?j(T(()=>({get:t,set:y}))):S(t)}const D=W?window:void 0;function h(e){var t;const o=m(e);return(t=o==null?void 0:o.$el)!=null?t:o}function g(...e){let t,o,r,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,r,u]=e,t=D):[t,o,r,u]=e,!t)return y;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const a=[],p=()=>{a.forEach(c=>c()),a.length=0},i=(c,v,w,n)=>(c.addEventListener(v,w,n),()=>c.removeEventListener(v,w,n)),f=_(()=>[h(t),m(u)],([c,v])=>{if(p(),!c)return;const w=x(v)?{...v}:v;a.push(...o.flatMap(n=>r.map(s=>i(c,n,s,w))))},{immediate:!0,flush:"post"}),l=()=>{f(),p()};return C(l),l}let L=!1;function b(e,t,o={}){const{window:r=D,ignore:u=[],capture:a=!0,detectIframe:p=!1}=o;if(!r)return y;E&&!L&&(L=!0,Array.from(r.document.body.children).forEach(n=>n.addEventListener("click",y)),r.document.documentElement.addEventListener("click",y));let i=!0;const f=n=>m(u).some(s=>{if(typeof s=="string")return Array.from(r.document.querySelectorAll(s)).some(d=>d===n.target||n.composedPath().includes(d));{const d=h(s);return d&&(n.target===d||n.composedPath().includes(d))}}),l=n=>{const s=h(e);if(!(!s||s===n.target||n.composedPath().includes(s))){if(n.detail===0&&(i=!f(n)),!i){i=!0;return}t(n)}};let c=!1;const v=[g(r,"click",n=>{c||(c=!0,setTimeout(()=>{c=!1},0),l(n))},{passive:!0,capture:a}),g(r,"pointerdown",n=>{const s=h(e);i=!f(n)&&!!(s&&!n.composedPath().includes(s))},{passive:!0}),p&&g(r,"blur",n=>{setTimeout(()=>{var s;const d=h(e);((s=r.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(d!=null&&d.contains(r.document.activeElement))&&t(n)},0)})].filter(Boolean);return()=>v.forEach(n=>n())}const V={[A.mounted](e,t){const o=!t.modifiers.bubble;if(typeof t.value=="function")e.__onClickOutside_stop=b(e,t.value,{capture:o});else{const[r,u]=t.value;e.__onClickOutside_stop=b(e,r,Object.assign({capture:o},u))}},[A.unmounted](e){e.__onClickOutside_stop()}};function k(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function P(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:P(o)}}function X(e){const t=e||window.event,o=t.target;return P(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const O=new WeakMap;function $(e,t=!1){const o=S(t);let r=null,u="";_(G(e),i=>{const f=k(m(i));if(f){const l=f;if(O.get(l)||O.set(l,l.style.overflow),l.style.overflow!=="hidden"&&(u=l.style.overflow),l.style.overflow==="hidden")return o.value=!0;if(o.value)return l.style.overflow="hidden"}},{immediate:!0});const a=()=>{const i=k(m(e));!i||o.value||(E&&(r=g(i,"touchmove",f=>{X(f)},{passive:!1})),i.style.overflow="hidden",o.value=!0)},p=()=>{const i=k(m(e));!i||!o.value||(E&&(r==null||r()),i.style.overflow=u,O.delete(i),o.value=!1)};return C(p),N({get(){return o.value},set(i){i?a():p()}})}function q(){let e=!1;const t=S(!1);return(o,r)=>{if(t.value=r.value,e)return;e=!0;const u=$(o,r.value);_(t,a=>u.value=a)}}q();export{V as v};
