import{p as P,E as F,k as d,r as k,d as I,w as T,o as W,a as J,l as S,m as K,s as U,D as X,v as Y,G as j,H as Q,J as Z,q as tt,z as et,B as ot,K as it,T as nt,y as at,L as st}from"./vue.esm-bundler-BHGztBRP.js";import{c as u}from"./change-style-properties-1EhjFsjc.js";import{_ as lt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const rt=["data-testid","aria-label"],ut=["data-testid"],C=P({name:"Tooltip",__name:"Tooltip",props:{hint:{},isShow:{type:Boolean,default:!1},isCanShow:{type:Boolean,default:!0},position:{default:"bottom-center"},size:{default:"small"},type:{default:"black"},hintGap:{},hintClass:{default:""},dataTestid:{default:"Tooltip"}},setup(l){const t=l,p=CSS.supports("top","anchor(bottom)"),q=F(),f=d(()=>`--anchor-tooltip-${q}`),i=k(null),o=k(null),z=d(()=>[{"tooltip-yui-kit__hint_show":t.isShow||s.isShow,"tooltip-yui-kit__hint_bottom-center":t.position==="bottom-center","tooltip-yui-kit__hint_bottom-left":t.position==="bottom-left","tooltip-yui-kit__hint_bottom-right":t.position==="bottom-right","tooltip-yui-kit__hint_top-center":t.position==="top-center","tooltip-yui-kit__hint_top-left":t.position==="top-left","tooltip-yui-kit__hint_top-right":t.position==="top-right","tooltip-yui-kit__hint_left-top":t.position==="left-top","tooltip-yui-kit__hint_left-center":t.position==="left-center","tooltip-yui-kit__hint_left-bottom":t.position==="left-bottom","tooltip-yui-kit__hint_right-top":t.position==="right-top","tooltip-yui-kit__hint_right-center":t.position==="right-center","tooltip-yui-kit__hint_right-bottom":t.position==="right-bottom","tooltip-yui-kit__hint_small":t.size==="small","tooltip-yui-kit__hint_medium":t.size==="medium","tooltip-yui-kit__hint_large":t.size==="large","tooltip-yui-kit__hint_black":t.type==="black","tooltip-yui-kit__hint_blue":t.type==="blue","tooltip-yui-kit__hint_white":t.type==="white",[t.hintClass]:!0}]),x=d(()=>{var n;const e=(n=i.value)==null?void 0:n.closest("dialog");return e||"body"}),s=I({isShow:!1}),E=()=>{$()},L=()=>{_()},B=()=>{a()},a=()=>{requestAnimationFrame(()=>{if(!i.value||!o.value||!s.isShow&&!t.isShow)return;const e={"--hint-top":"anchor(top)","--hint-left":"anchor(left)","--hint-width":"0","--hint-height":"0","--tooltip-width":"0","--tooltip-height":"0","--hint-visibility":"visible"};p||(e["--hint-top"]="0",e["--hint-left"]="0");const n=i.value.getBoundingClientRect(),g=o.value.getBoundingClientRect(),R=window.pageYOffset||document.documentElement.scrollTop,G=window.pageXOffset||document.documentElement.scrollLeft;let c=n.top+R,h=n.left+G;const r=i.value.closest("dialog");if(r){const b=r.getBoundingClientRect();c=n.top-b.top,h=n.left-b.left;const A=r.scrollTop,D=r.scrollLeft;c+=A,h+=D}const H=n.width,O=n.height,M=g.width,N=g.height;p||(e["--hint-top"]=`${c}px`,e["--hint-left"]=`${h}px`),e["--tooltip-width"]=`${H}px`,e["--tooltip-height"]=`${O}px`,e["--hint-width"]=`${M}px`,e["--hint-height"]=`${N}px`,o.value&&u(e,o.value)})},V=()=>{requestAnimationFrame(()=>{!o.value||t.hintGap===void 0||u({"--tooltip-hint-gap":t.hintGap},o.value)})},m=()=>{o.value&&(u({"position-anchor":`${f.value}`},o.value),a())};T(()=>t.hintGap,V,{immediate:!0}),T(()=>t.isCanShow,()=>{st(()=>{m()})});const $=()=>{s.isShow=!0},_=()=>{s.isShow=!1},v=new MutationObserver(()=>{a()}),y=new ResizeObserver(()=>{var e;(s.isShow||t.isShow)&&!((e=i.value)!=null&&e.matches(":hover"))?_():a()}),w=e=>{v.observe(e,{childList:!0,attributes:!0,characterData:!0}),y.observe(e)};return W(()=>{i.value&&u({"anchor-name":`${f.value}`},i.value),m(),o.value&&w(o.value),i.value&&w(i.value),p||(window.addEventListener("scroll",a,!0),window.addEventListener("resize",a))}),J(()=>{y.disconnect(),v.disconnect(),window.removeEventListener("scroll",a,!0),window.removeEventListener("resize",a)}),(e,n)=>(S(),K("div",{ref_key:"tooltipRef",ref:i,class:"tooltip-yui-kit","data-testid":t.dataTestid,"aria-label":l.hint,onMouseenter:E,onMouseleave:L},[U(e.$slots,"default",{},void 0,!0),l.isCanShow?(S(),X(nt,{key:0,to:x.value},[Y(it,{name:"hint-animate",onEnter:B},{default:j(()=>[Q(tt("div",{ref_key:"hintRef",ref:o,class:ot(["tooltip-yui-kit__hint",z.value]),"data-testid":t.dataTestid},et(l.hint),11,ut),[[Z,l.isShow||s.isShow]])]),_:1})],8,["to"])):at("",!0)],40,rt))}}),dt=lt(C,[["__scopeId","data-v-b4773d74"]]);C.__docgenInfo={name:"Tooltip",exportName:"default",displayName:"Tooltip",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Tooltip'"}},{name:"hint",required:!0,type:{name:"string"}},{name:"isShow",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isCanShow",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"position",required:!1,type:{name:"TTooltipPosition"},defaultValue:{func:!1,value:"'bottom-center'"}},{name:"size",required:!1,type:{name:"TTooltipSize"},defaultValue:{func:!1,value:"'small'"}},{name:"type",required:!1,type:{name:"TTooltipType"},defaultValue:{func:!1,value:"'black'"}},{name:"hintGap",required:!1,type:{name:"number"}},{name:"hintClass",required:!1,type:{name:'""'},defaultValue:{func:!1,value:"''"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Tooltip/Tooltip.vue"]};export{dt as T};
