import{p as b,d as _,N as i,w as g,l as O,D as y,G as r,H as v,Q as V,q as C,V as x,v as w,B as q}from"./vue.esm-bundler-DwgwRRKm.js";import{O as B,S as T}from"./SelectList-DFczG0hI.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I=["placeholder","data-testid"],d=b({__name:"Combobox",props:{options:{},placeholder:{},disableOpen:{type:Boolean},defaultOption:{},class:{},disabled:{type:Boolean,default:!1},dataTestid:{default:"Combobox"}},emits:["change","error","focusout-option"],setup(p,{emit:c}){const o=c,a=p,e=_({isOpened:!1,placeholder:a.placeholder,values:a.options,searchValue:""}),u=()=>{o("focusout-option")},f=s=>{var t;(((t=e.values)==null?void 0:t.length)!=0||!a.disableOpen)&&(e.isOpened=s,!e.isOpened&&e.searchValue!=""&&o("error"))};i(()=>e.values=a.options),i(()=>e.searchValue=a.defaultOption||""),g(()=>e.searchValue,()=>{e.searchValue==""&&(e.values=a.options)});const l=()=>{var s;e.isOpened=!0,e.values=a.options.filter(t=>e.searchValue.toLowerCase().split(" ").every(n=>t.toLowerCase().includes(n))),o("change",e.searchValue),((s=e.values)==null?void 0:s.length)==0&&(e.isOpened=!1)},m=s=>{e.searchValue=s,e.isOpened=!1,o("change",s)};return(s,t)=>{var n;return O(),y(T,{onChange:f,"is-opened":e.isOpened,"disable-open":((n=e.values)==null?void 0:n.length)==0,class:q(a.class),disabled:a.disabled,onFocusoutOptions:u,"header-classes":"filter__header","options-classes":"filter__options","data-testid":a.dataTestid},{header:r(()=>[v(C("input",{type:"search",class:"combobox__input","onUpdate:modelValue":t[0]||(t[0]=h=>e.searchValue=h),placeholder:e.placeholder,onKeydown:x(l,["enter"]),onInput:l,"data-testid":`${a.dataTestid}-Input`},null,40,I),[[V,e.searchValue]])]),options:r(()=>[w(B,{"default-option":e.searchValue,options:e.values,onChange:m,"data-testid":`${a.dataTestid}-Options`},null,8,["default-option","options","data-testid"])]),_:1},8,["is-opened","disable-open","class","disabled","data-testid"])}}}),D=N(d,[["__scopeId","data-v-e9f9f3ae"]]);d.__docgenInfo={exportName:"default",displayName:"Combobox",description:"",tags:{},props:[{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"class",required:!1,type:{name:"string"}},{name:"defaultOption",required:!1,type:{name:"string"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Combobox'"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"string"}]}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"disableOpen",required:!1,type:{name:"boolean"}}],events:[{name:"change",type:{names:["string"]}},{name:"error",type:{names:["void"]}},{name:"focusout-option"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Select/Combobox.vue"]};export{D as C};
