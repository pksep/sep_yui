import{p as G,d as fe,r as O,w as U,o as le,l as M,m as T,q as _,s as ne,L as q,k as J,B as me,a as Ae,u as v,I as j,y as ie,D as Z,G as se,v as L,a0 as Re,E as it,a1 as Et,C as Ke,O as Mt,A as Te,z as Ee,F as he,T as It}from"./vue.esm-bundler-DwgwRRKm.js";import{I as Y,a as K}from"./Icon-DOFdho1d.js";import{c as re,i as Ct,_ as ve,b as qe,g as Pt}from"./Picture-CDiQ4pAU.js";import{M as at,a as Tt}from"./ModalAnimated-Br7B6e1P.js";import"./Badges-CJDcg9b4.js";import"./BreadCrumbs-C6veUJXU.js";import{a as kt,B as Je}from"./Button-HqjrJPjf.js";import"./Switch-Zjnn0TQy.js";import"./Dropdown-CaCC-a6H.js";import"./Calendar-CCPQV2px.js";import"./Dialog-C0OWH92S.js";import"./Accordion-jPUJjTcU.js";import"./DragAndDrop-Uhd_NoMv.js";import"./Card-Bw8y8W9F.js";import"./Filter-BauN18eg.js";import"./Combobox-DFGApKzw.js";import"./SelectList-DFczG0hI.js";import"./Input-DRm-dzRP.js";import"./InputNumber-B2fXZley.js";import"./Search-CiQhA23s.js";import"./Toggle-CAU27Hb4.js";import"./Scrollbar-B64Vbilo.js";import"./Checkbox-CiGA-b84.js";import"./UserMenu-D-nnBbIM.js";import"./Textarea-jGUKKV5Z.js";import"./Notification-CFwOuvmE.js";import"./CopyIcon-0URnBU6_.js";import{L as Bt}from"./Loader-C3h28u83.js";import"./FilterTag-ByAlwrBK.js";import"./CircularProgress-D3VdYFAb.js";import"./Popover-5r7GxGbG.js";import"./Table-BRGyeXAV.js";import{u as Rt,c as Ot,T as At}from"./SectionTableRow-Bvl-n8xA.js";import"./Radio-DbUDKhc8.js";import"./Tooltip-C5hHJQUN.js";import"./BaseFilter-BmBHWNEQ.js";import{R as jt}from"./Range-0FaPigvS.js";import{H as Lt}from"./HeadTableRowNew-D59WSTXV.js";import{c as ue}from"./change-style-properties-1EhjFsjc.js";import"./Avatar-CW3dWOSU.js";import"./Tabs-D7FDQgSD.js";import"./ContentEditor-CCzQ43iL.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TimePicker-BI56SgJT.js";import{g as $t}from"./_commonjsHelpers-Cpj98o6Y.js";import{S as Ze}from"./storybook-BJU81olc.js";import{f as Dt}from"./index-CGbn3E6N.js";import"./sizes-9jYRAigb.js";import"./index-EIe9vLXT.js";import"./lodash-DHyxJ22h.js";import"./index-CUwEPDia.js";import"./enum-D-JvIl_F.js";import"./colors-BMxzW9Sg.js";var Le=(p=>(p.jpg="jpg",p.png="png",p.jpeg="jpeg",p.webp="webp",p.svg="svg",p))(Le||{}),$e=(p=>(p.mp4="mp4",p.mp3="mp3",p.avif="avif",p))($e||{});const Ge=(p,x=window)=>{const o=p.getBoundingClientRect();if(x instanceof Window){const t=window.innerWidth,i=window.innerHeight;return o.top<i&&o.bottom>0&&o.left<t&&o.right>0}else{const t=x.getBoundingClientRect();return o.top<t.bottom&&o.bottom>t.top&&o.left<t.right&&o.right>t.left}},Oe=(p,x=null)=>{if(!p)return;(x?Ge(p,x):Ge(p))||p.scrollIntoView({behavior:"smooth",block:"nearest"})},ot=G({name:"BaseSlider",__name:"BaseSlider",props:{activeIndex:{default:0}},setup(p,{expose:x}){const o=p,t=fe({children:null,activeIndex:o.activeIndex}),i=O(null),e=O(null);U(()=>o.activeIndex,()=>{u(o.activeIndex)});const u=l=>{if(!i.value||!e.value)return;const d=[...i.value.children];l>d.length-1||l<0||(Oe(d[l],e.value),t.activeIndex=l)},n=()=>{q(()=>{!t.children||!e.value||Oe(t.children[t.activeIndex],e.value)})},f=()=>(u(t.activeIndex+1),t.activeIndex),r=()=>(u(t.activeIndex-1),t.activeIndex);return le(()=>{!i.value||!e.value||(t.children=[...i.value.children])}),x({shiftPosition:u,nextSlide:f,prevSlide:r,initScroll:n}),(l,d)=>(M(),T("div",{ref_key:"sliderRef",ref:e,class:"base-slider"},[_("div",{ref_key:"contentRef",ref:i,class:"base-slider__content"},[ne(l.$slots,"default")],512)],512))}});ot.__docgenInfo={name:"BaseSlider",exportName:"default",displayName:"BaseSlider",description:"",tags:{},expose:[{name:"shiftPosition"},{name:"nextSlide"},{name:"prevSlide"},{name:"initScroll"}],props:[{name:"activeIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlider.vue"]};const Ht={class:"base-slide__content"},st=G({name:"BaseSlide",__name:"BaseSlide",props:{isActive:{type:Boolean}},setup(p){const x=p,o=J(()=>[{"base-slide_active":x.isActive}]);return(t,i)=>(M(),T("div",{class:me(["base-slide",o.value])},[_("div",Ht,[ne(t.$slots,"default")])],2))}});st.__docgenInfo={name:"BaseSlide",exportName:"default",displayName:"BaseSlide",description:"",tags:{},props:[{name:"isActive",required:!1,type:{name:"boolean"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlide.vue"]};const Nt={class:"scroll-wrapper__vertical-wrapper"},Vt={class:"scroll-wrapper__horizont-wrapper"},Ft=G({name:"ScrollWrapper",__name:"ScrollWrapperNew",props:{isShowVerticalScroll:{type:Boolean,default:!1},isShowHorizontalScroll:{type:Boolean,default:!1}},emits:["unmount-scroll","unmount-paginate","on-mounted"],setup(p,{expose:x,emit:o}){const t=o,i=O(null),e=O(null),u=O(null),n=O(null),f=O(null),r=O(null),{onTrackClick:l,startDrag:d,changeBarPosition:a,setVerticalBarHeight:g,verticalTrackClass:S,isExistVerticalTrack:s}=Rt(i,e,n,u),{changeBarPosition:h,startDrag:y,onTrackClick:B,setHorizontalBarWidth:P,horizontalTrackClass:w,isExistHorizontalTrack:C}=Ot(i,e,r,f),b=D=>{a(),h(),t("unmount-scroll",D)},I=()=>{requestAnimationFrame(()=>{k(),$()})},k=()=>{if(!i.value||!e.value)return;const D=getComputedStyle(e.value),X=e.value.style.minHeight||D.minHeight,V=e.value.style.maxHeight||D.maxHeight,de=e.value.style.height;ue({"--scroll-wrapper-height":`${de}`,"--scroll-wrapper-max-height":`${V}`,"--scroll-wrapper-min-height":`${X}`},e.value)},$=()=>{g(),P(),a(),h()},N=()=>{i.value&&i.value.addEventListener("scroll",b)},W=()=>{i.value&&(i.value.scrollTop=0)},Q=new MutationObserver(()=>{I()}),ae=new ResizeObserver(()=>{I()}),oe=D=>{Q.observe(D,{childList:!0,subtree:!0,attributes:!0}),ae.observe(D)};return x({scrollToTop:W,setHeightSlot:k}),le(()=>{I(),N(),e.value&&oe(e.value),u.value&&oe(u.value),window.addEventListener("resize",I),t("on-mounted")}),Ae(()=>{window.removeEventListener("resize",I)}),(D,X)=>(M(),T("div",{ref_key:"scrollWrapperRef",ref:e,class:"scroll-wrapper"},[_("div",Nt,[_("div",Vt,[_("div",{ref_key:"slotRef",ref:i,class:"scroll-wrapper__slot"},[ne(D.$slots,"default",{},void 0,!0)],512),v(C)||p.isShowHorizontalScroll?(M(),T("div",{key:0,ref_key:"horizontTrackRef",ref:f,class:me(["scroll-wrapper__track scroll-wrapper__track_horizont",v(w)]),onClick:X[1]||(X[1]=j((...V)=>v(B)&&v(B)(...V),["prevent","left"]))},[_("div",{ref_key:"horizontBarRef",ref:r,class:"scroll-wrapper__bar",onMousedown:X[0]||(X[0]=j((...V)=>v(y)&&v(y)(...V),["prevent","left"]))},null,544)],2)):ie("",!0)]),v(s)||p.isShowVerticalScroll?(M(),T("div",{key:0,ref_key:"verticalTrackRef",ref:u,class:me(["scroll-wrapper__track scroll-wrapper__track_vertical",v(S)]),onClick:X[3]||(X[3]=j((...V)=>v(l)&&v(l)(...V),["prevent","left"]))},[_("div",{ref_key:"verticalBarRef",ref:n,class:"scroll-wrapper__bar",onMousedown:X[2]||(X[2]=j((...V)=>v(d)&&v(d)(...V),["prevent","left"]))},null,544)],2)):ie("",!0)])],512))}});Ft.__docgenInfo={name:"ScrollWrapper",exportName:"default",displayName:"ScrollWrapperNew",description:"",tags:{},expose:[{name:"scrollToTop"},{name:"setHeightSlot"}],props:[{name:"isShowVerticalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isShowHorizontalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"unmount-scroll",type:{names:["Event"]}},{name:"unmount-paginate",type:{names:["boolean"]}},{name:"on-mounted"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/ScrollWrapper/ScrollWrapperNew.vue"]};const Wt=["data-testid"],zt=["data-testid"],Ut=["data-testid"],Xt=G({name:"TableSimple",__name:"TableSimple",props:{dataTestid:{default:"TableSimple"}},setup(p,{expose:x}){const o=p,t=O(null),i=O(null),e=O(null),u=O(null),n=J(()=>{let f=1;if(i.value)for(let r=0;r<i.value.children.length;r++)f=Math.max(i.value.children[r].children.length,f);return f});return x({tbodyRef:e,tableRef:t,theadRef:i}),(f,r)=>(M(),T("table",{ref_key:"tableRef",ref:t,class:"simple-table-yui-kit","data-testid":`${o.dataTestid}`},[ne(f.$slots,"default",{},()=>[ne(f.$slots,"colspan",{},void 0,!0),f.$slots.head?(M(),T("thead",{key:0,ref_key:"theadRef",ref:i,class:"simple-table-yui-kit__head","data-testid":`${o.dataTestid}-Thead`},[ne(f.$slots,"head",{},void 0,!0),f.$slots.search?(M(),Z(Lt,{key:0,class:"table-new-yui-kit__search",ref_key:"searchRowRef",ref:u,"data-testid":`${o.dataTestid}-Search-Row`},{default:se(()=>[L(At,{colspan:n.value,class:"table-new-yui-kit__th","data-testid":`${o.dataTestid}-SearchRow-Search`},{default:se(()=>[ne(f.$slots,"search",{},void 0,!0)]),_:3},8,["colspan","data-testid"])]),_:3},8,["data-testid"])):ie("",!0)],8,zt)):ie("",!0),ne(f.$slots,"body-group",{},()=>[f.$slots.body?(M(),T("tbody",{key:0,ref_key:"tbodyRef",ref:e,class:"simple-table-yui-kit__body","data-testid":`${o.dataTestid}-Tbody`},[ne(f.$slots,"body",{},void 0,!0)],8,Ut)):ie("",!0)],!0)],!0)],8,Wt))}});Xt.__docgenInfo={name:"TableSimple",exportName:"default",displayName:"TableSimple",description:"",tags:{},expose:[{name:"tbodyRef"},{name:"tableRef"},{name:"theadRef"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'TableSimple'"}}],slots:[{name:"default"},{name:"colspan"},{name:"head"},{name:"search"},{name:"body-group"},{name:"body"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/TableSimple.vue"]};const Yt=["data-testid"],Kt=["data-testid"],rt=G({name:"BaseCropper",__name:"BaseCropper",props:{image:{},max:{default:3},min:{default:1},step:{default:.5}},emits:["unmount-scale"],setup(p,{expose:x,emit:o}){const t=p,i=o,e=Re("canvas"),u=Re("container"),n=fe({ctx:null,image:null,id:it(),scale:1,position:{x:0,y:0},isDragging:!1,startX:0,startY:0,minScale:t.min,maxScale:t.max,stepScale:t.step});U(()=>t.image,()=>{t.image&&d(t.image)});const f=()=>{e.value&&(n.ctx=e.value.getContext("2d")),r(),window.addEventListener("resize",r)},r=()=>{if(u.value){const{width:b,height:I}=u.value.getBoundingClientRect();e.value&&(e.value.width=b,e.value.height=I),n.image&&l()}},l=()=>{if(n.image){const b=n.ctx,I=e.value;b&&I&&(b.clearRect(0,0,I.width,I.height),b.drawImage(n.image,n.position.x,n.position.y,n.image.width*n.scale,n.image.height*n.scale))}},d=b=>{const I=new FileReader;I.onload=async k=>{var $;typeof(($=k.target)==null?void 0:$.result)=="string"&&(n.image=new Image,n.image.src=k.target.result,n.image.onload=async()=>{if(await q(),e.value&&n.image){const N=e.value.width,W=e.value.height,Q=n.image.width/n.image.height,ae=N/W;Q>ae?(n.image.width=N,n.image.height=N/Q):(n.image.height=W,n.image.width=W*Q),r(),n.position.x=(e.value.width-n.image.width)/2,n.position.y=(e.value.height-n.image.height)/2,l()}})},I.readAsDataURL(b)},a=b=>{n.isDragging=!0,n.startX=b.clientX-n.position.x,n.startY=b.clientY-n.position.y,window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)},g=b=>{if(!n.isDragging&&!e.value)return;let I=b.clientX-n.startX,k=b.clientY-n.startY;if(e.value&&n.image){const $=e.value.width-n.image.width*n.scale;n.image.width*n.scale<e.value.width?I=Math.min(Math.max(I,0),e.value.width-n.image.width*n.scale):(I>0&&(I=0),I<$&&(I=$));const N=e.value.height-n.image.height*n.scale;n.image.height*n.scale<e.value.height?k=Math.min(Math.max(k,0),e.value.height-n.image.height*n.scale):(k>0&&(k=0),k<N&&(k=N)),n.position.x=I,n.position.y=k}l()},S=()=>{n.isDragging=!1,window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S)},s=b=>Math.max(n.minScale,Math.min(b,n.maxScale)),h=b=>{if(e.value){const I=e.value.width/2,k=e.value.height/2;n.position.x=I-(I-n.position.x)*b,n.position.y=k-(k-n.position.y)*b}},y=b=>{const I=n.scale,k=n.scale+b.deltaY*-.001;if(I===s(k))return;n.scale=s(k);const $=k/I;h($),i("unmount-scale",n.scale),l()};return x({cropImage:()=>{if(u.value){const{width:b,height:I}=u.value.getBoundingClientRect(),k=document.createElement("canvas");k.width=b,k.height=I;const $=k.getContext("2d");$&&n.image&&$.drawImage(n.image,n.position.x,n.position.y,n.image.width*n.scale,n.image.height*n.scale);const N=k.toDataURL("image/png"),W=atob(N.split(",")[1]),Q=new ArrayBuffer(W.length),ae=new Uint8Array(Q);for(let D=0;D<W.length;D++)ae[D]=W.charCodeAt(D);const oe=new Blob([ae],{type:"image/png"});return t.image?new File([oe],t.image.name,{type:"image/png"}):null}return null},scalePlus:()=>{const b=n.scale+n.stepScale;n.scale=s(b),l()},scaleMinus:()=>{const b=n.scale-n.stepScale;n.scale=s(b),l()},setScale:b=>{const I=n.scale,$=b/I;n.scale=s(b),h($),l()},startMove:a,scaleImage:y}),le(()=>{f(),t.image&&d(t.image)}),(b,I)=>(M(),T("div",{ref_key:"container",ref:u,class:"base-cropper","data-testid":`BaseCropper-${n.id}`},[_("canvas",{ref_key:"canvas",ref:e,class:"base-cropper__canvas","data-testid":`BaseCropper-${n.id}-canvas`,onMousedown:a,onWheel:j(y,["prevent"])},null,40,Kt)],8,Yt))}}),qt=je(rt,[["__scopeId","data-v-96931847"]]);rt.__docgenInfo={name:"BaseCropper",exportName:"default",displayName:"BaseCropper",description:"",tags:{},expose:[{name:"cropImage"},{name:"scalePlus"},{name:"scaleMinus"},{name:"setScale"},{name:"startMove"},{name:"scaleImage"}],props:[{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}},{name:"max",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"3"}},{name:"min",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"step",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0.5"}}],events:[{name:"unmount-scale",type:{names:["number"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/BaseCropper.vue"]};const Jt=p=>{const x=O(p==null?void 0:p.defaultValue),o=p==null?void 0:p.min,t=p==null?void 0:p.max,i=p==null?void 0:p.step;U(x,u=>{x.value=e(u)});const e=u=>Math.max(o,Math.min(u,t));return{value:x,min:o,max:t,step:i,getCorrectValue:e}},Zt=(p,x)=>new File([p],x,{type:p.type}),Gt=["data-testid"],Qt=["data-testid"],en=["data-testid"],tn=["data-testid"],nn=["data-testid"],an=["data-testid"],on=G({name:"ModalCroppedAvatar",__name:"ModalCroppedAvatar",props:{image:{},open:{type:Boolean},position:{default:"center"},width:{default:"650px"},height:{default:"auto"},dataTestid:{}},emits:["unmount-close","unmount-save"],setup(p,{emit:x}){const o=p,t=x,{max:i,min:e,step:u,value:n}=Jt({defaultValue:1,max:3,min:1,step:.1}),f=it(),r=Re("cropper"),l=fe({openModal:!1});U(n,()=>{r.value&&r.value.setScale(n.value)});const d=()=>{l.openModal=!1,t("unmount-close")},a=h=>{n.value=h},g=()=>{n.value=n.value-u},S=()=>{n.value=n.value+u},s=()=>{if(r.value){const h=r.value.cropImage();if(h){const y=h.name,B=Zt(h,y);t("unmount-save",B),d()}}};return Ae(()=>{d()}),le(()=>{o.open===void 0&&(l.openModal=o.open)}),(h,y)=>(M(),Z(at,Mt(o,{class:"modal-cropped-avatar","data-testid":`ModalCroppedAvatar-${v(f)}`,onClose:d}),{default:se(()=>[_("div",{class:"modal-cropped-avatar__content","data-testid":`ModalCroppedAvatar-${v(f)}-content`},[_("div",{class:"modal-cropped-avatar__title","data-testid":`ModalCroppedAvatar-${v(f)}-title`}," Изменение фото профиля ",8,Qt),_("div",{class:"modal-cropped-avatar__main","data-testid":`ModalCroppedAvatar-${v(f)}-content-main`},[_("div",{class:"modal-cropped-avatar__cropped","data-testid":`ModalCroppedAvatar-${v(f)}-content-main-cropped`},[L(qt,{ref_key:"cropper",ref:r,image:p.image,max:v(i),min:v(e),step:v(u),class:"modal-cropped-avatar__cropper",onUnmountScale:a},null,8,["image","max","min","step"]),_("div",{class:"modal-cropped-avatar__tools","data-testid":`ModalCroppedAvatar-${v(f)}-content-tools`},[L(K,{name:v(Y).minus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${v(f)}-content-iconMinus`,onClick:g},null,8,["name","data-testid"]),L(jt,{max:v(i),min:v(e),step:v(u),modelValue:v(n),"onUpdate:modelValue":y[0]||(y[0]=B=>Et(n)?n.value=B:null),"data-testid":`ModalCroppedAvatar-${v(f)}-content-Range`},null,8,["max","min","step","modelValue","data-testid"]),L(K,{name:v(Y).plus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${v(f)}-content-IconPlus`,onClick:S},null,8,["name","data-testid"])],8,nn)],8,tn),_("div",{class:"modal-cropped-avatar__buttons","data-testid":`ModalCroppedAvatar-${v(f)}-content-buttons`},[L(Je,{type:v(kt).outline,class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${v(f)}-content-ButtonCancel`,onClick:d},{default:se(()=>[...y[1]||(y[1]=[Ke(" Отменить ",-1)])]),_:1},8,["type","data-testid"]),L(Je,{class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${v(f)}-content-buttonSave`,onClick:s},{default:se(()=>[...y[2]||(y[2]=[Ke(" Сохранить ",-1)])]),_:1},8,["data-testid"])],8,an)],8,en)],8,Gt)]),_:1},16,["data-testid"]))}});on.__docgenInfo={name:"ModalCroppedAvatar",exportName:"default",displayName:"ModalCroppedAvatar",description:"",tags:{},props:[{name:"height",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'auto'"}},{name:"width",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'650px'"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'center'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"dataTestid",required:!1,type:{name:"string"}},{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}}],events:[{name:"unmount-close"},{name:"unmount-save",type:{names:["File"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/ModalCroppedAvatar.vue"]};const sn=["src"],rn=G({name:"ImagePreview",__name:"ImagePreview",props:{src:{}},emits:["error"],setup(p,{expose:x,emit:o}){const t=p,i=o,e=fe({isError:!1,rotate:0});U(()=>t.src,()=>{e.isError=!1,e.rotate=0,q(()=>{n()})});const u=O(null),n=async()=>{try{if(!u.value||!t.src)return;const r=new Image;r.src=t.src,r.addEventListener("load",()=>{var s;if(!u.value)return;const l=(s=u.value)==null?void 0:s.getContext("2d");if(!l)return;const d=r.width,a=r.height;let g=d,S=a;e.rotate%180!==0&&(g=a,S=d),u.value.width=g,u.value.height=S,l.save(),l.clearRect(0,0,g,S),l.translate(g/2,S/2),l.rotate(e.rotate*Math.PI/180),l.drawImage(r,-d/2,-a/2,d,a),l.restore()}),r.addEventListener("error",l=>{e.isError=!0,i("error",l)})}catch{i("error",new Event("error")),e.isError=!0}},f=async r=>{const l=Math.round(r/90)*90;e.rotate+=l,q(()=>{n()})};return le(()=>{q(()=>{n()})}),x({rotateImage:f}),(r,l)=>e.isError?(M(),T("img",{key:1,src:v(re)},null,8,sn)):(M(),T("canvas",{key:0,ref_key:"canvasRef",ref:u,class:"image-preview"},null,512))}});rn.__docgenInfo={name:"ImagePreview",exportName:"default",displayName:"ImagePreview",description:"",tags:{},expose:[{name:"rotateImage"}],props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/ImagePreview.vue"]};const ln=["src"],De=G({name:"VideoPreview",__name:"VideoPreview",props:{src:{}},emits:["error","load"],setup(p,{emit:x}){const o=p,t=x,i=fe({isError:!1});U(()=>o.src,()=>{i.isError=!1,q(()=>{u()})});const e=O(null),u=async()=>{var n;try{if(!e.value||!o.src)return;const f=document.createElement("video");f.muted=!0,f.preload="metadata";const r=await fetch(o.src);if(!r.ok)throw new Error("Failed to fetch video");const l=new Blob([await r.arrayBuffer()]);f.src=URL.createObjectURL(l);const d=(n=e==null?void 0:e.value)==null?void 0:n.getContext("2d");if(!d)return;f.addEventListener("loadeddata",()=>{f.currentTime=0,t("load")}),f.addEventListener("seeked",()=>{var a,g;e.value&&d.drawImage(f,0,0,(a=e.value)==null?void 0:a.width,(g=e.value)==null?void 0:g.height)}),f.addEventListener("error",a=>{i.isError=!0,t("error",a)})}catch{t("error",new Event("error")),i.isError=!0}};return le(()=>{q(()=>{u()})}),(n,f)=>i.isError?(M(),T("img",{key:1,src:v(re)},null,8,ln)):(M(),T("canvas",{key:0,ref_key:"canvasRef",ref:e,class:"video-preview"},null,512))}});De.__docgenInfo={name:"VideoPreview",exportName:"default",displayName:"VideoPreview",description:"",tags:{},props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}},{name:"load"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/VideoPreview.vue"]};const lt=p=>{if(!p)return null;const x=p.split("?")[0],o=/\.\w+$/,t=x.match(o);return t?t[0].replace(".",""):null},ke=p=>{if(!p)return!1;if(p.startsWith("data:image/"))return!0;const x=lt(p);return x?Object.values(Le).includes(x.toLowerCase()):!1},dn=async(p,x="file")=>{const t=await(await fetch(p)).blob(),i=window.URL.createObjectURL(t),e=document.createElement("a");e.href=i,e.download=x,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(i)};var dt={exports:{}};(function(p,x){(function(t,i){p.exports=i()})(window,function(){return function(o){var t={};function i(e){if(t[e])return t[e].exports;var u=t[e]={i:e,l:!1,exports:{}};return o[e].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=o,i.c=t,i.d=function(e,u,n){i.o(e,u)||Object.defineProperty(e,u,{enumerable:!0,get:n})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,u){if(u&1&&(e=i(e)),u&8||u&4&&typeof e=="object"&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),u&2&&typeof e!="string")for(var f in e)i.d(n,f,(function(r){return e[r]}).bind(null,f));return n},i.n=function(e){var u=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(u,"a",u),u},i.o=function(e,u){return Object.prototype.hasOwnProperty.call(e,u)},i.p="",i(i.s=0)}({"./src/index.js":function(o,t,i){i.r(t),i("./src/sass/index.scss");var e=i("./src/js/init.js"),u=e.default.init;typeof window<"u"&&(window.printJS=u),t.default=u},"./src/js/browser.js":function(o,t,i){i.r(t);var e={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!e.isIE()&&!!window.StyleMedia},isChrome:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!n.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};t.default=e},"./src/js/functions.js":function(o,t,i){i.r(t),i.d(t,"addWrapper",function(){return f}),i.d(t,"capitalizePrint",function(){return r}),i.d(t,"collectStyles",function(){return l}),i.d(t,"addHeader",function(){return a}),i.d(t,"cleanUp",function(){return g}),i.d(t,"isRawHTML",function(){return S});var e=i("./src/js/modal.js"),u=i("./src/js/browser.js");function n(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(y){return typeof y}:n=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(s)}function f(s,h){var y="font-family:"+h.font+" !important; font-size: "+h.font_size+" !important; width:100%;";return'<div style="'+y+'">'+s+"</div>"}function r(s){return s.charAt(0).toUpperCase()+s.slice(1)}function l(s,h){for(var y=document.defaultView||window,B="",P=y.getComputedStyle(s,""),w=0;w<P.length;w++)(h.targetStyles.indexOf("*")!==-1||h.targetStyle.indexOf(P[w])!==-1||d(h.targetStyles,P[w]))&&P.getPropertyValue(P[w])&&(B+=P[w]+":"+P.getPropertyValue(P[w])+";");return B+="max-width: "+h.maxWidth+"px !important; font-size: "+h.font_size+" !important;",B}function d(s,h){for(var y=0;y<s.length;y++)if(n(h)==="object"&&h.indexOf(s[y])!==-1)return!0;return!1}function a(s,h){var y=document.createElement("div");if(S(h.header))y.innerHTML=h.header;else{var B=document.createElement("h1"),P=document.createTextNode(h.header);B.appendChild(P),B.setAttribute("style",h.headerStyle),y.appendChild(B)}s.insertBefore(y,s.childNodes[0])}function g(s){s.showModal&&e.default.close(),s.onLoadingEnd&&s.onLoadingEnd(),(s.showModal||s.onLoadingStart)&&window.URL.revokeObjectURL(s.printable);var h="mouseover";(u.default.isChrome()||u.default.isFirefox())&&(h="focus");var y=function B(){window.removeEventListener(h,B),s.onPrintDialogClose();var P=document.getElementById(s.frameId);P&&P.remove()};window.addEventListener(h,y)}function S(s){var h=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return h.test(s)}},"./src/js/html.js":function(o,t,i){i.r(t);var e=i("./src/js/functions.js"),u=i("./src/js/print.js");function n(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(a){return typeof a}:n=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(l)}t.default={print:function(d,a){var g=r(d.printable)?d.printable:document.getElementById(d.printable);if(!g){window.console.error("Invalid HTML element id: "+d.printable);return}d.printableElement=f(g,d),d.header&&Object(e.addHeader)(d.printableElement,d),u.default.send(d,a)}};function f(l,d){for(var a=l.cloneNode(),g=Array.prototype.slice.call(l.childNodes),S=0;S<g.length;S++)if(d.ignoreElements.indexOf(g[S].id)===-1){var s=f(g[S],d);a.appendChild(s)}switch(d.scanStyles&&l.nodeType===1&&a.setAttribute("style",Object(e.collectStyles)(l,d)),l.tagName){case"SELECT":a.value=l.value;break;case"CANVAS":a.getContext("2d").drawImage(l,0,0);break}return a}function r(l){return n(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(o,t,i){i.r(t);var e=i("./src/js/functions.js"),u=i("./src/js/print.js"),n=i("./src/js/browser.js");t.default={print:function(r,l){r.printable.constructor!==Array&&(r.printable=[r.printable]),r.printableElement=document.createElement("div"),r.printable.forEach(function(d){var a=document.createElement("img");if(a.setAttribute("style",r.imageStyle),a.src=d,n.default.isFirefox()){var g=a.src;a.src=g}var S=document.createElement("div");S.appendChild(a),r.printableElement.appendChild(S)}),r.header&&Object(e.addHeader)(r.printableElement,r),u.default.send(r,l)}}},"./src/js/init.js":function(o,t,i){i.r(t);var e=i("./src/js/browser.js"),u=i("./src/js/modal.js"),n=i("./src/js/pdf.js"),f=i("./src/js/html.js"),r=i("./src/js/raw-html.js"),l=i("./src/js/image.js"),d=i("./src/js/json.js");function a(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(h){return typeof h}:a=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},a(S)}var g=["pdf","html","image","json","raw-html"];t.default={init:function(){var s={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(b){throw b},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},h=arguments[0];if(h===void 0)throw new Error("printJS expects at least 1 attribute.");switch(a(h)){case"string":s.printable=encodeURI(h),s.fallbackPrintable=s.printable,s.type=arguments[1]||s.type;break;case"object":s.printable=h.printable,s.fallbackPrintable=typeof h.fallbackPrintable<"u"?h.fallbackPrintable:s.printable,s.fallbackPrintable=s.base64?"data:application/pdf;base64,".concat(s.fallbackPrintable):s.fallbackPrintable;for(var y in s)y==="printable"||y==="fallbackPrintable"||(s[y]=typeof h[y]<"u"?h[y]:s[y]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+a(h))}if(!s.printable)throw new Error("Missing printable information.");if(!s.type||typeof s.type!="string"||g.indexOf(s.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");s.showModal&&u.default.show(s),s.onLoadingStart&&s.onLoadingStart();var B=document.getElementById(s.frameId);B&&B.parentNode.removeChild(B);var P=document.createElement("iframe");switch(e.default.isFirefox()?P.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):P.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),P.setAttribute("id",s.frameId),s.type!=="pdf"&&(P.srcdoc="<html><head><title>"+s.documentTitle+"</title>",s.css&&(Array.isArray(s.css)||(s.css=[s.css]),s.css.forEach(function(C){P.srcdoc+='<link rel="stylesheet" href="'+C+'">'})),P.srcdoc+="</head><body></body></html>"),s.type){case"pdf":if(e.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var w=window.open(s.fallbackPrintable,"_blank");w.focus(),s.onIncompatibleBrowser()}catch(C){s.onError(C)}finally{s.showModal&&u.default.close(),s.onLoadingEnd&&s.onLoadingEnd()}else n.default.print(s,P);break;case"image":l.default.print(s,P);break;case"html":f.default.print(s,P);break;case"raw-html":r.default.print(s,P);break;case"json":d.default.print(s,P);break}}}},"./src/js/json.js":function(o,t,i){i.r(t);var e=i("./src/js/functions.js"),u=i("./src/js/print.js");function n(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(d){return typeof d}:n=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},n(r)}t.default={print:function(l,d){if(n(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(a){return{field:n(a)==="object"?a.field:a,displayName:n(a)==="object"?a.displayName:a,columnSize:n(a)==="object"&&a.columnSize?a.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(e.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=f(l),u.default.send(l,d)}};function f(r){var l=r.printable,d=r.properties,a='<table style="border-collapse: collapse; width: 100%;">';r.repeatTableHeader&&(a+="<thead>"),a+="<tr>";for(var g=0;g<d.length;g++)a+='<th style="width:'+d[g].columnSize+";"+r.gridHeaderStyle+'">'+Object(e.capitalizePrint)(d[g].displayName)+"</th>";a+="</tr>",r.repeatTableHeader&&(a+="</thead>"),a+="<tbody>";for(var S=0;S<l.length;S++){a+="<tr>";for(var s=0;s<d.length;s++){var h=l[S],y=d[s].field.split(".");if(y.length>1)for(var B=0;B<y.length;B++)h=h[y[B]];else h=h[d[s].field];a+='<td style="width:'+d[s].columnSize+r.gridStyle+'">'+h+"</td>"}a+="</tr>"}return a+="</tbody></table>",a}},"./src/js/modal.js":function(o,t,i){i.r(t);var e={show:function(n){var f="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",r=document.createElement("div");r.setAttribute("style",f),r.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var d=document.createElement("div");d.setAttribute("class","printClose"),d.setAttribute("id","printClose"),l.appendChild(d);var a=document.createElement("span");a.setAttribute("class","printSpinner"),l.appendChild(a);var g=document.createTextNode(n.modalMessage);l.appendChild(g),r.appendChild(l),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("printClose").addEventListener("click",function(){e.close()})},close:function(){var n=document.getElementById("printJS-Modal");n&&n.parentNode.removeChild(n)}};t.default=e},"./src/js/pdf.js":function(o,t,i){i.r(t);var e=i("./src/js/print.js"),u=i("./src/js/functions.js");t.default={print:function(r,l){if(r.base64){var d=Uint8Array.from(atob(r.printable),function(g){return g.charCodeAt(0)});n(r,l,d);return}r.printable=/^(blob|http|\/\/)/i.test(r.printable)?r.printable:window.location.origin+(r.printable.charAt(0)!=="/"?"/"+r.printable:r.printable);var a=new window.XMLHttpRequest;a.responseType="arraybuffer",a.addEventListener("error",function(){Object(u.cleanUp)(r),r.onError(a.statusText,a)}),a.addEventListener("load",function(){if([200,201].indexOf(a.status)===-1){Object(u.cleanUp)(r),r.onError(a.statusText,a);return}n(r,l,a.response)}),a.open("GET",r.printable,!0),a.send()}};function n(f,r,l){var d=new window.Blob([l],{type:"application/pdf"});d=window.URL.createObjectURL(d),r.setAttribute("src",d),e.default.send(f,r)}},"./src/js/print.js":function(o,t,i){i.r(t);var e=i("./src/js/browser.js"),u=i("./src/js/functions.js"),n={send:function(a,g){document.getElementsByTagName("body")[0].appendChild(g);var S=document.getElementById(a.frameId);S.onload=function(){if(a.type==="pdf"){e.default.isFirefox()?setTimeout(function(){return f(S,a)},1e3):f(S,a);return}var s=S.contentWindow||S.contentDocument;if(s.document&&(s=s.document),s.body.appendChild(a.printableElement),a.type!=="pdf"&&a.style){var h=document.createElement("style");h.innerHTML=a.style,s.head.appendChild(h)}var y=s.getElementsByTagName("img");y.length>0?r(Array.from(y)).then(function(){return f(S,a)}):f(S,a)}}};function f(d,a){try{if(d.focus(),e.default.isEdge()||e.default.isIE())try{d.contentWindow.document.execCommand("print",!1,null)}catch{d.contentWindow.print()}else d.contentWindow.print()}catch(g){a.onError(g)}finally{e.default.isFirefox()&&(d.style.visibility="hidden",d.style.left="-1px"),Object(u.cleanUp)(a)}}function r(d){var a=d.map(function(g){if(g.src&&g.src!==window.location.href)return l(g)});return Promise.all(a)}function l(d){return new Promise(function(a){var g=function S(){!d||typeof d.naturalWidth>"u"||d.naturalWidth===0||!d.complete?setTimeout(S,500):a()};g()})}t.default=n},"./src/js/raw-html.js":function(o,t,i){i.r(t);var e=i("./src/js/print.js");t.default={print:function(n,f){n.printableElement=document.createElement("div"),n.printableElement.setAttribute("style","width:100%"),n.printableElement.innerHTML=n.printable,e.default.send(n,f)}}},"./src/sass/index.scss":function(o,t,i){},0:function(o,t,i){o.exports=i("./src/index.js")}}).default})})(dt);var cn=dt.exports;const un=$t(cn),pe=p=>{if(!p)return!1;const x=lt(p);return x?Object.values($e).includes(x):!1},te=p=>p?p instanceof File?p.type==="application/pdf":Ct(p):!1,fn={ref:"contentRef",class:"slider-modal__content"},mn=["onClick"],pn={class:"slider-modal__side-bar-count"},hn={key:0,class:"slider-modal__mobile-header"},vn={class:"slider-modal__mobile-header-block"},gn={class:"slider-modal__mobile-header-block"},yn={class:"slider-modal__counter"},_n=["src"],bn=["data-testid"],wn=["src"],Sn=["src"],xn={class:"slider-modal__bottom"},En={class:"slider-modal__nav-block"},Mn=["disabled"],In=["src","alt"],Cn=["src"],Pn=["disabled"],Tn={class:"slider-modal__nav-block"},kn={class:"slider-modal__sub-nav"},Bn=["disabled"],Rn=["disabled"],On=["disabled"],An={class:"slider-modal__sub-nav"},jn=["disabled"],Ln=["disabled"],Be=80,Qe=20,$n=80,Dn=20,ct=G({name:"SliderModal",__name:"SliderModal",props:{dataTestid:{default:"SliderModal"},animateType:{},open:{type:Boolean},position:{},width:{},height:{},items:{},defaultIndex:{default:0}},emits:["close","unmounted","end-animation"],setup(p,{emit:x}){const o=p,t=x,i=window.matchMedia("(max-width: 768px)"),e=fe({defaultIndex:o.defaultIndex,file:o.items[o.defaultIndex],sideBarItems:[],sideBarIndex:0,sideBarLength:0,isErrorFile:!1,isClickOnExit:!1,isDragging:!1,isMobile:!1,isPointerActive:!1,isExistSwipe:!1,isChangeItemSwipe:!1,isSwipeNextSlide:!1,isSwipePrevSlide:!1,isExitScrollActive:!1,zoomValue:1,offsetX:0,offsetY:0,startX:0,startY:0,startXForMobile:0,startYForMobile:0,endXForMobile:0,endYForMobile:0,overscrollDelta:0,startScrollTop:0,rotateValue:0}),u=O(null),n=O(null),f=O(null),r=O(null),l=O(null),d=O(null),a=O(null),g=O(null),S=J(()=>e.defaultIndex===0),s=J(()=>e.defaultIndex===o.items.length-1),h=J(()=>{var m,E;let c=!e.file||e.isErrorFile;return c=pe((m=e.file)==null?void 0:m.path)||c,c=e.isMobile&&te((E=e.file)==null?void 0:E.path)||c,c}),y=J(()=>{var m;let c=!e.file||e.isErrorFile;return c=pe((m=e.file)==null?void 0:m.path)||c,c}),B=J(()=>!e.file||e.isErrorFile),P=J(()=>{var m;let c=!e.file||e.isErrorFile;return c=pe((m=e.file)==null?void 0:m.path)||c,c}),w=J(()=>({transform:`
    translate(${e.offsetX}px, ${e.offsetY}px)
    scale(${e.zoomValue})
  `}));U([()=>o.items,()=>o.defaultIndex],()=>{e.file=o.items[o.defaultIndex??0],e.defaultIndex=o.defaultIndex??0}),U([()=>e.file,()=>o.open],()=>{if(!o.open){Ce(),e.file=null;return}e.zoomValue=1,yt(),e.file||(e.file=o.items[o.defaultIndex??0]),e.isErrorFile=!1,bt()}),U(()=>o.open,()=>{o.open&&(q(()=>{a.value&&a.value.initScroll()}),e.defaultIndex=o.defaultIndex??0)}),U(()=>e.sideBarIndex,()=>{wt()});const C=()=>{e.isClickOnExit&&t("close")},b=c=>{ce(c)},I=c=>{e.sideBarIndex=c},k=c=>{e.isMobile||_t(c.deltaY)},$=()=>{We(!0)},N=()=>{We(!1)},W=()=>{if(d.value&&d.value.rotatePdf(-90),g.value){e.rotateValue+=-90;const c=gt(),m={transform:` rotate(${e.rotateValue}deg) scale(${c})`};ue(m,g.value)}},Q=()=>{var R,A,F;if(!((R=e.file)!=null&&R.path))return;let c="pdf",m="",E="";ke((A=e.file)==null?void 0:A.path)&&(c="image",m=`
        @page {
          size: A4 portrait;
          margin: 10mm;
        }
      `,E="max-height: 95vh; margin-bottom: 10px; max-width: 100%"),un({printable:(F=e.file)==null?void 0:F.path,type:c,style:m,imageStyle:E})},ae=()=>{var c,m,E;(c=e.file)!=null&&c.path&&dn((m=e.file)==null?void 0:m.path,(E=e.file)==null?void 0:E.name)},oe=(c,m=!1)=>{const E=c.target;E&&(E.src=re),m&&(e.isErrorFile=!0)},D=()=>{a.value&&ce(a.value.nextSlide())},X=()=>{a.value&&ce(a.value.prevSlide())},V=c=>{if(e.isMobile)return;const m=c.target;(m===l.value||m===f.value)&&(e.isClickOnExit=!0)},de=c=>{const m=c.target;(m===l.value||m===f.value)&&C(),e.isClickOnExit=!1},He=c=>{e.isDragging=!0,e.startX=c.clientX-e.offsetX,e.startY=c.clientY-e.offsetY},Ne=c=>{e.isDragging&&(e.offsetX=c.clientX-e.startX,e.offsetY=c.clientY-e.startY,Fe(),requestAnimationFrame(()=>{r.value&&ue(w.value,r.value)}))},ye=()=>{e.isDragging=!1},_e=c=>{e.isMobile&&(e.startXForMobile=c.clientX,e.startYForMobile=c.clientY,e.isPointerActive=!0)},be=c=>{e.isMobile&&(e.startXForMobile=c.touches[0].clientX,e.startYForMobile=c.touches[0].clientY,e.isPointerActive=!0)},mt=()=>{e.isMobile&&(Ie(),Me())},pt=c=>{var F,ee;if(!e.isMobile)return;const m=c.clientX,E=c.clientY,R=Math.abs(m-e.startXForMobile),A=E-e.startYForMobile;e.isExistSwipe&&A>Be&&A>R&&t("close"),e.isChangeItemSwipe&&a.value&&(e.isSwipeNextSlide&&ce((F=a.value)==null?void 0:F.nextSlide()),e.isSwipePrevSlide&&ce((ee=a.value)==null?void 0:ee.prevSlide())),Ie(),q(()=>{Me()})},ht=c=>{var F,ee;if(!e.isMobile)return;const m=c.changedTouches[0].clientX,E=c.changedTouches[0].clientY,R=Math.abs(m-e.startXForMobile),A=E-e.startYForMobile;e.isExistSwipe&&A>Be&&A>R&&t("close"),e.isChangeItemSwipe&&a.value&&(e.isSwipeNextSlide&&ce((F=a.value)==null?void 0:F.nextSlide()),e.isSwipePrevSlide&&ce((ee=a.value)==null?void 0:ee.prevSlide())),Ie(),q(()=>{Me()})},we=c=>{if(!e.isMobile||!e.isPointerActive)return;const m=c.clientY-e.startYForMobile,E=c.clientX-e.startXForMobile;Ve(E,m)},Se=c=>{if(!e.isMobile)return;const m=c.touches[0].clientX,E=c.touches[0].clientY,R=m-e.startXForMobile,A=E-e.startYForMobile;Ve(R,A)},vt=c=>{const m=c.target;!e.isMobile||!m||m.scrollHeight<=m.clientHeight||!e.isExitScrollActive&&m.scrollTop===0&&c.preventDefault()},gt=()=>{if(!f.value||!g.value)return 1;const c=f.value.offsetWidth,m=f.value.offsetHeight,E=g.value.offsetWidth,R=g.value.offsetHeight;let A=1;return Math.abs(e.rotateValue)%180===0||(R>c?A=c/R:E>m&&(A=m/E)),A},Ve=(c,m)=>{const E=Math.abs(c);if(E<m&&m>Qe&&!e.isChangeItemSwipe&&f.value&&f.value.scrollTop===0&&(e.isExistSwipe=!0),E>m&&E>Dn&&!e.isExistSwipe&&(e.isChangeItemSwipe=!0),e.isExistSwipe){const R=Math.max(0,1-(m-Qe)/Be);requestAnimationFrame(()=>{l.value&&ue({opacity:R},l.value)})}if(e.isChangeItemSwipe&&E>$n){const R=e.defaultIndex===o.items.length-1,A=e.defaultIndex===0;if(c>0){if(A)return;e.isSwipePrevSlide=!0}if(c<0){if(R)return;e.isSwipeNextSlide=!0}}},yt=()=>{const c=e.rotateValue!==0;g.value&&(e.rotateValue=0,c&&ue({transform:"none"},g.value))},Me=()=>{requestAnimationFrame(()=>{l.value&&ue({opacity:1},l.value)})},Ie=()=>{e.isPointerActive=!1,e.isExistSwipe=!1,e.isSwipeNextSlide=!1,e.isSwipePrevSlide=!1,e.isChangeItemSwipe=!1},Fe=()=>{if(!f.value||!r.value)return;const c=f.value.clientWidth,m=f.value.clientHeight,E=r.value.offsetWidth*e.zoomValue,R=r.value.offsetHeight*e.zoomValue,A=Math.max(0,(E-c)/2);e.offsetX=Math.min(A,Math.max(-A,e.offsetX));const F=Math.max(0,(R-m)/2);e.offsetY=Math.min(F,Math.max(-F,e.offsetY))},We=c=>{const m=e.zoomValue;e.zoomValue+=c?1:-1,e.zoomValue=Math.min(Math.max(1,e.zoomValue),3);const E=e.zoomValue;if(m===E)return;const R=E/m;e.offsetX*=R,e.offsetY*=R,Fe(),r.value&&(g.value||d.value)&&ue(w.value,r.value)},ce=c=>{o.items[c]&&(e.defaultIndex=c,Ce(),e.file=o.items[c])},_t=c=>{let m=e.sideBarIndex;c>0?(m=e.sideBarIndex+1,m=Math.min(e.sideBarLength-1,m)):(m=e.sideBarIndex-1,m=Math.max(0,m)),e.sideBarIndex=m},bt=()=>{q(()=>{var c,m;e.file&&(te((c=e.file)==null?void 0:c.path)||te((m=e.file)==null?void 0:m.file))&&(e.isErrorFile=!0,St())})},wt=()=>{q(()=>{if(!u.value||!n.value)return;const c=u.value[e.sideBarIndex];Oe(c,n.value)})},St=async()=>{var c,m;try{if(!e.file)return;const E=qe.getCache(e.file.path);let R;if(E?R=E:R=await Pt((c=e.file)==null?void 0:c.path).promise,!R){e.isErrorFile=!0;return}e.sideBarLength=R.numPages,e.sideBarItems=new Array(R.numPages).fill(((m=e.file)==null?void 0:m.path)??""),qe.setCache(e.file.path,R),xt(0),e.isErrorFile=!1}catch(E){console.error(E),e.isErrorFile=!0}},xt=async(c=0)=>{e.sideBarIndex=c},Ce=()=>{e.sideBarItems=[],e.sideBarIndex=0,e.sideBarLength=0},Pe=()=>{e.isMobile=i.matches};return le(()=>{Pe(),i.addEventListener("change",Pe)}),Ae(()=>{Ce(),i.removeEventListener("change",Pe)}),(c,m)=>(M(),Z(at,{position:"center",class:"slider-modal",ref:"modalRef",open:p.open,height:p.height,width:p.width,"animate-type":v(Tt).fade,onClose:C,onEndAnimation:m[3]||(m[3]=E=>c.$emit("end-animation")),onUnmounted:m[4]||(m[4]=E=>c.$emit("unmounted")),onPointerup:pt,onPointerleave:mt,onTouchend:ht},{default:se(()=>{var E,R,A,F,ee,ze,Ue,Xe,Ye;return[_("div",fn,[_("div",{ref_key:"sideBarRef",ref:n,class:me(["slider-modal__side-bar",[{"slider-modal__side-bar_active":v(te)((E=e.file)==null?void 0:E.path)||v(te)((R=e.file)==null?void 0:R.file)}]])},[(M(!0),T(he,null,Te(e.sideBarItems,(H,z)=>(M(),T("div",{ref_for:!0,ref_key:"miniItemsRef",ref:u,class:me(["slider-modal__side-bar-item",{"slider-modal__side-bar-item_active":z===e.sideBarIndex}]),key:z},[_("div",{class:"slider-modal__mini-prewiew-wrapper",onClick:xe=>I(z)},[L(ve,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__mini-preview",src:H,page:z+1},null,8,["src","page"])],8,mn),_("div",pn,Ee(z+1),1)],2))),128))],2),e.isMobile?(M(),T("div",hn,[_("div",vn,[_("div",{class:"slider-modal__exit-button",onClick:m[0]||(m[0]=H=>c.$emit("close"))},[L(K,{class:"slider-modal__exit-icon",name:v(Y).leftBig,width:16,height:16},null,8,["name"]),m[5]||(m[5]=_("div",{class:"slider-modal__exit-text"},"Назад",-1))])]),_("div",gn,[_("div",yn,Ee(e.defaultIndex+1)+" из "+Ee(o.items.length),1)]),m[6]||(m[6]=_("div",{class:"slider-modal__mobile-header-block"},null,-1))])):ie("",!0),_("div",{ref_key:"mainRef",ref:l,class:"slider-modal__main",onMousedown:j(V,["self"]),onMouseup:j(de,["self"])},[v(te)((A=e.file)==null?void 0:A.path)||v(te)((F=e.file)==null?void 0:F.file)?(M(),T("div",{key:0,ref_key:"itemRef",ref:f,class:"slider-modal__item",onMousedown:j(V,["self"]),onMouseup:j(de,["self"]),onWheel:k,onScroll:vt,onPointerdown:_e,onPointermove:we,onTouchstart:be,onTouchmove:Se},[e.isMobile?(M(!0),T(he,{key:1},Te(e.sideBarItems,(H,z)=>(M(),T("div",{key:z,class:"slider-modal__viewport"},[L(ve,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__pdf slider-modal__pdf_mobile",src:H,page:z+1},null,8,["src","page"])]))),128)):(M(),T("div",{key:0,ref_key:"viewportRef",ref:r,class:"slider-modal__viewport",onMousedown:j(He,["stop"]),onMousemove:Ne,onMouseup:ye,onMouseleave:ye},[L(ve,{class:"slider-modal__pdf",ref_key:"pdfRef",ref:d,src:(ee=e==null?void 0:e.file)==null?void 0:ee.path,page:e.sideBarIndex+1},null,8,["src","page"])],544))],544)):v(ke)((ze=e.file)==null?void 0:ze.path)?(M(),T("div",{key:1,ref_key:"itemRef",ref:f,class:"slider-modal__item",onClick:j(C,["self"]),onPointerdown:_e,onPointermove:we,onTouchstart:be,onTouchmove:Se,onMousedown:j(V,["self"]),onMouseup:j(de,["self"])},[_("div",{ref_key:"viewportRef",ref:r,class:"slider-modal__viewport",onMousedown:j(He,["stop"]),onMousemove:Ne,onMouseup:ye,onMouseleave:ye},[_("img",{ref_key:"imagePreviewRef",ref:g,class:"slider-modal__image",src:(Ue=e.file)==null?void 0:Ue.path,onError:m[1]||(m[1]=H=>oe(H,!0))},null,40,_n)],544)],544)):v(pe)((Xe=e.file)==null?void 0:Xe.path)?(M(),T("div",{key:2,class:"slider-modal__item",onClick:j(C,["self"]),onPointerdown:_e,onPointermove:we,onTouchstart:j(be,["prevent"]),onTouchmove:j(Se,["prevent"]),onMousedown:j(V,["self"]),onMouseup:j(de,["self"])},[_("video",{controls:"",playsinline:"","webkit-playsinline":"",class:"slider-modal__video","data-testid":`${o.dataTestid}-Video`,onError:m[2]||(m[2]=H=>oe(H,!0))},[_("source",{src:((Ye=e.file)==null?void 0:Ye.path)??""},null,8,wn)],40,bn)],32)):(M(),T("div",{key:3,class:"slider-modal__item",onClick:j(C,["self"]),onPointerdown:_e,onPointermove:we,onTouchstart:be,onTouchmove:Se,onMousedown:j(V,["self"]),onMouseup:j(de,["self"])},[_("img",{class:"slider-modal__image",src:v(re)},null,8,Sn)],32)),_("div",xn,[m[7]||(m[7]=_("div",{class:"slider-modal__nav-block"},[_("br")],-1)),_("div",En,[o.items.length>1?(M(),T(he,{key:0},[_("button",{class:"slider-modal__side-button",disabled:S.value,onClick:X},[L(K,{class:"slider-modal__icon",name:v(Y).leftBig,width:24,height:24},null,8,["name"])],8,Mn),L(ot,{ref_key:"sliderRef",ref:a,class:"slider-modal__bottom-slider","active-index":e.defaultIndex},{default:se(()=>[(M(!0),T(he,null,Te(o.items,(H,z)=>(M(),Z(st,{class:me(["slider-modal__slide",{"slider-modal__slide_active":z===e.defaultIndex}]),key:z,"is-active":z===e.defaultIndex,onClick:xe=>b(z)},{default:se(()=>{var xe;return[v(ke)(H.path)?(M(),T("img",{key:0,class:"slider-modal__slide-image",src:H.path,alt:H.path,onError:oe},null,40,In)):v(te)(H.path)||v(te)((xe=e.file)==null?void 0:xe.file)?(M(),Z(ve,{key:1,class:"slider-modal__slide-image",src:H.path,page:1},null,8,["src"])):v(pe)(H.path)?(M(),Z(De,{key:2,class:"slider-modal__slide-image",src:H.path},null,8,["src"])):(M(),T("img",{key:3,class:"slider-modal__slide-image",src:v(re)},null,8,Cn))]}),_:2},1032,["class","is-active","onClick"]))),128))]),_:1},8,["active-index"]),_("button",{class:"slider-modal__side-button",disabled:s.value,onClick:D},[L(K,{class:"slider-modal__icon",name:v(Y).rightBig,width:24,height:24},null,8,["name"])],8,Pn)],64)):ie("",!0)]),_("div",Tn,[_("div",kn,[_("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:P.value,onClick:N},[L(K,{class:"slider-modal__icon",name:v(Y).zoomMinus,width:24,height:24},null,8,["name"])],8,Bn),_("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:P.value,onClick:$},[L(K,{class:"slider-modal__icon",name:v(Y).zoomPlus,width:24,height:24},null,8,["name"])],8,Rn),_("button",{class:"slider-modal__side-button",disabled:h.value,onClick:W},[L(K,{class:"slider-modal__icon",name:v(Y).reset,width:24,height:24},null,8,["name"])],8,On)]),_("div",An,[_("button",{class:"slider-modal__side-button",disabled:B.value,onClick:ae},[L(K,{class:"slider-modal__icon",name:v(Y).uploadCloud,width:24,height:24},null,8,["name"])],8,jn),_("button",{class:"slider-modal__side-button slider-modal__side-button_printer",disabled:y.value,onClick:Q},[L(K,{class:"slider-modal__icon",name:v(Y).printer,width:24,height:24},null,8,["name"])],8,Ln)])])])],544)],512)]}),_:1},8,["open","height","width","animate-type"]))}}),Hn=je(ct,[["__scopeId","data-v-422f30bc"]]);ct.__docgenInfo={name:"SliderModal",exportName:"default",displayName:"SliderModal",description:"",tags:{},props:[{name:"defaultIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"animateType",required:!1,type:{name:"ModalAnimateEnum"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]}},{name:"width",required:!1,type:{name:"string"}},{name:"height",required:!1,type:{name:"string"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'SliderModal'"}}],events:[{name:"end-animation"},{name:"unmounted"},{name:"close"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/SliderModal.vue"]};const Nn=["data-testid"],Vn=["data-testid"],Fn=["disabled","data-testid"],Wn=["data-testid"],zn=["data-testid"],Un=["src","data-testid"],Xn=["data-testid"],Yn=["data-testid"],Kn=["src"],qn=["src","data-testid"],Jn=["disabled","data-testid"],ut=G({__name:"Slider",props:{items:{},defaultIndex:{},dataTestid:{default:"Slider"}},setup(p,{expose:x}){const o=p,t=fe({files:o.items.length?o.items:[],file:null,currentIndex:o.defaultIndex||0,extension:null,filePath:null,isShowSliderModal:!1,indexModal:0,isLoad:!1,isError:!1}),i=J(()=>{if(!t.files.length)return!1;let w=!y();return w=w||!B(),w}),e=()=>{t.isError=!1,t.isLoad=!1};U(()=>t.file,()=>{var w;t.filePath=((w=t.file)==null?void 0:w.path)??null,e()},{immediate:!0}),U(()=>o.items,()=>{t.files=o.items.length?o.items:[]});const u=()=>{t.isLoad=!0},n=()=>{t.isError=!0,t.filePath=re},f=w=>{if(!w)return;const C=t.files.findIndex(b=>w.path===b.path);C!==-1&&(t.indexModal=C,t.isShowSliderModal=!0)},r=()=>{t.isShowSliderModal=!1},l=()=>{var w;return(w=o.items)!=null&&w.length?t.currentIndex===o.items.length-1:!0},d=w=>{if(!w)return null;const C=w.split("?")[0],b=/\.\w+$/,I=C.match(b);return t.extension=I?I[0].replace(".",""):null,t.extension},a=w=>{const C=d(w);return C?Object.values(Le).includes(C.toLowerCase()):!1},g=w=>{const C=d(w);return C?Object.values($e).includes(C):!1},S=w=>d(w)==="pdf",s=()=>{t.currentIndex--,t.file=t.files[t.currentIndex]},h=()=>{t.currentIndex++,t.file=t.files[t.currentIndex]},y=()=>t.files.length===0,B=()=>{var w,C,b;return a(((w=t.file)==null?void 0:w.path)??null)==!1&&g(((C=t.file)==null?void 0:C.path)??null)==!1&&S(((b=t.file)==null?void 0:b.path)??null)==!1&&t.files.length>0};le(()=>{if(!o.items)return 0;t.files=o.items,o.defaultIndex&&(t.file=t.files[t.currentIndex]),t.file=t.files[t.currentIndex]});const P=w=>{w>=0&&w<t.files.length&&(t.currentIndex=w,t.file=t.files[t.currentIndex])};return U(()=>o.items,()=>{t.files=o.items,e()},{deep:!0}),x({setSlide:P}),(w,C)=>{var b,I,k,$,N;return M(),T("div",{class:"slider-yui-kit","data-testid":o.dataTestid},[_("div",{class:"slider-yui-kit__wrapper",ref:"slider-yui-kitWrapperRef","data-testid":`${o.dataTestid}-Wrapper`},[_("button",{class:"slider-yui-kit__button slider-yui-kit__button--prev",onClick:s,disabled:t.currentIndex===0,"data-testid":`${o.dataTestid}-Prev-Button`},[L(K,{name:v(Y).leftBig,"data-testid":`${o.dataTestid}-Prev-Icon`},null,8,["name","data-testid"])],8,Fn),_("div",{class:"slider-yui-kit__slides","data-testid":`${o.dataTestid}-Slides-Container`},[y()?(M(),T("div",{key:0,class:"placeholder-yui-kit no-content","data-testid":`${o.dataTestid}-NoContent-Placeholder`},[_("img",{src:v(re),alt:"",width:"111px",height:"111px","data-testid":`${o.dataTestid}-NoContent-Image`},null,8,Un),_("p",{"data-testid":`${o.dataTestid}-NoContent-Paragrpah`}," Контент отсутствует ",8,Xn)],8,zn)):B()?(M(),T("div",{key:1,class:"placeholder-yui-kit","data-testid":`${o.dataTestid}-Invalid-Extension-Placeholder`},[_("img",{src:v(re),alt:"",width:"111px",height:"111px"},null,8,Kn),_("p",null,"."+Ee(t.extension),1)],8,Yn)):(M(),T(he,{key:2},[a(((b=t.file)==null?void 0:b.path)??"")?(M(),T("img",{key:0,class:"slider__item",src:t.filePath??"","data-testid":`${o.dataTestid}-Image`,onClick:C[0]||(C[0]=W=>f(t.file)),onError:n,onLoad:u},null,40,qn)):g(((I=t.file)==null?void 0:I.path)??"")?(M(),Z(De,{key:1,class:"slider__item",src:((k=t.file)==null?void 0:k.path)??"",onClick:C[1]||(C[1]=W=>f(t.file)),onLoad:u,onError:n},null,8,["src"])):S((($=t.file)==null?void 0:$.path)??"")?(M(),Z(ve,{key:2,class:"slider-yui-kit__pdf-preview slider__item",src:(N=t.file)==null?void 0:N.path,onClick:C[2]||(C[2]=W=>f(t.file)),onLoad:u,onError:n},null,8,["src"])):ie("",!0)],64)),!t.isLoad&&i.value&&!t.isError?(M(),Z(Bt,{key:3,class:"slider-yui-kit__loader"})):ie("",!0)],8,Wn),_("button",{class:"slider-yui-kit__button slider-yui-kit__button--next",onClick:h,disabled:l(),"data-testid":`${o.dataTestid}-Next-Button`},[L(K,{name:v(Y).rightBig,"data-testid":`${o.dataTestid}-Next-Icon`},null,8,["name","data-testid"])],8,Jn)],8,Vn),(M(),Z(It,{to:"body"},[L(Hn,{open:t.isShowSliderModal,items:t.files,"default-index":t.indexModal,onClose:r},null,8,["open","items","default-index"])]))],8,Nn)}}}),ft=je(ut,[["__scopeId","data-v-ac5c8cc4"]]);ut.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},expose:[{name:"setSlide"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Slider'"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"defaultIndex",required:!1,type:{name:"number"}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/Slider.vue"]};const Zn=[{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.jpg"},{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.woff"},{path:"https://videocdn.cdnpk.net/joy/content/video/free/video0467/large_preview/_import_61557331a47cb7.87464437.mp4?filename=1109668_stairs_standard_dawn_1920x1080.mp4"},{path:"https://www.sunhome.ru/i/wallpapers/210/voronie-loshadi.orig.jpg"}],Gi={title:"Slider/Slider",component:ft,argTypes:{defaultIndex:{control:{type:Ze.number}},items:{control:{type:Ze.object}}},args:{onClick:Dt()},parameters:{layout:"center"},tags:["autodocs"]},Gn=p=>({components:{Slider:ft},setup(){return{args:p}},template:`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> `}),ge=Gn.bind({});ge.args={items:Zn,defaultIndex:0};var et,tt,nt;ge.parameters={...ge.parameters,docs:{...(et=ge.parameters)==null?void 0:et.docs,source:{originalSource:`args => ({
  components: {
    Slider
  },
  setup() {
    return {
      args
    };
  },
  template: \`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> \`
})`,...(nt=(tt=ge.parameters)==null?void 0:tt.docs)==null?void 0:nt.source}}};const Qi=["Default"];export{ge as Default,Qi as __namedExportsOrder,Gi as default};
