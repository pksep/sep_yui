import{p as G,d as ue,r as A,w as U,o as le,l as E,m as T,q as _,s as te,L as K,k as J,B as fe,a as Ae,u as v,I as j,y as ne,D as Z,G as se,v as O,a5 as Re,E as at,a6 as Et,C as qe,O as Mt,a2 as It,A as Te,z as Ee,F as pe,T as Ct}from"./vue.esm-bundler-D8QwmNJd.js";import{I as X,a as q}from"./Icon-CgbGn_kP.js";import{c as re,i as Pt,_ as he,b as Je,g as Tt}from"./Picture-vP97IZv6.js";import{M as ot,a as kt}from"./ModalAnimated-Cwv7voqr.js";import"./Badges-DriezkGk.js";import"./BreadCrumbs-CVIElvxU.js";import{a as Bt,B as Ze}from"./Button-Bk9jAkTK.js";import"./Switch-B_NDZyKf.js";import"./Dropdown-CjbTY1H8.js";import"./Calendar-CmnX70bD.js";import"./Dialog-DYxK5lQc.js";import"./Accordion-D1pjWLvC.js";import"./DragAndDrop-CiZucJsh.js";import"./Card-eHND-q7f.js";import"./Filter-D1ItAEJ7.js";import"./Combobox-BLCvDK4x.js";import"./SelectList-Dp9vj95N.js";import"./Input-D2d5Yn9V.js";import"./InputNumber-CWWoOR1L.js";import"./Search-CSUy_fmM.js";import"./Toggle-B80S11av.js";import"./Scrollbar-CtgJgKV2.js";import"./Checkbox-BSnSRbdr.js";import"./UserMenu-DUXM63Fg.js";import"./Textarea-NcTgRL6e.js";import"./Notification-DcrASnc-.js";import"./CopyIcon-CNwdlnte.js";import{L as Rt}from"./Loader-CpJmM4Vi.js";import"./FilterTag-JxsbQQP-.js";import"./CircularProgress-B-GaeBTv.js";import"./Popover-CqYpXPWf.js";import"./Table-Dd3il8Ke.js";import{u as Ot,c as At,T as jt}from"./SectionTableRow-B5q6a0QE.js";import"./Radio-Bde_Ln0A.js";import"./Tooltip-DbV-qqYR.js";import"./BaseFilter-Bc3tvdTU.js";import{R as Lt}from"./Range-DwIibG2-.js";import{H as $t}from"./HeadTableRowNew-B2oqvo7X.js";import{c as ve}from"./change-style-properties-1EhjFsjc.js";import"./Avatar-DXCOBzqI.js";import"./Tabs-DMopgWim.js";import"./ContentEditor-D4llOfqv.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TimePicker-D6f0USpU.js";import{g as Dt}from"./_commonjsHelpers-Cpj98o6Y.js";import{S as Ge}from"./storybook-BJU81olc.js";import{f as Nt}from"./index-CGbn3E6N.js";import"./sizes-9jYRAigb.js";import"./index-Cd4hMdH8.js";import"./lodash-DHyxJ22h.js";import"./index-DtW3Gt5I.js";import"./enum-D-JvIl_F.js";import"./colors-BMxzW9Sg.js";var Le=(m=>(m.jpg="jpg",m.png="png",m.jpeg="jpeg",m.webp="webp",m.svg="svg",m))(Le||{}),$e=(m=>(m.mp4="mp4",m.mp3="mp3",m.avif="avif",m))($e||{});const Qe=(m,x=window)=>{const o=m.getBoundingClientRect();if(x instanceof Window){const t=window.innerWidth,i=window.innerHeight;return o.top<i&&o.bottom>0&&o.left<t&&o.right>0}else{const t=x.getBoundingClientRect();return o.top<t.bottom&&o.bottom>t.top&&o.left<t.right&&o.right>t.left}},Oe=(m,x=null)=>{if(!m)return;(x?Qe(m,x):Qe(m))||m.scrollIntoView({behavior:"smooth",block:"nearest"})},st=G({name:"BaseSlider",__name:"BaseSlider",props:{activeIndex:{default:0}},setup(m,{expose:x}){const o=m,t=ue({children:null,activeIndex:o.activeIndex}),i=A(null),e=A(null);U(()=>o.activeIndex,()=>{c(o.activeIndex)});const c=l=>{if(!i.value||!e.value)return;const d=[...i.value.children];l>d.length-1||l<0||(Oe(d[l],e.value),t.activeIndex=l)},n=()=>{K(()=>{!t.children||!e.value||Oe(t.children[t.activeIndex],e.value)})},f=()=>(c(t.activeIndex+1),t.activeIndex),r=()=>(c(t.activeIndex-1),t.activeIndex);return le(()=>{!i.value||!e.value||(t.children=[...i.value.children])}),x({shiftPosition:c,nextSlide:f,prevSlide:r,initScroll:n}),(l,d)=>(E(),T("div",{ref_key:"sliderRef",ref:e,class:"base-slider"},[_("div",{ref_key:"contentRef",ref:i,class:"base-slider__content"},[te(l.$slots,"default")],512)],512))}});st.__docgenInfo={name:"BaseSlider",exportName:"default",displayName:"BaseSlider",description:"",tags:{},expose:[{name:"shiftPosition"},{name:"nextSlide"},{name:"prevSlide"},{name:"initScroll"}],props:[{name:"activeIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlider.vue"]};const Ht={class:"base-slide__content"},rt=G({name:"BaseSlide",__name:"BaseSlide",props:{isActive:{type:Boolean}},setup(m){const x=m,o=J(()=>[{"base-slide_active":x.isActive}]);return(t,i)=>(E(),T("div",{class:fe(["base-slide",o.value])},[_("div",Ht,[te(t.$slots,"default")])],2))}});rt.__docgenInfo={name:"BaseSlide",exportName:"default",displayName:"BaseSlide",description:"",tags:{},props:[{name:"isActive",required:!1,type:{name:"boolean"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlide.vue"]};const Ft={class:"scroll-wrapper__vertical-wrapper"},Wt={class:"scroll-wrapper__horizont-wrapper"},zt=G({name:"ScrollWrapper",__name:"ScrollWrapperNew",props:{isShowVerticalScroll:{type:Boolean,default:!1},isShowHorizontalScroll:{type:Boolean,default:!1}},emits:["unmount-scroll","unmount-paginate","on-mounted"],setup(m,{expose:x,emit:o}){const t=o,i=A(null),e=A(null),c=A(null),n=A(null),f=A(null),r=A(null),{onTrackClick:l,startDrag:d,changeBarPosition:a,setVerticalBarHeight:g,verticalTrackClass:S,isExistVerticalTrack:s}=Ot(i,e,n,c),{changeBarPosition:h,startDrag:y,onTrackClick:B,setHorizontalBarWidth:P,horizontalTrackClass:w,isExistHorizontalTrack:I}=At(i,e,r,f),b=D=>{a(),h(),t("unmount-scroll",D)},M=()=>{requestAnimationFrame(()=>{k(),L()})},k=()=>{if(!i.value||!e.value)return;const D=getComputedStyle(e.value),Y=e.value.style.minHeight||D.minHeight,F=e.value.style.maxHeight||D.maxHeight,de=e.value.style.height;ve({"--scroll-wrapper-height":`${de}`,"--scroll-wrapper-max-height":`${F}`,"--scroll-wrapper-min-height":`${Y}`},e.value)},L=()=>{g(),P(),a(),h()},H=()=>{i.value&&i.value.addEventListener("scroll",b)},W=()=>{i.value&&(i.value.scrollTop=0)},Q=new MutationObserver(()=>{M()}),ie=new ResizeObserver(()=>{M()}),ae=D=>{Q.observe(D,{childList:!0,subtree:!0,attributes:!0}),ie.observe(D)};return x({scrollToTop:W,setHeightSlot:k}),le(()=>{M(),H(),e.value&&ae(e.value),c.value&&ae(c.value),window.addEventListener("resize",M),t("on-mounted")}),Ae(()=>{window.removeEventListener("resize",M)}),(D,Y)=>(E(),T("div",{ref_key:"scrollWrapperRef",ref:e,class:"scroll-wrapper"},[_("div",Ft,[_("div",Wt,[_("div",{ref_key:"slotRef",ref:i,class:"scroll-wrapper__slot"},[te(D.$slots,"default",{},void 0,!0)],512),v(I)||m.isShowHorizontalScroll?(E(),T("div",{key:0,ref_key:"horizontTrackRef",ref:f,class:fe(["scroll-wrapper__track scroll-wrapper__track_horizont",v(w)]),onClick:Y[1]||(Y[1]=j((...F)=>v(B)&&v(B)(...F),["prevent","left"]))},[_("div",{ref_key:"horizontBarRef",ref:r,class:"scroll-wrapper__bar",onMousedown:Y[0]||(Y[0]=j((...F)=>v(y)&&v(y)(...F),["prevent","left"]))},null,544)],2)):ne("",!0)]),v(s)||m.isShowVerticalScroll?(E(),T("div",{key:0,ref_key:"verticalTrackRef",ref:c,class:fe(["scroll-wrapper__track scroll-wrapper__track_vertical",v(S)]),onClick:Y[3]||(Y[3]=j((...F)=>v(l)&&v(l)(...F),["prevent","left"]))},[_("div",{ref_key:"verticalBarRef",ref:n,class:"scroll-wrapper__bar",onMousedown:Y[2]||(Y[2]=j((...F)=>v(d)&&v(d)(...F),["prevent","left"]))},null,544)],2)):ne("",!0)])],512))}});zt.__docgenInfo={name:"ScrollWrapper",exportName:"default",displayName:"ScrollWrapperNew",description:"",tags:{},expose:[{name:"scrollToTop"},{name:"setHeightSlot"}],props:[{name:"isShowVerticalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isShowHorizontalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"unmount-scroll",type:{names:["Event"]}},{name:"unmount-paginate",type:{names:["boolean"]}},{name:"on-mounted"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/ScrollWrapper/ScrollWrapperNew.vue"]};const Vt=["data-testid"],Ut=["data-testid"],Yt=["data-testid"],Xt=G({name:"TableSimple",__name:"TableSimple",props:{dataTestid:{default:"TableSimple"}},setup(m,{expose:x}){const o=m,t=A(null),i=A(null),e=A(null),c=A(null),n=J(()=>{let f=1;if(i.value)for(let r=0;r<i.value.children.length;r++)f=Math.max(i.value.children[r].children.length,f);return f});return x({tbodyRef:e,tableRef:t,theadRef:i}),(f,r)=>(E(),T("table",{ref_key:"tableRef",ref:t,class:"simple-table-yui-kit","data-testid":`${o.dataTestid}`},[te(f.$slots,"default",{},()=>[te(f.$slots,"colspan",{},void 0,!0),f.$slots.head?(E(),T("thead",{key:0,ref_key:"theadRef",ref:i,class:"simple-table-yui-kit__head","data-testid":`${o.dataTestid}-Thead`},[te(f.$slots,"head",{},void 0,!0),f.$slots.search?(E(),Z($t,{key:0,class:"table-new-yui-kit__search",ref_key:"searchRowRef",ref:c,"data-testid":`${o.dataTestid}-Search-Row`},{default:se(()=>[O(jt,{colspan:n.value,class:"table-new-yui-kit__th","data-testid":`${o.dataTestid}-SearchRow-Search`},{default:se(()=>[te(f.$slots,"search",{},void 0,!0)]),_:3},8,["colspan","data-testid"])]),_:3},8,["data-testid"])):ne("",!0)],8,Ut)):ne("",!0),te(f.$slots,"body-group",{},()=>[f.$slots.body?(E(),T("tbody",{key:0,ref_key:"tbodyRef",ref:e,class:"simple-table-yui-kit__body","data-testid":`${o.dataTestid}-Tbody`},[te(f.$slots,"body",{},void 0,!0)],8,Yt)):ne("",!0)],!0)],!0)],8,Vt))}});Xt.__docgenInfo={name:"TableSimple",exportName:"default",displayName:"TableSimple",description:"",tags:{},expose:[{name:"tbodyRef"},{name:"tableRef"},{name:"theadRef"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'TableSimple'"}}],slots:[{name:"default"},{name:"colspan"},{name:"head"},{name:"search"},{name:"body-group"},{name:"body"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/TableSimple.vue"]};const Kt=["data-testid"],qt=["data-testid"],lt=G({name:"BaseCropper",__name:"BaseCropper",props:{image:{},max:{default:3},min:{default:1},step:{default:.5}},emits:["unmount-scale"],setup(m,{expose:x,emit:o}){const t=m,i=o,e=Re("canvas"),c=Re("container"),n=ue({ctx:null,image:null,id:at(),scale:1,position:{x:0,y:0},isDragging:!1,startX:0,startY:0,minScale:t.min,maxScale:t.max,stepScale:t.step});U(()=>t.image,()=>{t.image&&d(t.image)});const f=()=>{e.value&&(n.ctx=e.value.getContext("2d")),r(),window.addEventListener("resize",r)},r=()=>{if(c.value){const{width:b,height:M}=c.value.getBoundingClientRect();e.value&&(e.value.width=b,e.value.height=M),n.image&&l()}},l=()=>{if(n.image){const b=n.ctx,M=e.value;b&&M&&(b.clearRect(0,0,M.width,M.height),b.drawImage(n.image,n.position.x,n.position.y,n.image.width*n.scale,n.image.height*n.scale))}},d=b=>{const M=new FileReader;M.onload=async k=>{var L;typeof((L=k.target)==null?void 0:L.result)=="string"&&(n.image=new Image,n.image.src=k.target.result,n.image.onload=async()=>{if(await K(),e.value&&n.image){const H=e.value.width,W=e.value.height,Q=n.image.width/n.image.height,ie=H/W;Q>ie?(n.image.width=H,n.image.height=H/Q):(n.image.height=W,n.image.width=W*Q),r(),n.position.x=(e.value.width-n.image.width)/2,n.position.y=(e.value.height-n.image.height)/2,l()}})},M.readAsDataURL(b)},a=b=>{n.isDragging=!0,n.startX=b.clientX-n.position.x,n.startY=b.clientY-n.position.y,window.addEventListener("mousemove",g),window.addEventListener("mouseup",S)},g=b=>{if(!n.isDragging&&!e.value)return;let M=b.clientX-n.startX,k=b.clientY-n.startY;if(e.value&&n.image){const L=e.value.width-n.image.width*n.scale;n.image.width*n.scale<e.value.width?M=Math.min(Math.max(M,0),e.value.width-n.image.width*n.scale):(M>0&&(M=0),M<L&&(M=L));const H=e.value.height-n.image.height*n.scale;n.image.height*n.scale<e.value.height?k=Math.min(Math.max(k,0),e.value.height-n.image.height*n.scale):(k>0&&(k=0),k<H&&(k=H)),n.position.x=M,n.position.y=k}l()},S=()=>{n.isDragging=!1,window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S)},s=b=>Math.max(n.minScale,Math.min(b,n.maxScale)),h=b=>{if(e.value){const M=e.value.width/2,k=e.value.height/2;n.position.x=M-(M-n.position.x)*b,n.position.y=k-(k-n.position.y)*b}},y=b=>{const M=n.scale,k=n.scale+b.deltaY*-.001;if(M===s(k))return;n.scale=s(k);const L=k/M;h(L),i("unmount-scale",n.scale),l()};return x({cropImage:()=>{if(c.value){const{width:b,height:M}=c.value.getBoundingClientRect(),k=document.createElement("canvas");k.width=b,k.height=M;const L=k.getContext("2d");L&&n.image&&L.drawImage(n.image,n.position.x,n.position.y,n.image.width*n.scale,n.image.height*n.scale);const H=k.toDataURL("image/png"),W=atob(H.split(",")[1]),Q=new ArrayBuffer(W.length),ie=new Uint8Array(Q);for(let D=0;D<W.length;D++)ie[D]=W.charCodeAt(D);const ae=new Blob([ie],{type:"image/png"});return t.image?new File([ae],t.image.name,{type:"image/png"}):null}return null},scalePlus:()=>{const b=n.scale+n.stepScale;n.scale=s(b),l()},scaleMinus:()=>{const b=n.scale-n.stepScale;n.scale=s(b),l()},setScale:b=>{const M=n.scale,L=b/M;n.scale=s(b),h(L),l()},startMove:a,scaleImage:y}),le(()=>{f(),t.image&&d(t.image)}),(b,M)=>(E(),T("div",{ref_key:"container",ref:c,class:"base-cropper","data-testid":`BaseCropper-${n.id}`},[_("canvas",{ref_key:"canvas",ref:e,class:"base-cropper__canvas","data-testid":`BaseCropper-${n.id}-canvas`,onMousedown:a,onWheel:j(y,["prevent"])},null,40,qt)],8,Kt))}}),Jt=je(lt,[["__scopeId","data-v-96931847"]]);lt.__docgenInfo={name:"BaseCropper",exportName:"default",displayName:"BaseCropper",description:"",tags:{},expose:[{name:"cropImage"},{name:"scalePlus"},{name:"scaleMinus"},{name:"setScale"},{name:"startMove"},{name:"scaleImage"}],props:[{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}},{name:"max",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"3"}},{name:"min",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"step",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0.5"}}],events:[{name:"unmount-scale",type:{names:["number"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/BaseCropper.vue"]};const Zt=m=>{const x=A(m==null?void 0:m.defaultValue),o=m==null?void 0:m.min,t=m==null?void 0:m.max,i=m==null?void 0:m.step;U(x,c=>{x.value=e(c)});const e=c=>Math.max(o,Math.min(c,t));return{value:x,min:o,max:t,step:i,getCorrectValue:e}},Gt=(m,x)=>new File([m],x,{type:m.type}),Qt=["data-testid"],en=["data-testid"],tn=["data-testid"],nn=["data-testid"],an=["data-testid"],on=["data-testid"],sn=G({name:"ModalCroppedAvatar",__name:"ModalCroppedAvatar",props:{image:{},open:{type:Boolean},position:{default:"center"},width:{default:"650px"},height:{default:"auto"},dataTestid:{}},emits:["unmount-close","unmount-save"],setup(m,{emit:x}){const o=m,t=x,{max:i,min:e,step:c,value:n}=Zt({defaultValue:1,max:3,min:1,step:.1}),f=at(),r=Re("cropper"),l=ue({openModal:!1});U(n,()=>{r.value&&r.value.setScale(n.value)});const d=()=>{l.openModal=!1,t("unmount-close")},a=h=>{n.value=h},g=()=>{n.value=n.value-c},S=()=>{n.value=n.value+c},s=()=>{if(r.value){const h=r.value.cropImage();if(h){const y=h.name,B=Gt(h,y);t("unmount-save",B),d()}}};return Ae(()=>{d()}),le(()=>{o.open===void 0&&(l.openModal=o.open)}),(h,y)=>(E(),Z(ot,Mt(o,{class:"modal-cropped-avatar","data-testid":`ModalCroppedAvatar-${v(f)}`,onClose:d}),{default:se(()=>[_("div",{class:"modal-cropped-avatar__content","data-testid":`ModalCroppedAvatar-${v(f)}-content`},[_("div",{class:"modal-cropped-avatar__title","data-testid":`ModalCroppedAvatar-${v(f)}-title`}," Изменение фото профиля ",8,en),_("div",{class:"modal-cropped-avatar__main","data-testid":`ModalCroppedAvatar-${v(f)}-content-main`},[_("div",{class:"modal-cropped-avatar__cropped","data-testid":`ModalCroppedAvatar-${v(f)}-content-main-cropped`},[O(Jt,{ref_key:"cropper",ref:r,image:m.image,max:v(i),min:v(e),step:v(c),class:"modal-cropped-avatar__cropper",onUnmountScale:a},null,8,["image","max","min","step"]),_("div",{class:"modal-cropped-avatar__tools","data-testid":`ModalCroppedAvatar-${v(f)}-content-tools`},[O(q,{name:v(X).minus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${v(f)}-content-iconMinus`,onClick:g},null,8,["name","data-testid"]),O(Lt,{max:v(i),min:v(e),step:v(c),modelValue:v(n),"onUpdate:modelValue":y[0]||(y[0]=B=>Et(n)?n.value=B:null),"data-testid":`ModalCroppedAvatar-${v(f)}-content-Range`},null,8,["max","min","step","modelValue","data-testid"]),O(q,{name:v(X).plus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${v(f)}-content-IconPlus`,onClick:S},null,8,["name","data-testid"])],8,an)],8,nn),_("div",{class:"modal-cropped-avatar__buttons","data-testid":`ModalCroppedAvatar-${v(f)}-content-buttons`},[O(Ze,{type:v(Bt).outline,class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${v(f)}-content-ButtonCancel`,onClick:d},{default:se(()=>[...y[1]||(y[1]=[qe(" Отменить ",-1)])]),_:1},8,["type","data-testid"]),O(Ze,{class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${v(f)}-content-buttonSave`,onClick:s},{default:se(()=>[...y[2]||(y[2]=[qe(" Сохранить ",-1)])]),_:1},8,["data-testid"])],8,on)],8,tn)],8,Qt)]),_:1},16,["data-testid"]))}});sn.__docgenInfo={name:"ModalCroppedAvatar",exportName:"default",displayName:"ModalCroppedAvatar",description:"",tags:{},props:[{name:"height",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'auto'"}},{name:"width",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'650px'"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'center'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"dataTestid",required:!1,type:{name:"string"}},{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}}],events:[{name:"unmount-close"},{name:"unmount-save",type:{names:["File"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/ModalCroppedAvatar.vue"]};const rn=["src"],dt=G({name:"ImagePreview",__name:"ImagePreview",props:{src:{}},emits:["error"],setup(m,{expose:x,emit:o}){const t=m,i=o,e=ue({isError:!1,rotate:0});U(()=>t.src,()=>{e.isError=!1,e.rotate=0,K(()=>{n()})});const c=A(null),n=async()=>{try{if(!c.value||!t.src)return;const r=new Image;r.src=t.src,r.addEventListener("load",()=>{var s;if(!c.value)return;const l=(s=c.value)==null?void 0:s.getContext("2d");if(!l)return;const d=r.width,a=r.height;let g=d,S=a;e.rotate%180!==0&&(g=a,S=d),c.value.width=g,c.value.height=S,l.save(),l.clearRect(0,0,g,S),l.translate(g/2,S/2),l.rotate(e.rotate*Math.PI/180),l.drawImage(r,-d/2,-a/2,d,a),l.restore()}),r.addEventListener("error",l=>{e.isError=!0,i("error",l)})}catch{i("error",new Event("error")),e.isError=!0}},f=async r=>{const l=Math.round(r/90)*90;e.rotate+=l,K(()=>{n()})};return le(()=>{K(()=>{n()})}),x({rotateImage:f}),(r,l)=>e.isError?(E(),T("img",{key:1,src:v(re)},null,8,rn)):(E(),T("canvas",{key:0,ref_key:"canvasRef",ref:c,class:"image-preview"},null,512))}});dt.__docgenInfo={name:"ImagePreview",exportName:"default",displayName:"ImagePreview",description:"",tags:{},expose:[{name:"rotateImage"}],props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/ImagePreview.vue"]};const ln=["src"],De=G({name:"VideoPreview",__name:"VideoPreview",props:{src:{}},emits:["error","load"],setup(m,{emit:x}){const o=m,t=x,i=ue({isError:!1});U(()=>o.src,()=>{i.isError=!1,K(()=>{c()})});const e=A(null),c=async()=>{var n;try{if(!e.value||!o.src)return;const f=document.createElement("video");f.muted=!0,f.preload="metadata";const r=await fetch(o.src);if(!r.ok)throw new Error("Failed to fetch video");const l=new Blob([await r.arrayBuffer()]);f.src=URL.createObjectURL(l);const d=(n=e==null?void 0:e.value)==null?void 0:n.getContext("2d");if(!d)return;f.addEventListener("loadeddata",()=>{f.currentTime=0,t("load")}),f.addEventListener("seeked",()=>{var a,g;e.value&&d.drawImage(f,0,0,(a=e.value)==null?void 0:a.width,(g=e.value)==null?void 0:g.height)}),f.addEventListener("error",a=>{i.isError=!0,t("error",a)})}catch{t("error",new Event("error")),i.isError=!0}};return le(()=>{K(()=>{c()})}),(n,f)=>i.isError?(E(),T("img",{key:1,src:v(re)},null,8,ln)):(E(),T("canvas",{key:0,ref_key:"canvasRef",ref:e,class:"video-preview"},null,512))}});De.__docgenInfo={name:"VideoPreview",exportName:"default",displayName:"VideoPreview",description:"",tags:{},props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}},{name:"load"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/VideoPreview.vue"]};const ct=m=>{if(!m)return null;const x=m.split("?")[0],o=/\.\w+$/,t=x.match(o);return t?t[0].replace(".",""):null},ke=m=>{if(!m)return!1;if(m.startsWith("data:image/"))return!0;const x=ct(m);return x?Object.values(Le).includes(x.toLowerCase()):!1},dn=async(m,x="file")=>{const t=await(await fetch(m)).blob(),i=window.URL.createObjectURL(t),e=document.createElement("a");e.href=i,e.download=x,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(i)};var ut={exports:{}};(function(m,x){(function(t,i){m.exports=i()})(window,function(){return function(o){var t={};function i(e){if(t[e])return t[e].exports;var c=t[e]={i:e,l:!1,exports:{}};return o[e].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=o,i.c=t,i.d=function(e,c,n){i.o(e,c)||Object.defineProperty(e,c,{enumerable:!0,get:n})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,c){if(c&1&&(e=i(e)),c&8||c&4&&typeof e=="object"&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),c&2&&typeof e!="string")for(var f in e)i.d(n,f,(function(r){return e[r]}).bind(null,f));return n},i.n=function(e){var c=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(c,"a",c),c},i.o=function(e,c){return Object.prototype.hasOwnProperty.call(e,c)},i.p="",i(i.s=0)}({"./src/index.js":function(o,t,i){i.r(t),i("./src/sass/index.scss");var e=i("./src/js/init.js"),c=e.default.init;typeof window<"u"&&(window.printJS=c),t.default=c},"./src/js/browser.js":function(o,t,i){i.r(t);var e={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!e.isIE()&&!!window.StyleMedia},isChrome:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!n.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};t.default=e},"./src/js/functions.js":function(o,t,i){i.r(t),i.d(t,"addWrapper",function(){return f}),i.d(t,"capitalizePrint",function(){return r}),i.d(t,"collectStyles",function(){return l}),i.d(t,"addHeader",function(){return a}),i.d(t,"cleanUp",function(){return g}),i.d(t,"isRawHTML",function(){return S});var e=i("./src/js/modal.js"),c=i("./src/js/browser.js");function n(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(y){return typeof y}:n=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(s)}function f(s,h){var y="font-family:"+h.font+" !important; font-size: "+h.font_size+" !important; width:100%;";return'<div style="'+y+'">'+s+"</div>"}function r(s){return s.charAt(0).toUpperCase()+s.slice(1)}function l(s,h){for(var y=document.defaultView||window,B="",P=y.getComputedStyle(s,""),w=0;w<P.length;w++)(h.targetStyles.indexOf("*")!==-1||h.targetStyle.indexOf(P[w])!==-1||d(h.targetStyles,P[w]))&&P.getPropertyValue(P[w])&&(B+=P[w]+":"+P.getPropertyValue(P[w])+";");return B+="max-width: "+h.maxWidth+"px !important; font-size: "+h.font_size+" !important;",B}function d(s,h){for(var y=0;y<s.length;y++)if(n(h)==="object"&&h.indexOf(s[y])!==-1)return!0;return!1}function a(s,h){var y=document.createElement("div");if(S(h.header))y.innerHTML=h.header;else{var B=document.createElement("h1"),P=document.createTextNode(h.header);B.appendChild(P),B.setAttribute("style",h.headerStyle),y.appendChild(B)}s.insertBefore(y,s.childNodes[0])}function g(s){s.showModal&&e.default.close(),s.onLoadingEnd&&s.onLoadingEnd(),(s.showModal||s.onLoadingStart)&&window.URL.revokeObjectURL(s.printable);var h="mouseover";(c.default.isChrome()||c.default.isFirefox())&&(h="focus");var y=function B(){window.removeEventListener(h,B),s.onPrintDialogClose();var P=document.getElementById(s.frameId);P&&P.remove()};window.addEventListener(h,y)}function S(s){var h=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return h.test(s)}},"./src/js/html.js":function(o,t,i){i.r(t);var e=i("./src/js/functions.js"),c=i("./src/js/print.js");function n(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(a){return typeof a}:n=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(l)}t.default={print:function(d,a){var g=r(d.printable)?d.printable:document.getElementById(d.printable);if(!g){window.console.error("Invalid HTML element id: "+d.printable);return}d.printableElement=f(g,d),d.header&&Object(e.addHeader)(d.printableElement,d),c.default.send(d,a)}};function f(l,d){for(var a=l.cloneNode(),g=Array.prototype.slice.call(l.childNodes),S=0;S<g.length;S++)if(d.ignoreElements.indexOf(g[S].id)===-1){var s=f(g[S],d);a.appendChild(s)}switch(d.scanStyles&&l.nodeType===1&&a.setAttribute("style",Object(e.collectStyles)(l,d)),l.tagName){case"SELECT":a.value=l.value;break;case"CANVAS":a.getContext("2d").drawImage(l,0,0);break}return a}function r(l){return n(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(o,t,i){i.r(t);var e=i("./src/js/functions.js"),c=i("./src/js/print.js"),n=i("./src/js/browser.js");t.default={print:function(r,l){r.printable.constructor!==Array&&(r.printable=[r.printable]),r.printableElement=document.createElement("div"),r.printable.forEach(function(d){var a=document.createElement("img");if(a.setAttribute("style",r.imageStyle),a.src=d,n.default.isFirefox()){var g=a.src;a.src=g}var S=document.createElement("div");S.appendChild(a),r.printableElement.appendChild(S)}),r.header&&Object(e.addHeader)(r.printableElement,r),c.default.send(r,l)}}},"./src/js/init.js":function(o,t,i){i.r(t);var e=i("./src/js/browser.js"),c=i("./src/js/modal.js"),n=i("./src/js/pdf.js"),f=i("./src/js/html.js"),r=i("./src/js/raw-html.js"),l=i("./src/js/image.js"),d=i("./src/js/json.js");function a(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(h){return typeof h}:a=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},a(S)}var g=["pdf","html","image","json","raw-html"];t.default={init:function(){var s={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(b){throw b},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},h=arguments[0];if(h===void 0)throw new Error("printJS expects at least 1 attribute.");switch(a(h)){case"string":s.printable=encodeURI(h),s.fallbackPrintable=s.printable,s.type=arguments[1]||s.type;break;case"object":s.printable=h.printable,s.fallbackPrintable=typeof h.fallbackPrintable<"u"?h.fallbackPrintable:s.printable,s.fallbackPrintable=s.base64?"data:application/pdf;base64,".concat(s.fallbackPrintable):s.fallbackPrintable;for(var y in s)y==="printable"||y==="fallbackPrintable"||(s[y]=typeof h[y]<"u"?h[y]:s[y]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+a(h))}if(!s.printable)throw new Error("Missing printable information.");if(!s.type||typeof s.type!="string"||g.indexOf(s.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");s.showModal&&c.default.show(s),s.onLoadingStart&&s.onLoadingStart();var B=document.getElementById(s.frameId);B&&B.parentNode.removeChild(B);var P=document.createElement("iframe");switch(e.default.isFirefox()?P.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):P.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),P.setAttribute("id",s.frameId),s.type!=="pdf"&&(P.srcdoc="<html><head><title>"+s.documentTitle+"</title>",s.css&&(Array.isArray(s.css)||(s.css=[s.css]),s.css.forEach(function(I){P.srcdoc+='<link rel="stylesheet" href="'+I+'">'})),P.srcdoc+="</head><body></body></html>"),s.type){case"pdf":if(e.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var w=window.open(s.fallbackPrintable,"_blank");w.focus(),s.onIncompatibleBrowser()}catch(I){s.onError(I)}finally{s.showModal&&c.default.close(),s.onLoadingEnd&&s.onLoadingEnd()}else n.default.print(s,P);break;case"image":l.default.print(s,P);break;case"html":f.default.print(s,P);break;case"raw-html":r.default.print(s,P);break;case"json":d.default.print(s,P);break}}}},"./src/js/json.js":function(o,t,i){i.r(t);var e=i("./src/js/functions.js"),c=i("./src/js/print.js");function n(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(d){return typeof d}:n=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},n(r)}t.default={print:function(l,d){if(n(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(a){return{field:n(a)==="object"?a.field:a,displayName:n(a)==="object"?a.displayName:a,columnSize:n(a)==="object"&&a.columnSize?a.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(e.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=f(l),c.default.send(l,d)}};function f(r){var l=r.printable,d=r.properties,a='<table style="border-collapse: collapse; width: 100%;">';r.repeatTableHeader&&(a+="<thead>"),a+="<tr>";for(var g=0;g<d.length;g++)a+='<th style="width:'+d[g].columnSize+";"+r.gridHeaderStyle+'">'+Object(e.capitalizePrint)(d[g].displayName)+"</th>";a+="</tr>",r.repeatTableHeader&&(a+="</thead>"),a+="<tbody>";for(var S=0;S<l.length;S++){a+="<tr>";for(var s=0;s<d.length;s++){var h=l[S],y=d[s].field.split(".");if(y.length>1)for(var B=0;B<y.length;B++)h=h[y[B]];else h=h[d[s].field];a+='<td style="width:'+d[s].columnSize+r.gridStyle+'">'+h+"</td>"}a+="</tr>"}return a+="</tbody></table>",a}},"./src/js/modal.js":function(o,t,i){i.r(t);var e={show:function(n){var f="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",r=document.createElement("div");r.setAttribute("style",f),r.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var d=document.createElement("div");d.setAttribute("class","printClose"),d.setAttribute("id","printClose"),l.appendChild(d);var a=document.createElement("span");a.setAttribute("class","printSpinner"),l.appendChild(a);var g=document.createTextNode(n.modalMessage);l.appendChild(g),r.appendChild(l),document.getElementsByTagName("body")[0].appendChild(r),document.getElementById("printClose").addEventListener("click",function(){e.close()})},close:function(){var n=document.getElementById("printJS-Modal");n&&n.parentNode.removeChild(n)}};t.default=e},"./src/js/pdf.js":function(o,t,i){i.r(t);var e=i("./src/js/print.js"),c=i("./src/js/functions.js");t.default={print:function(r,l){if(r.base64){var d=Uint8Array.from(atob(r.printable),function(g){return g.charCodeAt(0)});n(r,l,d);return}r.printable=/^(blob|http|\/\/)/i.test(r.printable)?r.printable:window.location.origin+(r.printable.charAt(0)!=="/"?"/"+r.printable:r.printable);var a=new window.XMLHttpRequest;a.responseType="arraybuffer",a.addEventListener("error",function(){Object(c.cleanUp)(r),r.onError(a.statusText,a)}),a.addEventListener("load",function(){if([200,201].indexOf(a.status)===-1){Object(c.cleanUp)(r),r.onError(a.statusText,a);return}n(r,l,a.response)}),a.open("GET",r.printable,!0),a.send()}};function n(f,r,l){var d=new window.Blob([l],{type:"application/pdf"});d=window.URL.createObjectURL(d),r.setAttribute("src",d),e.default.send(f,r)}},"./src/js/print.js":function(o,t,i){i.r(t);var e=i("./src/js/browser.js"),c=i("./src/js/functions.js"),n={send:function(a,g){document.getElementsByTagName("body")[0].appendChild(g);var S=document.getElementById(a.frameId);S.onload=function(){if(a.type==="pdf"){e.default.isFirefox()?setTimeout(function(){return f(S,a)},1e3):f(S,a);return}var s=S.contentWindow||S.contentDocument;if(s.document&&(s=s.document),s.body.appendChild(a.printableElement),a.type!=="pdf"&&a.style){var h=document.createElement("style");h.innerHTML=a.style,s.head.appendChild(h)}var y=s.getElementsByTagName("img");y.length>0?r(Array.from(y)).then(function(){return f(S,a)}):f(S,a)}}};function f(d,a){try{if(d.focus(),e.default.isEdge()||e.default.isIE())try{d.contentWindow.document.execCommand("print",!1,null)}catch{d.contentWindow.print()}else d.contentWindow.print()}catch(g){a.onError(g)}finally{e.default.isFirefox()&&(d.style.visibility="hidden",d.style.left="-1px"),Object(c.cleanUp)(a)}}function r(d){var a=d.map(function(g){if(g.src&&g.src!==window.location.href)return l(g)});return Promise.all(a)}function l(d){return new Promise(function(a){var g=function S(){!d||typeof d.naturalWidth>"u"||d.naturalWidth===0||!d.complete?setTimeout(S,500):a()};g()})}t.default=n},"./src/js/raw-html.js":function(o,t,i){i.r(t);var e=i("./src/js/print.js");t.default={print:function(n,f){n.printableElement=document.createElement("div"),n.printableElement.setAttribute("style","width:100%"),n.printableElement.innerHTML=n.printable,e.default.send(n,f)}}},"./src/sass/index.scss":function(o,t,i){},0:function(o,t,i){o.exports=i("./src/index.js")}}).default})})(ut);var cn=ut.exports;const un=Dt(cn),me=m=>{if(!m)return!1;const x=ct(m);return x?Object.values($e).includes(x):!1},ee=m=>m?m instanceof File?m.type==="application/pdf":Pt(m):!1,fn={ref:"contentRef",class:"slider-modal__content"},mn=["onClick"],pn={class:"slider-modal__side-bar-count"},hn={key:0,class:"slider-modal__mobile-header"},vn={class:"slider-modal__mobile-header-block"},gn={class:"slider-modal__mobile-header-block"},yn={class:"slider-modal__counter"},_n=["data-testid"],bn=["src"],wn=["src"],Sn={class:"slider-modal__bottom"},xn={class:"slider-modal__nav-block"},En=["disabled"],Mn=["src","alt"],In=["src"],Cn=["disabled"],Pn={class:"slider-modal__nav-block"},Tn={class:"slider-modal__sub-nav"},kn=["disabled"],Bn=["disabled"],Rn=["disabled"],On={class:"slider-modal__sub-nav"},An=["disabled"],jn=["disabled"],Be=80,et=20,Ln=80,$n=20,ft=G({name:"SliderModal",__name:"SliderModal",props:{dataTestid:{default:"SliderModal"},animateType:{},open:{type:Boolean},position:{},width:{},height:{},items:{},defaultIndex:{default:0}},emits:["close","unmounted","end-animation"],setup(m,{emit:x}){const o=m,t=x,i=window.matchMedia("(max-width: 768px)"),e=ue({defaultIndex:o.defaultIndex,file:o.items[o.defaultIndex],sideBarItems:[],sideBarIndex:0,sideBarLength:0,isErrorFile:!1,isClickOnExit:!1,isDragging:!1,isMobile:!1,isPointerActive:!1,isExistSwipe:!1,isChangeItemSwipe:!1,isSwipeNextSlide:!1,isSwipePrevSlide:!1,isExitScrollActive:!1,zoomValue:1,offsetX:0,offsetY:0,startX:0,startY:0,startXForMobile:0,startYForMobile:0,endXForMobile:0,endYForMobile:0,overscrollDelta:0,startScrollTop:0}),c=A(null),n=A(null),f=A(null),r=A(null),l=A(null),d=A(null),a=A(null),g=A(null),S=J(()=>e.defaultIndex===0),s=J(()=>e.defaultIndex===o.items.length-1),h=J(()=>{var p,C;let u=!e.file||e.isErrorFile;return u=me((p=e.file)==null?void 0:p.path)||u,u=e.isMobile&&ee((C=e.file)==null?void 0:C.path)||u,u}),y=J(()=>{var p;let u=!e.file||e.isErrorFile;return u=me((p=e.file)==null?void 0:p.path)||u,u}),B=J(()=>!e.file||e.isErrorFile),P=J(()=>{var p;let u=!e.file||e.isErrorFile;return u=me((p=e.file)==null?void 0:p.path)||u,u}),w=J(()=>({transform:`
    translate(${e.offsetX}px, ${e.offsetY}px)
    scale(${e.zoomValue})
  `}));U([()=>o.items,()=>o.defaultIndex],()=>{e.file=o.items[o.defaultIndex??0],e.defaultIndex=o.defaultIndex??0}),U([()=>e.file,()=>o.open],()=>{if(!o.open){Ce(),e.file=null;return}e.zoomValue=1,e.file||(e.file=o.items[o.defaultIndex??0]),e.isErrorFile=!1,bt()}),U(()=>o.open,()=>{o.open&&(K(()=>{a.value&&a.value.initScroll()}),e.defaultIndex=o.defaultIndex??0)}),U(()=>e.sideBarIndex,()=>{wt()});const I=()=>{e.isClickOnExit&&t("close")},b=u=>{ce(u)},M=u=>{e.sideBarIndex=u},k=u=>{e.isMobile||_t(u.deltaY)},L=()=>{ze(!0)},H=()=>{ze(!1)},W=()=>{d.value&&d.value.rotatePdf(-90),g.value&&g.value.rotateImage(-90)},Q=()=>{var R,$,z;if(!((R=e.file)!=null&&R.path))return;let u="pdf",p="",C="";ke(($=e.file)==null?void 0:$.path)&&(u="image",p=`
        @page {
          size: A4 portrait;
          margin: 10mm;
        }
      `,C="max-height: 95vh; margin-bottom: 10px; max-width: 100%"),un({printable:(z=e.file)==null?void 0:z.path,type:u,style:p,imageStyle:C})},ie=()=>{var u,p,C;(u=e.file)!=null&&u.path&&dn((p=e.file)==null?void 0:p.path,(C=e.file)==null?void 0:C.name)},ae=(u,p=!1)=>{const C=u.target;C&&(C.src=re),p&&(e.isErrorFile=!0)},D=()=>{a.value&&ce(a.value.nextSlide())},Y=()=>{a.value&&ce(a.value.prevSlide())},F=u=>{if(e.isMobile)return;const p=u.target;(p===l.value||p===f.value)&&(e.isClickOnExit=!0)},de=u=>{const p=u.target;(p===l.value||p===f.value)&&I(),e.isClickOnExit=!1},Ne=u=>{e.isDragging=!0,e.startX=u.clientX-e.offsetX,e.startY=u.clientY-e.offsetY},He=u=>{e.isDragging&&(e.offsetX=u.clientX-e.startX,e.offsetY=u.clientY-e.startY,We(),requestAnimationFrame(()=>{r.value&&ve(w.value,r.value)}))},ye=()=>{e.isDragging=!1},_e=u=>{e.isMobile&&(e.startXForMobile=u.clientX,e.startYForMobile=u.clientY,e.isPointerActive=!0)},be=u=>{e.isMobile&&(e.startXForMobile=u.touches[0].clientX,e.startYForMobile=u.touches[0].clientY,e.isPointerActive=!0)},ht=()=>{e.isMobile&&(Ie(),Me())},vt=u=>{var z,oe;if(!e.isMobile)return;const p=u.clientX,C=u.clientY,R=Math.abs(p-e.startXForMobile),$=C-e.startYForMobile;e.isExistSwipe&&$>Be&&$>R&&t("close"),e.isChangeItemSwipe&&a.value&&(e.isSwipeNextSlide&&ce((z=a.value)==null?void 0:z.nextSlide()),e.isSwipePrevSlide&&ce((oe=a.value)==null?void 0:oe.prevSlide())),Ie(),K(()=>{Me()})},gt=u=>{var z,oe;if(!e.isMobile)return;const p=u.changedTouches[0].clientX,C=u.changedTouches[0].clientY,R=Math.abs(p-e.startXForMobile),$=C-e.startYForMobile;e.isExistSwipe&&$>Be&&$>R&&t("close"),e.isChangeItemSwipe&&a.value&&(e.isSwipeNextSlide&&ce((z=a.value)==null?void 0:z.nextSlide()),e.isSwipePrevSlide&&ce((oe=a.value)==null?void 0:oe.prevSlide())),Ie(),K(()=>{Me()})},we=u=>{if(!e.isMobile||!e.isPointerActive)return;const p=u.clientY-e.startYForMobile,C=u.clientX-e.startXForMobile;Fe(C,p)},Se=u=>{if(!e.isMobile)return;const p=u.touches[0].clientX,C=u.touches[0].clientY,R=p-e.startXForMobile,$=C-e.startYForMobile;Fe(R,$)},yt=u=>{const p=u.target;!e.isMobile||!p||p.scrollHeight<=p.clientHeight||!e.isExitScrollActive&&p.scrollTop===0&&u.preventDefault()},Fe=(u,p)=>{const C=Math.abs(u);if(C<p&&p>et&&!e.isChangeItemSwipe&&f.value&&f.value.scrollTop===0&&(e.isExistSwipe=!0),C>p&&C>$n&&!e.isExistSwipe&&(e.isChangeItemSwipe=!0),e.isExistSwipe){const R=Math.max(0,1-(p-et)/Be);requestAnimationFrame(()=>{l.value&&ve({opacity:R},l.value)})}if(e.isChangeItemSwipe&&C>Ln){const R=e.defaultIndex===o.items.length-1,$=e.defaultIndex===0;if(u>0){if($)return;e.isSwipePrevSlide=!0}if(u<0){if(R)return;e.isSwipeNextSlide=!0}}},Me=()=>{requestAnimationFrame(()=>{l.value&&ve({opacity:1},l.value)})},Ie=()=>{e.isPointerActive=!1,e.isExistSwipe=!1,e.isSwipeNextSlide=!1,e.isSwipePrevSlide=!1,e.isChangeItemSwipe=!1},We=()=>{if(!f.value||!r.value)return;const u=f.value.clientWidth,p=f.value.clientHeight,C=r.value.offsetWidth*e.zoomValue,R=r.value.offsetHeight*e.zoomValue,$=Math.max(0,(C-u)/2);e.offsetX=Math.min($,Math.max(-$,e.offsetX));const z=Math.max(0,(R-p)/2);e.offsetY=Math.min(z,Math.max(-z,e.offsetY))},ze=u=>{const p=e.zoomValue;e.zoomValue+=u?1:-1,e.zoomValue=Math.min(Math.max(1,e.zoomValue),3);const C=e.zoomValue;if(p===C)return;const R=C/p;e.offsetX*=R,e.offsetY*=R,We(),r.value&&(g.value||d.value)&&ve(w.value,r.value)},ce=u=>{o.items[u]&&(e.defaultIndex=u,Ce(),e.file=o.items[u])},_t=u=>{let p=e.sideBarIndex;u>0?(p=e.sideBarIndex+1,p=Math.min(e.sideBarLength-1,p)):(p=e.sideBarIndex-1,p=Math.max(0,p)),e.sideBarIndex=p},bt=()=>{K(()=>{var u,p;e.file&&(ee((u=e.file)==null?void 0:u.path)||ee((p=e.file)==null?void 0:p.file))&&(e.isErrorFile=!0,St())})},wt=()=>{K(()=>{if(!c.value||!n.value)return;const u=c.value[e.sideBarIndex];Oe(u,n.value)})},St=async()=>{var u,p;try{if(!e.file)return;const C=Je.getCache(e.file.path);let R;if(C?R=C:R=await Tt((u=e.file)==null?void 0:u.path).promise,!R){e.isErrorFile=!0;return}e.sideBarLength=R.numPages,e.sideBarItems=new Array(R.numPages).fill(((p=e.file)==null?void 0:p.path)??""),Je.setCache(e.file.path,R),xt(0),e.isErrorFile=!1}catch(C){console.error(C),e.isErrorFile=!0}},xt=async(u=0)=>{e.sideBarIndex=u},Ce=()=>{e.sideBarItems=[],e.sideBarIndex=0,e.sideBarLength=0},Pe=()=>{e.isMobile=i.matches};return le(()=>{Pe(),i.addEventListener("change",Pe)}),Ae(()=>{Ce(),i.removeEventListener("change",Pe)}),(u,p)=>{const C=It("YIcon");return E(),Z(ot,{position:"center",class:"slider-modal",ref:"modalRef",open:m.open,height:m.height,width:m.width,"animate-type":v(kt).fade,onClose:I,onEndAnimation:p[3]||(p[3]=R=>u.$emit("end-animation")),onUnmounted:p[4]||(p[4]=R=>u.$emit("unmounted")),onPointerup:vt,onPointerleave:ht,onTouchend:gt},{default:se(()=>{var R,$,z,oe,Ve,Ue,Ye,Xe,Ke;return[_("div",fn,[_("div",{ref_key:"sideBarRef",ref:n,class:fe(["slider-modal__side-bar",[{"slider-modal__side-bar_active":v(ee)((R=e.file)==null?void 0:R.path)||v(ee)(($=e.file)==null?void 0:$.file)}]])},[(E(!0),T(pe,null,Te(e.sideBarItems,(N,V)=>(E(),T("div",{ref_for:!0,ref_key:"miniItemsRef",ref:c,class:fe(["slider-modal__side-bar-item",{"slider-modal__side-bar-item_active":V===e.sideBarIndex}]),key:V},[_("div",{class:"slider-modal__mini-prewiew-wrapper",onClick:xe=>M(V)},[O(he,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__mini-preview",src:N,page:V+1},null,8,["src","page"])],8,mn),_("div",pn,Ee(V+1),1)],2))),128))],2),e.isMobile?(E(),T("div",hn,[_("div",vn,[_("div",{class:"slider-modal__exit-button",onClick:p[0]||(p[0]=N=>u.$emit("close"))},[O(C,{class:"slider-modal__exit-icon",name:v(X).leftBig,width:16,height:16},null,8,["name"]),p[5]||(p[5]=_("div",{class:"slider-modal__exit-text"},"Назад",-1))])]),_("div",gn,[_("div",yn,Ee(e.defaultIndex+1)+" из "+Ee(o.items.length),1)]),p[6]||(p[6]=_("div",{class:"slider-modal__mobile-header-block"},null,-1))])):ne("",!0),_("div",{ref_key:"mainRef",ref:l,class:"slider-modal__main",onMousedown:j(F,["self"]),onMouseup:j(de,["self"])},[v(ee)((z=e.file)==null?void 0:z.path)||v(ee)((oe=e.file)==null?void 0:oe.file)?(E(),T("div",{key:0,ref_key:"itemRef",ref:f,class:"slider-modal__item",onMousedown:j(F,["self"]),onMouseup:j(de,["self"]),onWheel:k,onScroll:yt,onPointerdown:_e,onPointermove:we,onTouchstart:be,onTouchmove:Se},[e.isMobile?(E(!0),T(pe,{key:1},Te(e.sideBarItems,(N,V)=>(E(),T("div",{key:V,class:"slider-modal__viewport"},[O(he,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__pdf slider-modal__pdf_mobile",src:N,page:V+1},null,8,["src","page"])]))),128)):(E(),T("div",{key:0,ref_key:"viewportRef",ref:r,class:"slider-modal__viewport",onMousedown:j(Ne,["stop"]),onMousemove:He,onMouseup:ye,onMouseleave:ye},[O(he,{class:"slider-modal__pdf",ref_key:"pdfRef",ref:d,src:(Ve=e==null?void 0:e.file)==null?void 0:Ve.path,page:e.sideBarIndex+1},null,8,["src","page"])],544))],544)):v(ke)((Ue=e.file)==null?void 0:Ue.path)?(E(),T("div",{key:1,ref_key:"itemRef",ref:f,class:"slider-modal__item",onClick:j(I,["self"]),onPointerdown:_e,onPointermove:we,onTouchstart:be,onTouchmove:Se,onMousedown:j(F,["self"]),onMouseup:j(de,["self"])},[_("div",{ref_key:"viewportRef",ref:r,class:"slider-modal__viewport",onMousedown:j(Ne,["stop"]),onMousemove:He,onMouseup:ye,onMouseleave:ye},[O(dt,{ref_key:"imagePreviewRef",ref:g,class:"slider-modal__image",src:(Ye=e.file)==null?void 0:Ye.path,onError:p[1]||(p[1]=N=>ae(N,!0))},null,8,["src"])],544)],544)):v(me)((Xe=e.file)==null?void 0:Xe.path)?(E(),T("div",{key:2,class:"slider-modal__item",onClick:j(I,["self"]),onPointerdown:_e,onPointermove:we,onTouchstart:j(be,["prevent"]),onTouchmove:j(Se,["prevent"]),onMousedown:j(F,["self"]),onMouseup:j(de,["self"])},[_("video",{controls:"",playsinline:"","webkit-playsinline":"",class:"slider-modal__video","data-testid":`${o.dataTestid}-Video`,onError:p[2]||(p[2]=N=>ae(N,!0))},[_("source",{src:((Ke=e.file)==null?void 0:Ke.path)??""},null,8,bn)],40,_n)],32)):(E(),T("div",{key:3,class:"slider-modal__item",onClick:j(I,["self"]),onPointerdown:_e,onPointermove:we,onTouchstart:be,onTouchmove:Se,onMousedown:j(F,["self"]),onMouseup:j(de,["self"])},[_("img",{class:"slider-modal__image",src:v(re)},null,8,wn)],32)),_("div",Sn,[p[7]||(p[7]=_("div",{class:"slider-modal__nav-block"},[_("br")],-1)),_("div",xn,[o.items.length>1?(E(),T(pe,{key:0},[_("button",{class:"slider-modal__side-button",disabled:S.value,onClick:Y},[O(q,{class:"slider-modal__icon",name:v(X).leftBig,width:24,height:24},null,8,["name"])],8,En),O(st,{ref_key:"sliderRef",ref:a,class:"slider-modal__bottom-slider","active-index":e.defaultIndex},{default:se(()=>[(E(!0),T(pe,null,Te(o.items,(N,V)=>(E(),Z(rt,{class:fe(["slider-modal__slide",{"slider-modal__slide_active":V===e.defaultIndex}]),key:V,"is-active":V===e.defaultIndex,onClick:xe=>b(V)},{default:se(()=>{var xe;return[v(ke)(N.path)?(E(),T("img",{key:0,class:"slider-modal__slide-image",src:N.path,alt:N.path,onError:ae},null,40,Mn)):v(ee)(N.path)||v(ee)((xe=e.file)==null?void 0:xe.file)?(E(),Z(he,{key:1,class:"slider-modal__slide-image",src:N.path,page:1},null,8,["src"])):v(me)(N.path)?(E(),Z(De,{key:2,class:"slider-modal__slide-image",src:N.path},null,8,["src"])):(E(),T("img",{key:3,class:"slider-modal__slide-image",src:v(re)},null,8,In))]}),_:2},1032,["class","is-active","onClick"]))),128))]),_:1},8,["active-index"]),_("button",{class:"slider-modal__side-button",disabled:s.value,onClick:D},[O(q,{class:"slider-modal__icon",name:v(X).rightBig,width:24,height:24},null,8,["name"])],8,Cn)],64)):ne("",!0)]),_("div",Pn,[_("div",Tn,[_("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:P.value,onClick:H},[O(q,{class:"slider-modal__icon",name:v(X).zoomMinus,width:24,height:24},null,8,["name"])],8,kn),_("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:P.value,onClick:L},[O(q,{class:"slider-modal__icon",name:v(X).zoomPlus,width:24,height:24},null,8,["name"])],8,Bn),_("button",{class:"slider-modal__side-button",disabled:h.value,onClick:W},[O(q,{class:"slider-modal__icon",name:v(X).reset,width:24,height:24},null,8,["name"])],8,Rn)]),_("div",On,[_("button",{class:"slider-modal__side-button",disabled:B.value,onClick:ie},[O(q,{class:"slider-modal__icon",name:v(X).uploadCloud,width:24,height:24},null,8,["name"])],8,An),_("button",{class:"slider-modal__side-button slider-modal__side-button_printer",disabled:y.value,onClick:Q},[O(q,{class:"slider-modal__icon",name:v(X).printer,width:24,height:24},null,8,["name"])],8,jn)])])])],544)],512)]}),_:1},8,["open","height","width","animate-type"])}}}),Dn=je(ft,[["__scopeId","data-v-28e9db60"]]);ft.__docgenInfo={name:"SliderModal",exportName:"default",displayName:"SliderModal",description:"",tags:{},props:[{name:"defaultIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"animateType",required:!1,type:{name:"ModalAnimateEnum"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]}},{name:"width",required:!1,type:{name:"string"}},{name:"height",required:!1,type:{name:"string"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'SliderModal'"}}],events:[{name:"end-animation"},{name:"unmounted"},{name:"close"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/SliderModal.vue"]};const Nn=["data-testid"],Hn=["data-testid"],Fn=["disabled","data-testid"],Wn=["data-testid"],zn=["data-testid"],Vn=["src","data-testid"],Un=["data-testid"],Yn=["data-testid"],Xn=["src"],Kn=["src","data-testid"],qn=["disabled","data-testid"],mt=G({__name:"Slider",props:{items:{},defaultIndex:{},dataTestid:{default:"Slider"}},setup(m,{expose:x}){const o=m,t=ue({files:o.items.length?o.items:[],file:null,currentIndex:o.defaultIndex||0,extension:null,filePath:null,isShowSliderModal:!1,indexModal:0,isLoad:!1,isError:!1}),i=J(()=>{if(!t.files.length)return!1;let w=!y();return w=w||!B(),w}),e=()=>{t.isError=!1,t.isLoad=!1};U(()=>t.file,()=>{var w;t.filePath=((w=t.file)==null?void 0:w.path)??null,e()},{immediate:!0}),U(()=>o.items,()=>{t.files=o.items.length?o.items:[]});const c=()=>{t.isLoad=!0},n=()=>{t.isError=!0,t.filePath=re},f=w=>{if(!w)return;const I=t.files.findIndex(b=>w.path===b.path);I!==-1&&(t.indexModal=I,t.isShowSliderModal=!0)},r=()=>{t.isShowSliderModal=!1},l=()=>{var w;return(w=o.items)!=null&&w.length?t.currentIndex===o.items.length-1:!0},d=w=>{if(!w)return null;const I=w.split("?")[0],b=/\.\w+$/,M=I.match(b);return t.extension=M?M[0].replace(".",""):null,t.extension},a=w=>{const I=d(w);return I?Object.values(Le).includes(I.toLowerCase()):!1},g=w=>{const I=d(w);return I?Object.values($e).includes(I):!1},S=w=>d(w)==="pdf",s=()=>{t.currentIndex--,t.file=t.files[t.currentIndex]},h=()=>{t.currentIndex++,t.file=t.files[t.currentIndex]},y=()=>t.files.length===0,B=()=>{var w,I,b;return a(((w=t.file)==null?void 0:w.path)??null)==!1&&g(((I=t.file)==null?void 0:I.path)??null)==!1&&S(((b=t.file)==null?void 0:b.path)??null)==!1&&t.files.length>0};le(()=>{if(!o.items)return 0;t.files=o.items,o.defaultIndex&&(t.file=t.files[t.currentIndex]),t.file=t.files[t.currentIndex]});const P=w=>{w>=0&&w<t.files.length&&(t.currentIndex=w,t.file=t.files[t.currentIndex])};return U(()=>o.items,()=>{t.files=o.items,e()},{deep:!0}),x({setSlide:P}),(w,I)=>{var b,M,k,L,H;return E(),T("div",{class:"slider-yui-kit","data-testid":o.dataTestid},[_("div",{class:"slider-yui-kit__wrapper",ref:"slider-yui-kitWrapperRef","data-testid":`${o.dataTestid}-Wrapper`},[_("button",{class:"slider-yui-kit__button slider-yui-kit__button--prev",onClick:s,disabled:t.currentIndex===0,"data-testid":`${o.dataTestid}-Prev-Button`},[O(q,{name:v(X).leftBig,"data-testid":`${o.dataTestid}-Prev-Icon`},null,8,["name","data-testid"])],8,Fn),_("div",{class:"slider-yui-kit__slides","data-testid":`${o.dataTestid}-Slides-Container`},[y()?(E(),T("div",{key:0,class:"placeholder-yui-kit no-content","data-testid":`${o.dataTestid}-NoContent-Placeholder`},[_("img",{src:v(re),alt:"",width:"111px",height:"111px","data-testid":`${o.dataTestid}-NoContent-Image`},null,8,Vn),_("p",{"data-testid":`${o.dataTestid}-NoContent-Paragrpah`}," Контент отсутствует ",8,Un)],8,zn)):B()?(E(),T("div",{key:1,class:"placeholder-yui-kit","data-testid":`${o.dataTestid}-Invalid-Extension-Placeholder`},[_("img",{src:v(re),alt:"",width:"111px",height:"111px"},null,8,Xn),_("p",null,"."+Ee(t.extension),1)],8,Yn)):(E(),T(pe,{key:2},[a(((b=t.file)==null?void 0:b.path)??"")?(E(),T("img",{key:0,class:"slider__item",src:t.filePath??"","data-testid":`${o.dataTestid}-Image`,onClick:I[0]||(I[0]=W=>f(t.file)),onError:n,onLoad:c},null,40,Kn)):g(((M=t.file)==null?void 0:M.path)??"")?(E(),Z(De,{key:1,class:"slider__item",src:((k=t.file)==null?void 0:k.path)??"",onClick:I[1]||(I[1]=W=>f(t.file)),onLoad:c,onError:n},null,8,["src"])):S(((L=t.file)==null?void 0:L.path)??"")?(E(),Z(he,{key:2,class:"slider-yui-kit__pdf-preview slider__item",src:(H=t.file)==null?void 0:H.path,onClick:I[2]||(I[2]=W=>f(t.file)),onLoad:c,onError:n},null,8,["src"])):ne("",!0)],64)),!t.isLoad&&i.value&&!t.isError?(E(),Z(Rt,{key:3,class:"slider-yui-kit__loader"})):ne("",!0)],8,Wn),_("button",{class:"slider-yui-kit__button slider-yui-kit__button--next",onClick:h,disabled:l(),"data-testid":`${o.dataTestid}-Next-Button`},[O(q,{name:v(X).rightBig,"data-testid":`${o.dataTestid}-Next-Icon`},null,8,["name","data-testid"])],8,qn)],8,Hn),(E(),Z(Ct,{to:"body"},[O(Dn,{open:t.isShowSliderModal,items:t.files,"default-index":t.indexModal,onClose:r},null,8,["open","items","default-index"])]))],8,Nn)}}}),pt=je(mt,[["__scopeId","data-v-ac5c8cc4"]]);mt.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},expose:[{name:"setSlide"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Slider'"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"defaultIndex",required:!1,type:{name:"number"}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/Slider.vue"]};const Jn=[{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.jpg"},{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.woff"},{path:"https://videocdn.cdnpk.net/joy/content/video/free/video0467/large_preview/_import_61557331a47cb7.87464437.mp4?filename=1109668_stairs_standard_dawn_1920x1080.mp4"},{path:"https://www.sunhome.ru/i/wallpapers/210/voronie-loshadi.orig.jpg"}],Zi={title:"Slider/Slider",component:pt,argTypes:{defaultIndex:{control:{type:Ge.number}},items:{control:{type:Ge.object}}},args:{onClick:Nt()},parameters:{layout:"center"},tags:["autodocs"]},Zn=m=>({components:{Slider:pt},setup(){return{args:m}},template:`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> `}),ge=Zn.bind({});ge.args={items:Jn,defaultIndex:0};var tt,nt,it;ge.parameters={...ge.parameters,docs:{...(tt=ge.parameters)==null?void 0:tt.docs,source:{originalSource:`args => ({
  components: {
    Slider
  },
  setup() {
    return {
      args
    };
  },
  template: \`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> \`
})`,...(it=(nt=ge.parameters)==null?void 0:nt.docs)==null?void 0:it.source}}};const Gi=["Default"];export{ge as Default,Gi as __namedExportsOrder,Zi as default};
