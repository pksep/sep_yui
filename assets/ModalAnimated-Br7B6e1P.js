import{r as c,p as q,M as E,k as T,o as S,N as V,a as $,l as y,m as I,q as R,s as x,x as W,O as F,I as P,u as K,d as U,D as w,G as k,y as z,K as G}from"./vue.esm-bundler-DwgwRRKm.js";import{c as b}from"./change-style-properties-1EhjFsjc.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j=()=>{const n=c(0),s=c([]),t=c(null),i=l=>{s.value.push(l),d(l),a()},m=()=>{s.value.pop(),e(),s.value.length?d(s.value[s.value.length-1]):t.value=null},d=l=>{t.value=l},a=()=>{n.value+=1},e=()=>{n.value>0&&(n.value-=1)};return{countOpenedModal:n,openedModals:s,lastOpenedModal:t,addOpenedModal:i,reduceOpenedModal:m,setLastOpenedModal:d,incrementCountModal:a,decrementCountModal:e}},H=["data-testid"],J=["data-testid"],D=q({__name:"Modal",props:{open:{type:Boolean},position:{default:"right"},width:{},height:{},dataTestid:{default:"Modal"}},emits:["close","unmounted"],setup(n,{expose:s,emit:t}){const{lastOpenedModal:i,addOpenedModal:m,reduceOpenedModal:d}=j(),a=n,e=c(null),l=E(),f=c(!1),g=T(()=>({width:a.width,height:a.height})),u=t;let h=0;const r=()=>{h=Date.now(),e.value&&(a.open?(e.value.showModal(),m(e.value)):v())},v=()=>{Date.now()-h<300||(d(),u("close"))},L=()=>{var o;(o=e.value)==null||o.close(),document.documentElement.focus(),M()},_=o=>{o.key==="Escape"&&i.value===e.value&&v()},N=()=>{if(document.querySelectorAll(".modal-yui-kit").length===1)return window.innerWidth-document.documentElement.clientWidth;{const p=document.body.style.paddingRight;return Number(p.replace(/\D/g,""))||0}},M=()=>{document.querySelectorAll(".modal-yui-kit").length===0&&b({overflow:"","padding-right":""},document.body)},O=o=>{o.target===e.value&&v()};return s({closeDialog:L}),S(()=>{V(()=>{a.open!==f.value&&(r(),f.value=a.open,e.value&&e.value.focus())}),e.value&&e.value.addEventListener("cancel",p=>{p.preventDefault()});const o=N();b({overflow:"hidden","padding-right":`${o}px`},document.body),document.addEventListener("keydown",_)}),$(()=>{M(),document.removeEventListener("keydown",_),u("unmounted")}),(o,p)=>(y(),I("dialog",F({ref_key:"dialog",ref:e},K(l),{class:["modal-yui-kit",`modal-yui-kit_${a.position}`],"data-testid":a.dataTestid,onClick:P(O,["self","left"])}),[R("div",{class:"modal-yui-kit__modal-content",style:W(g.value),"data-testid":`${a.dataTestid}-ModalContent`},[x(o.$slots,"default",{},void 0,!0)],12,J)],16,H))}}),Q=C(D,[["__scopeId","data-v-719561ba"]]);D.__docgenInfo={exportName:"default",displayName:"Modal",description:"",tags:{},expose:[{name:"closeDialog"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Modal'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'right'"}},{name:"width",required:!1,type:{name:"string"}},{name:"height",required:!1,type:{name:"string"}}],events:[{name:"close"},{name:"unmounted"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Modal/Modal.vue"]};var A=(n=>(n.slideTop="slide-top",n.slideLeft="slide-left",n.fadeAndScale="fade-and-scale",n.fade="fade",n))(A||{});const B=q({__name:"ModalAnimated",props:{animateType:{},open:{type:Boolean},position:{default:"right"},width:{},height:{},dataTestid:{default:"Modal"}},emits:["close","unmounted","end-animation"],setup(n,{emit:s}){const t=n,i=s,m=T(()=>t.animateType===A.fade?"fade":t.position==="bottom"?"slide-bottom":t.position==="right"?"slide-left":"fade-and-scale"),d=c(null),a=U({function:()=>{}}),e=()=>{u()},l=()=>{i("unmounted")},f=()=>{u()},g=()=>{a.function(),i("end-animation")},u=()=>{var r;d.value&&(a.function=(r=d.value)==null?void 0:r.closeDialog)},h=()=>{u(),i("close")};return(r,v)=>(y(),w(G,{name:m.value,onAfterLeave:g,onBeforeLeave:f,onAfterEnter:e},{default:k(()=>[t.open?(y(),w(Q,{key:0,ref_key:"modalRef",ref:d,open:t.open,position:t.position,width:t.width,height:t.height,"data-testid":t.dataTestid,onClose:h,onUnmounted:l},{default:k(()=>[x(r.$slots,"default",{},void 0,!0)]),_:3},8,["open","position","width","height","data-testid"])):z("",!0)]),_:3},8,["name"]))}}),te=C(B,[["__scopeId","data-v-f7950e34"]]);B.__docgenInfo={exportName:"default",displayName:"ModalAnimated",description:"",tags:{},props:[{name:"height",required:!1,type:{name:"string"}},{name:"width",required:!1,type:{name:"string"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'right'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Modal'"}},{name:"animateType",required:!1,type:{name:"ModalAnimateEnum"}}],events:[{name:"close"},{name:"unmounted"},{name:"end-animation"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Modal/ModalAnimated.vue"]};export{te as M,A as a};
