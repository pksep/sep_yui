import{p as q,d as le,r as k,w as F,o as se,l as E,m as P,q as b,s as ee,L as J,k as Q,B as de,a as Te,u as v,I as N,y as ae,D as te,G as oe,v as R,a5 as Ce,E as et,a6 as yt,C as Ve,O as _t,A as Me,z as xe,F as me,T as bt}from"./vue.esm-bundler-D8QwmNJd.js";import{I as Y,a as K}from"./Icon-CgbGn_kP.js";import{c as re,i as wt,_ as pe,b as Ue,g as xt}from"./Picture-B3wn-JRb.js";import{M as tt,a as St}from"./ModalAnimated-xJh7DygI.js";import"./Badges-DriezkGk.js";import"./BreadCrumbs-CVIElvxU.js";import{a as Et,B as Xe}from"./Button-Bk9jAkTK.js";import"./Switch-B_NDZyKf.js";import"./Dropdown-CjbTY1H8.js";import"./Calendar-CmnX70bD.js";import"./Dialog-DYxK5lQc.js";import"./Accordion-D1pjWLvC.js";import"./DragAndDrop-CiZucJsh.js";import"./Card-eHND-q7f.js";import"./Filter-D1ItAEJ7.js";import"./Combobox-BLCvDK4x.js";import"./SelectList-Dp9vj95N.js";import"./Input-D2d5Yn9V.js";import"./InputNumber-CWWoOR1L.js";import"./Search-CSUy_fmM.js";import"./Toggle-B80S11av.js";import"./Scrollbar-CtgJgKV2.js";import"./Checkbox-BSnSRbdr.js";import"./UserMenu-DUXM63Fg.js";import"./Textarea-NcTgRL6e.js";import"./Notification-DcrASnc-.js";import"./CopyIcon-CNwdlnte.js";import"./Loader-CpJmM4Vi.js";import"./FilterTag-JxsbQQP-.js";import"./CircularProgress-B-GaeBTv.js";import"./Popover-CqYpXPWf.js";import"./Table-Dd3il8Ke.js";import{u as Mt,c as It,T as Ct}from"./SectionTableRow-B5q6a0QE.js";import"./Radio-Bde_Ln0A.js";import"./Tooltip-DbV-qqYR.js";import"./BaseFilter-Bc3tvdTU.js";import{R as Pt}from"./Range-DwIibG2-.js";import{H as Tt}from"./HeadTableRowNew-B2oqvo7X.js";import{c as he}from"./change-style-properties-1EhjFsjc.js";import"./Avatar-DXCOBzqI.js";import"./Tabs-DMopgWim.js";import"./ContentEditor-D4llOfqv.js";import{_ as Be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TimePicker-D6f0USpU.js";import{g as Bt}from"./_commonjsHelpers-Cpj98o6Y.js";import{S as Ye}from"./storybook-BJU81olc.js";import{f as kt}from"./index-CGbn3E6N.js";import"./sizes-9jYRAigb.js";import"./index-Cd4hMdH8.js";import"./lodash-DHyxJ22h.js";import"./index-DtW3Gt5I.js";import"./enum-D-JvIl_F.js";import"./colors-BMxzW9Sg.js";var ke=(f=>(f.jpg="jpg",f.png="png",f.jpeg="jpeg",f.webp="webp",f.svg="svg",f))(ke||{}),Re=(f=>(f.mp4="mp4",f.mp3="mp3",f.avif="avif",f))(Re||{});const Ke=(f,x=window)=>{const o=f.getBoundingClientRect();if(x instanceof Window){const n=window.innerWidth,i=window.innerHeight;return o.top<i&&o.bottom>0&&o.left<n&&o.right>0}else{const n=x.getBoundingClientRect();return o.top<n.bottom&&o.bottom>n.top&&o.left<n.right&&o.right>n.left}},Pe=(f,x=null)=>{if(!f)return;(x?Ke(f,x):Ke(f))||f.scrollIntoView({behavior:"smooth",block:"nearest"})},nt=q({name:"BaseSlider",__name:"BaseSlider",props:{activeIndex:{default:0}},setup(f,{expose:x}){const o=f,n=le({children:null,activeIndex:o.activeIndex}),i=k(null),e=k(null);F(()=>o.activeIndex,()=>{c(o.activeIndex)});const c=l=>{if(!i.value||!e.value)return;const d=[...i.value.children];l>d.length-1||l<0||(Pe(d[l],e.value),n.activeIndex=l)},t=()=>{J(()=>{!n.children||!e.value||Pe(n.children[n.activeIndex],e.value)})},u=()=>(c(n.activeIndex+1),n.activeIndex),s=()=>(c(n.activeIndex-1),n.activeIndex);return se(()=>{!i.value||!e.value||(n.children=[...i.value.children])}),x({shiftPosition:c,nextSlide:u,prevSlide:s,initScroll:t}),(l,d)=>(E(),P("div",{ref_key:"sliderRef",ref:e,class:"base-slider"},[b("div",{ref_key:"contentRef",ref:i,class:"base-slider__content"},[ee(l.$slots,"default")],512)],512))}});nt.__docgenInfo={name:"BaseSlider",exportName:"default",displayName:"BaseSlider",description:"",tags:{},expose:[{name:"shiftPosition"},{name:"nextSlide"},{name:"prevSlide"},{name:"initScroll"}],props:[{name:"activeIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlider.vue"]};const Rt={class:"base-slide__content"},it=q({name:"BaseSlide",__name:"BaseSlide",props:{isActive:{type:Boolean}},setup(f){const x=f,o=Q(()=>[{"base-slide_active":x.isActive}]);return(n,i)=>(E(),P("div",{class:de(["base-slide",o.value])},[b("div",Rt,[ee(n.$slots,"default")])],2))}});it.__docgenInfo={name:"BaseSlide",exportName:"default",displayName:"BaseSlide",description:"",tags:{},props:[{name:"isActive",required:!1,type:{name:"boolean"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/BaseSlide.vue"]};const Ot={class:"scroll-wrapper__vertical-wrapper"},jt={class:"scroll-wrapper__horizont-wrapper"},At=q({name:"ScrollWrapper",__name:"ScrollWrapperNew",props:{isShowVerticalScroll:{type:Boolean,default:!1},isShowHorizontalScroll:{type:Boolean,default:!1}},emits:["unmount-scroll","unmount-paginate","on-mounted"],setup(f,{expose:x,emit:o}){const n=o,i=k(null),e=k(null),c=k(null),t=k(null),u=k(null),s=k(null),{onTrackClick:l,startDrag:d,changeBarPosition:a,setVerticalBarHeight:y,verticalTrackClass:w,isExistVerticalTrack:r}=Mt(i,e,t,c),{changeBarPosition:h,startDrag:m,onTrackClick:_,setHorizontalBarWidth:S,horizontalTrackClass:O,isExistHorizontalTrack:j}=It(i,e,s,u),M=A=>{a(),h(),n("unmount-scroll",A)},I=()=>{requestAnimationFrame(()=>{T(),$()})},T=()=>{if(!i.value||!e.value)return;const A=getComputedStyle(e.value),V=e.value.style.minHeight||A.minHeight,U=e.value.style.maxHeight||A.maxHeight,ge=e.value.style.height;he({"--scroll-wrapper-height":`${ge}`,"--scroll-wrapper-max-height":`${U}`,"--scroll-wrapper-min-height":`${V}`},e.value)},$=()=>{y(),S(),a(),h()},z=()=>{i.value&&i.value.addEventListener("scroll",M)},X=()=>{i.value&&(i.value.scrollTop=0)},Z=new MutationObserver(()=>{I()}),ne=new ResizeObserver(()=>{I()}),ie=A=>{Z.observe(A,{childList:!0,subtree:!0,attributes:!0}),ne.observe(A)};return x({scrollToTop:X,setHeightSlot:T}),se(()=>{I(),z(),e.value&&ie(e.value),c.value&&ie(c.value),window.addEventListener("resize",I),n("on-mounted")}),Te(()=>{window.removeEventListener("resize",I)}),(A,V)=>(E(),P("div",{ref_key:"scrollWrapperRef",ref:e,class:"scroll-wrapper"},[b("div",Ot,[b("div",jt,[b("div",{ref_key:"slotRef",ref:i,class:"scroll-wrapper__slot"},[ee(A.$slots,"default",{},void 0,!0)],512),v(j)||f.isShowHorizontalScroll?(E(),P("div",{key:0,ref_key:"horizontTrackRef",ref:u,class:de(["scroll-wrapper__track scroll-wrapper__track_horizont",v(O)]),onClick:V[1]||(V[1]=N((...U)=>v(_)&&v(_)(...U),["prevent","left"]))},[b("div",{ref_key:"horizontBarRef",ref:s,class:"scroll-wrapper__bar",onMousedown:V[0]||(V[0]=N((...U)=>v(m)&&v(m)(...U),["prevent","left"]))},null,544)],2)):ae("",!0)]),v(r)||f.isShowVerticalScroll?(E(),P("div",{key:0,ref_key:"verticalTrackRef",ref:c,class:de(["scroll-wrapper__track scroll-wrapper__track_vertical",v(w)]),onClick:V[3]||(V[3]=N((...U)=>v(l)&&v(l)(...U),["prevent","left"]))},[b("div",{ref_key:"verticalBarRef",ref:t,class:"scroll-wrapper__bar",onMousedown:V[2]||(V[2]=N((...U)=>v(d)&&v(d)(...U),["prevent","left"]))},null,544)],2)):ae("",!0)])],512))}});At.__docgenInfo={name:"ScrollWrapper",exportName:"default",displayName:"ScrollWrapperNew",description:"",tags:{},expose:[{name:"scrollToTop"},{name:"setHeightSlot"}],props:[{name:"isShowVerticalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isShowHorizontalScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"unmount-scroll",type:{names:["Event"]}},{name:"unmount-paginate",type:{names:["boolean"]}},{name:"on-mounted"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/ScrollWrapper/ScrollWrapperNew.vue"]};const $t=["data-testid"],Lt=["data-testid"],Dt=["data-testid"],Nt=q({name:"TableSimple",__name:"TableSimple",props:{dataTestid:{default:"TableSimple"}},setup(f,{expose:x}){const o=f,n=k(null),i=k(null),e=k(null),c=k(null),t=Q(()=>{let u=1;if(i.value)for(let s=0;s<i.value.children.length;s++)u=Math.max(i.value.children[s].children.length,u);return u});return x({tbodyRef:e,tableRef:n,theadRef:i}),(u,s)=>(E(),P("table",{ref_key:"tableRef",ref:n,class:"simple-table-yui-kit","data-testid":`${o.dataTestid}`},[ee(u.$slots,"default",{},()=>[ee(u.$slots,"colspan",{},void 0,!0),u.$slots.head?(E(),P("thead",{key:0,ref_key:"theadRef",ref:i,class:"simple-table-yui-kit__head","data-testid":`${o.dataTestid}-Thead`},[ee(u.$slots,"head",{},void 0,!0),u.$slots.search?(E(),te(Tt,{key:0,class:"table-new-yui-kit__search",ref_key:"searchRowRef",ref:c,"data-testid":`${o.dataTestid}-Search-Row`},{default:oe(()=>[R(Ct,{colspan:t.value,class:"table-new-yui-kit__th","data-testid":`${o.dataTestid}-SearchRow-Search`},{default:oe(()=>[ee(u.$slots,"search",{},void 0,!0)]),_:3},8,["colspan","data-testid"])]),_:3},8,["data-testid"])):ae("",!0)],8,Lt)):ae("",!0),ee(u.$slots,"body-group",{},()=>[u.$slots.body?(E(),P("tbody",{key:0,ref_key:"tbodyRef",ref:e,class:"simple-table-yui-kit__body","data-testid":`${o.dataTestid}-Tbody`},[ee(u.$slots,"body",{},void 0,!0)],8,Dt)):ae("",!0)],!0)],!0)],8,$t))}});Nt.__docgenInfo={name:"TableSimple",exportName:"default",displayName:"TableSimple",description:"",tags:{},expose:[{name:"tbodyRef"},{name:"tableRef"},{name:"theadRef"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'TableSimple'"}}],slots:[{name:"default"},{name:"colspan"},{name:"head"},{name:"search"},{name:"body-group"},{name:"body"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Table/TableSimple.vue"]};const Ht=["data-testid"],Wt=["data-testid"],at=q({name:"BaseCropper",__name:"BaseCropper",props:{image:{},max:{default:3},min:{default:1},step:{default:.5}},emits:["unmount-scale"],setup(f,{expose:x,emit:o}){const n=f,i=o,e=Ce("canvas"),c=Ce("container"),t=le({ctx:null,image:null,id:et(),scale:1,position:{x:0,y:0},isDragging:!1,startX:0,startY:0,minScale:n.min,maxScale:n.max,stepScale:n.step});F(()=>n.image,()=>{n.image&&d(n.image)});const u=()=>{e.value&&(t.ctx=e.value.getContext("2d")),s(),window.addEventListener("resize",s)},s=()=>{if(c.value){const{width:M,height:I}=c.value.getBoundingClientRect();e.value&&(e.value.width=M,e.value.height=I),t.image&&l()}},l=()=>{if(t.image){const M=t.ctx,I=e.value;M&&I&&(M.clearRect(0,0,I.width,I.height),M.drawImage(t.image,t.position.x,t.position.y,t.image.width*t.scale,t.image.height*t.scale))}},d=M=>{const I=new FileReader;I.onload=async T=>{var $;typeof(($=T.target)==null?void 0:$.result)=="string"&&(t.image=new Image,t.image.src=T.target.result,t.image.onload=async()=>{if(await J(),e.value&&t.image){const z=e.value.width,X=e.value.height,Z=t.image.width/t.image.height,ne=z/X;Z>ne?(t.image.width=z,t.image.height=z/Z):(t.image.height=X,t.image.width=X*Z),s(),t.position.x=(e.value.width-t.image.width)/2,t.position.y=(e.value.height-t.image.height)/2,l()}})},I.readAsDataURL(M)},a=M=>{t.isDragging=!0,t.startX=M.clientX-t.position.x,t.startY=M.clientY-t.position.y,window.addEventListener("mousemove",y),window.addEventListener("mouseup",w)},y=M=>{if(!t.isDragging&&!e.value)return;let I=M.clientX-t.startX,T=M.clientY-t.startY;if(e.value&&t.image){const $=e.value.width-t.image.width*t.scale;t.image.width*t.scale<e.value.width?I=Math.min(Math.max(I,0),e.value.width-t.image.width*t.scale):(I>0&&(I=0),I<$&&(I=$));const z=e.value.height-t.image.height*t.scale;t.image.height*t.scale<e.value.height?T=Math.min(Math.max(T,0),e.value.height-t.image.height*t.scale):(T>0&&(T=0),T<z&&(T=z)),t.position.x=I,t.position.y=T}l()},w=()=>{t.isDragging=!1,window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",w)},r=M=>Math.max(t.minScale,Math.min(M,t.maxScale)),h=M=>{if(e.value){const I=e.value.width/2,T=e.value.height/2;t.position.x=I-(I-t.position.x)*M,t.position.y=T-(T-t.position.y)*M}},m=M=>{const I=t.scale,T=t.scale+M.deltaY*-.001;if(I===r(T))return;t.scale=r(T);const $=T/I;h($),i("unmount-scale",t.scale),l()};return x({cropImage:()=>{if(c.value){const{width:M,height:I}=c.value.getBoundingClientRect(),T=document.createElement("canvas");T.width=M,T.height=I;const $=T.getContext("2d");$&&t.image&&$.drawImage(t.image,t.position.x,t.position.y,t.image.width*t.scale,t.image.height*t.scale);const z=T.toDataURL("image/png"),X=atob(z.split(",")[1]),Z=new ArrayBuffer(X.length),ne=new Uint8Array(Z);for(let A=0;A<X.length;A++)ne[A]=X.charCodeAt(A);const ie=new Blob([ne],{type:"image/png"});return n.image?new File([ie],n.image.name,{type:"image/png"}):null}return null},scalePlus:()=>{const M=t.scale+t.stepScale;t.scale=r(M),l()},scaleMinus:()=>{const M=t.scale-t.stepScale;t.scale=r(M),l()},setScale:M=>{const I=t.scale,$=M/I;t.scale=r(M),h($),l()},startMove:a,scaleImage:m}),se(()=>{u(),n.image&&d(n.image)}),(M,I)=>(E(),P("div",{ref_key:"container",ref:c,class:"base-cropper","data-testid":`BaseCropper-${t.id}`},[b("canvas",{ref_key:"canvas",ref:e,class:"base-cropper__canvas","data-testid":`BaseCropper-${t.id}-canvas`,onMousedown:a,onWheel:N(m,["prevent"])},null,40,Wt)],8,Ht))}}),Ft=Be(at,[["__scopeId","data-v-96931847"]]);at.__docgenInfo={name:"BaseCropper",exportName:"default",displayName:"BaseCropper",description:"",tags:{},expose:[{name:"cropImage"},{name:"scalePlus"},{name:"scaleMinus"},{name:"setScale"},{name:"startMove"},{name:"scaleImage"}],props:[{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}},{name:"max",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"3"}},{name:"min",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"step",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0.5"}}],events:[{name:"unmount-scale",type:{names:["number"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/BaseCropper.vue"]};const zt=f=>{const x=k(f==null?void 0:f.defaultValue),o=f==null?void 0:f.min,n=f==null?void 0:f.max,i=f==null?void 0:f.step;F(x,c=>{x.value=e(c)});const e=c=>Math.max(o,Math.min(c,n));return{value:x,min:o,max:n,step:i,getCorrectValue:e}},Vt=(f,x)=>new File([f],x,{type:f.type}),Ut=["data-testid"],Xt=["data-testid"],Yt=["data-testid"],Kt=["data-testid"],Jt=["data-testid"],qt=["data-testid"],Zt=q({name:"ModalCroppedAvatar",__name:"ModalCroppedAvatar",props:{image:{},open:{type:Boolean},position:{default:"center"},width:{default:"650px"},height:{default:"auto"},dataTestid:{}},emits:["unmount-close","unmount-save"],setup(f,{emit:x}){const o=f,n=x,{max:i,min:e,step:c,value:t}=zt({defaultValue:1,max:3,min:1,step:.1}),u=et(),s=Ce("cropper"),l=le({openModal:!1});F(t,()=>{s.value&&s.value.setScale(t.value)});const d=()=>{l.openModal=!1,n("unmount-close")},a=h=>{t.value=h},y=()=>{t.value=t.value-c},w=()=>{t.value=t.value+c},r=()=>{if(s.value){const h=s.value.cropImage();if(h){const m=h.name,_=Vt(h,m);n("unmount-save",_),d()}}};return Te(()=>{d()}),se(()=>{o.open===void 0&&(l.openModal=o.open)}),(h,m)=>(E(),te(tt,_t(o,{class:"modal-cropped-avatar","data-testid":`ModalCroppedAvatar-${v(u)}`,onClose:d}),{default:oe(()=>[b("div",{class:"modal-cropped-avatar__content","data-testid":`ModalCroppedAvatar-${v(u)}-content`},[b("div",{class:"modal-cropped-avatar__title","data-testid":`ModalCroppedAvatar-${v(u)}-title`}," Изменение фото профиля ",8,Xt),b("div",{class:"modal-cropped-avatar__main","data-testid":`ModalCroppedAvatar-${v(u)}-content-main`},[b("div",{class:"modal-cropped-avatar__cropped","data-testid":`ModalCroppedAvatar-${v(u)}-content-main-cropped`},[R(Ft,{ref_key:"cropper",ref:s,image:f.image,max:v(i),min:v(e),step:v(c),class:"modal-cropped-avatar__cropper",onUnmountScale:a},null,8,["image","max","min","step"]),b("div",{class:"modal-cropped-avatar__tools","data-testid":`ModalCroppedAvatar-${v(u)}-content-tools`},[R(K,{name:v(Y).minus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${v(u)}-content-iconMinus`,onClick:y},null,8,["name","data-testid"]),R(Pt,{max:v(i),min:v(e),step:v(c),modelValue:v(t),"onUpdate:modelValue":m[0]||(m[0]=_=>yt(t)?t.value=_:null),"data-testid":`ModalCroppedAvatar-${v(u)}-content-Range`},null,8,["max","min","step","modelValue","data-testid"]),R(K,{name:v(Y).plus,class:"modal-cropped-avatar__icon","data-testid":`ModalCroppedAvatar-${v(u)}-content-IconPlus`,onClick:w},null,8,["name","data-testid"])],8,Jt)],8,Kt),b("div",{class:"modal-cropped-avatar__buttons","data-testid":`ModalCroppedAvatar-${v(u)}-content-buttons`},[R(Xe,{type:v(Et).outline,class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${v(u)}-content-ButtonCancel`,onClick:d},{default:oe(()=>[...m[1]||(m[1]=[Ve(" Отменить ",-1)])]),_:1},8,["type","data-testid"]),R(Xe,{class:"modal-cropped-avatar__button","data-testid":`ModalCroppedAvatar-${v(u)}-content-buttonSave`,onClick:r},{default:oe(()=>[...m[2]||(m[2]=[Ve(" Сохранить ",-1)])]),_:1},8,["data-testid"])],8,qt)],8,Yt)],8,Ut)]),_:1},16,["data-testid"]))}});Zt.__docgenInfo={name:"ModalCroppedAvatar",exportName:"default",displayName:"ModalCroppedAvatar",description:"",tags:{},props:[{name:"height",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'auto'"}},{name:"width",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'650px'"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]},defaultValue:{func:!1,value:"'center'"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"dataTestid",required:!1,type:{name:"string"}},{name:"image",required:!0,type:{name:"union",elements:[{name:"File"},{name:"null"}]}}],events:[{name:"unmount-close"},{name:"unmount-save",type:{names:["File"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Cropper/ModalCroppedAvatar.vue"]};const Gt=["src"],ot=q({name:"ImagePreview",__name:"ImagePreview",props:{src:{}},emits:["error"],setup(f,{expose:x,emit:o}){const n=f,i=o,e=le({isError:!1,rotate:0});F(()=>n.src,()=>{e.isError=!1,e.rotate=0,J(()=>{t()})});const c=k(null),t=async()=>{try{if(!c.value||!n.src)return;const s=new Image;s.src=n.src,s.addEventListener("load",()=>{var r;if(!c.value)return;const l=(r=c.value)==null?void 0:r.getContext("2d");if(!l)return;const d=s.width,a=s.height;let y=d,w=a;e.rotate%180!==0&&(y=a,w=d),c.value.width=y,c.value.height=w,l.save(),l.clearRect(0,0,y,w),l.translate(y/2,w/2),l.rotate(e.rotate*Math.PI/180),l.drawImage(s,-d/2,-a/2,d,a),l.restore()}),s.addEventListener("error",l=>{e.isError=!0,i("error",l)})}catch{i("error",new Event("error")),e.isError=!0}},u=async s=>{const l=Math.round(s/90)*90;e.rotate+=l,J(()=>{t()})};return se(()=>{J(()=>{t()})}),x({rotateImage:u}),(s,l)=>e.isError?(E(),P("img",{key:1,src:v(re)},null,8,Gt)):(E(),P("canvas",{key:0,ref_key:"canvasRef",ref:c,class:"image-preview"},null,512))}});ot.__docgenInfo={name:"ImagePreview",exportName:"default",displayName:"ImagePreview",description:"",tags:{},expose:[{name:"rotateImage"}],props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/ImagePreview.vue"]};const Qt=["src"],Oe=q({name:"VideoPreview",__name:"VideoPreview",props:{src:{}},emits:["error"],setup(f,{emit:x}){const o=f,n=x,i=le({isError:!1});F(()=>o.src,()=>{i.isError=!1,J(()=>{c()})});const e=k(null),c=async()=>{var t;try{if(!e.value||!o.src)return;const u=document.createElement("video");u.muted=!0,u.preload="metadata";const s=await fetch(o.src);if(!s.ok)throw new Error("Failed to fetch video");const l=new Blob([await s.arrayBuffer()]);u.src=URL.createObjectURL(l);const d=(t=e==null?void 0:e.value)==null?void 0:t.getContext("2d");if(!d)return;u.addEventListener("loadeddata",()=>{u.currentTime=0}),u.addEventListener("seeked",()=>{var a,y;e.value&&d.drawImage(u,0,0,(a=e.value)==null?void 0:a.width,(y=e.value)==null?void 0:y.height)}),u.addEventListener("error",a=>{i.isError=!0,n("error",a)})}catch{n("error",new Event("error")),i.isError=!0}};return se(()=>{J(()=>{c()})}),(t,u)=>i.isError?(E(),P("img",{key:1,src:v(re)},null,8,Qt)):(E(),P("canvas",{key:0,ref_key:"canvasRef",ref:e,class:"video-preview"},null,512))}});Oe.__docgenInfo={name:"VideoPreview",exportName:"default",displayName:"VideoPreview",description:"",tags:{},props:[{name:"src",required:!0,type:{name:"union",elements:[{name:"string"},{name:"undefined"}]}}],events:[{name:"error",type:{names:["Event"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Preview/VideoPreview.vue"]};const rt=f=>{if(!f)return null;const x=f.split("?")[0],o=/\.\w+$/,n=x.match(o);return n?n[0].replace(".",""):null},Ie=f=>{if(!f)return!1;if(f.startsWith("data:image/"))return!0;const x=rt(f);return x?Object.values(ke).includes(x.toLowerCase()):!1},en=async(f,x="file")=>{const n=await(await fetch(f)).blob(),i=window.URL.createObjectURL(n),e=document.createElement("a");e.href=i,e.download=x,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(i)};var st={exports:{}};(function(f,x){(function(n,i){f.exports=i()})(window,function(){return function(o){var n={};function i(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return o[e].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=o,i.c=n,i.d=function(e,c,t){i.o(e,c)||Object.defineProperty(e,c,{enumerable:!0,get:t})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,c){if(c&1&&(e=i(e)),c&8||c&4&&typeof e=="object"&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),c&2&&typeof e!="string")for(var u in e)i.d(t,u,(function(s){return e[s]}).bind(null,u));return t},i.n=function(e){var c=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(c,"a",c),c},i.o=function(e,c){return Object.prototype.hasOwnProperty.call(e,c)},i.p="",i(i.s=0)}({"./src/index.js":function(o,n,i){i.r(n),i("./src/sass/index.scss");var e=i("./src/js/init.js"),c=e.default.init;typeof window<"u"&&(window.printJS=c),n.default=c},"./src/js/browser.js":function(o,n,i){i.r(n);var e={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!e.isIE()&&!!window.StyleMedia},isChrome:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!t.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};n.default=e},"./src/js/functions.js":function(o,n,i){i.r(n),i.d(n,"addWrapper",function(){return u}),i.d(n,"capitalizePrint",function(){return s}),i.d(n,"collectStyles",function(){return l}),i.d(n,"addHeader",function(){return a}),i.d(n,"cleanUp",function(){return y}),i.d(n,"isRawHTML",function(){return w});var e=i("./src/js/modal.js"),c=i("./src/js/browser.js");function t(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(r)}function u(r,h){var m="font-family:"+h.font+" !important; font-size: "+h.font_size+" !important; width:100%;";return'<div style="'+m+'">'+r+"</div>"}function s(r){return r.charAt(0).toUpperCase()+r.slice(1)}function l(r,h){for(var m=document.defaultView||window,_="",S=m.getComputedStyle(r,""),O=0;O<S.length;O++)(h.targetStyles.indexOf("*")!==-1||h.targetStyle.indexOf(S[O])!==-1||d(h.targetStyles,S[O]))&&S.getPropertyValue(S[O])&&(_+=S[O]+":"+S.getPropertyValue(S[O])+";");return _+="max-width: "+h.maxWidth+"px !important; font-size: "+h.font_size+" !important;",_}function d(r,h){for(var m=0;m<r.length;m++)if(t(h)==="object"&&h.indexOf(r[m])!==-1)return!0;return!1}function a(r,h){var m=document.createElement("div");if(w(h.header))m.innerHTML=h.header;else{var _=document.createElement("h1"),S=document.createTextNode(h.header);_.appendChild(S),_.setAttribute("style",h.headerStyle),m.appendChild(_)}r.insertBefore(m,r.childNodes[0])}function y(r){r.showModal&&e.default.close(),r.onLoadingEnd&&r.onLoadingEnd(),(r.showModal||r.onLoadingStart)&&window.URL.revokeObjectURL(r.printable);var h="mouseover";(c.default.isChrome()||c.default.isFirefox())&&(h="focus");var m=function _(){window.removeEventListener(h,_),r.onPrintDialogClose();var S=document.getElementById(r.frameId);S&&S.remove()};window.addEventListener(h,m)}function w(r){var h=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return h.test(r)}},"./src/js/html.js":function(o,n,i){i.r(n);var e=i("./src/js/functions.js"),c=i("./src/js/print.js");function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(a){return typeof a}:t=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(l)}n.default={print:function(d,a){var y=s(d.printable)?d.printable:document.getElementById(d.printable);if(!y){window.console.error("Invalid HTML element id: "+d.printable);return}d.printableElement=u(y,d),d.header&&Object(e.addHeader)(d.printableElement,d),c.default.send(d,a)}};function u(l,d){for(var a=l.cloneNode(),y=Array.prototype.slice.call(l.childNodes),w=0;w<y.length;w++)if(d.ignoreElements.indexOf(y[w].id)===-1){var r=u(y[w],d);a.appendChild(r)}switch(d.scanStyles&&l.nodeType===1&&a.setAttribute("style",Object(e.collectStyles)(l,d)),l.tagName){case"SELECT":a.value=l.value;break;case"CANVAS":a.getContext("2d").drawImage(l,0,0);break}return a}function s(l){return t(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(o,n,i){i.r(n);var e=i("./src/js/functions.js"),c=i("./src/js/print.js"),t=i("./src/js/browser.js");n.default={print:function(s,l){s.printable.constructor!==Array&&(s.printable=[s.printable]),s.printableElement=document.createElement("div"),s.printable.forEach(function(d){var a=document.createElement("img");if(a.setAttribute("style",s.imageStyle),a.src=d,t.default.isFirefox()){var y=a.src;a.src=y}var w=document.createElement("div");w.appendChild(a),s.printableElement.appendChild(w)}),s.header&&Object(e.addHeader)(s.printableElement,s),c.default.send(s,l)}}},"./src/js/init.js":function(o,n,i){i.r(n);var e=i("./src/js/browser.js"),c=i("./src/js/modal.js"),t=i("./src/js/pdf.js"),u=i("./src/js/html.js"),s=i("./src/js/raw-html.js"),l=i("./src/js/image.js"),d=i("./src/js/json.js");function a(w){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(h){return typeof h}:a=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},a(w)}var y=["pdf","html","image","json","raw-html"];n.default={init:function(){var r={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(M){throw M},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},h=arguments[0];if(h===void 0)throw new Error("printJS expects at least 1 attribute.");switch(a(h)){case"string":r.printable=encodeURI(h),r.fallbackPrintable=r.printable,r.type=arguments[1]||r.type;break;case"object":r.printable=h.printable,r.fallbackPrintable=typeof h.fallbackPrintable<"u"?h.fallbackPrintable:r.printable,r.fallbackPrintable=r.base64?"data:application/pdf;base64,".concat(r.fallbackPrintable):r.fallbackPrintable;for(var m in r)m==="printable"||m==="fallbackPrintable"||(r[m]=typeof h[m]<"u"?h[m]:r[m]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+a(h))}if(!r.printable)throw new Error("Missing printable information.");if(!r.type||typeof r.type!="string"||y.indexOf(r.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");r.showModal&&c.default.show(r),r.onLoadingStart&&r.onLoadingStart();var _=document.getElementById(r.frameId);_&&_.parentNode.removeChild(_);var S=document.createElement("iframe");switch(e.default.isFirefox()?S.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):S.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),S.setAttribute("id",r.frameId),r.type!=="pdf"&&(S.srcdoc="<html><head><title>"+r.documentTitle+"</title>",r.css&&(Array.isArray(r.css)||(r.css=[r.css]),r.css.forEach(function(j){S.srcdoc+='<link rel="stylesheet" href="'+j+'">'})),S.srcdoc+="</head><body></body></html>"),r.type){case"pdf":if(e.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var O=window.open(r.fallbackPrintable,"_blank");O.focus(),r.onIncompatibleBrowser()}catch(j){r.onError(j)}finally{r.showModal&&c.default.close(),r.onLoadingEnd&&r.onLoadingEnd()}else t.default.print(r,S);break;case"image":l.default.print(r,S);break;case"html":u.default.print(r,S);break;case"raw-html":s.default.print(r,S);break;case"json":d.default.print(r,S);break}}}},"./src/js/json.js":function(o,n,i){i.r(n);var e=i("./src/js/functions.js"),c=i("./src/js/print.js");function t(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(s)}n.default={print:function(l,d){if(t(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(a){return{field:t(a)==="object"?a.field:a,displayName:t(a)==="object"?a.displayName:a,columnSize:t(a)==="object"&&a.columnSize?a.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(e.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=u(l),c.default.send(l,d)}};function u(s){var l=s.printable,d=s.properties,a='<table style="border-collapse: collapse; width: 100%;">';s.repeatTableHeader&&(a+="<thead>"),a+="<tr>";for(var y=0;y<d.length;y++)a+='<th style="width:'+d[y].columnSize+";"+s.gridHeaderStyle+'">'+Object(e.capitalizePrint)(d[y].displayName)+"</th>";a+="</tr>",s.repeatTableHeader&&(a+="</thead>"),a+="<tbody>";for(var w=0;w<l.length;w++){a+="<tr>";for(var r=0;r<d.length;r++){var h=l[w],m=d[r].field.split(".");if(m.length>1)for(var _=0;_<m.length;_++)h=h[m[_]];else h=h[d[r].field];a+='<td style="width:'+d[r].columnSize+s.gridStyle+'">'+h+"</td>"}a+="</tr>"}return a+="</tbody></table>",a}},"./src/js/modal.js":function(o,n,i){i.r(n);var e={show:function(t){var u="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",s=document.createElement("div");s.setAttribute("style",u),s.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var d=document.createElement("div");d.setAttribute("class","printClose"),d.setAttribute("id","printClose"),l.appendChild(d);var a=document.createElement("span");a.setAttribute("class","printSpinner"),l.appendChild(a);var y=document.createTextNode(t.modalMessage);l.appendChild(y),s.appendChild(l),document.getElementsByTagName("body")[0].appendChild(s),document.getElementById("printClose").addEventListener("click",function(){e.close()})},close:function(){var t=document.getElementById("printJS-Modal");t&&t.parentNode.removeChild(t)}};n.default=e},"./src/js/pdf.js":function(o,n,i){i.r(n);var e=i("./src/js/print.js"),c=i("./src/js/functions.js");n.default={print:function(s,l){if(s.base64){var d=Uint8Array.from(atob(s.printable),function(y){return y.charCodeAt(0)});t(s,l,d);return}s.printable=/^(blob|http|\/\/)/i.test(s.printable)?s.printable:window.location.origin+(s.printable.charAt(0)!=="/"?"/"+s.printable:s.printable);var a=new window.XMLHttpRequest;a.responseType="arraybuffer",a.addEventListener("error",function(){Object(c.cleanUp)(s),s.onError(a.statusText,a)}),a.addEventListener("load",function(){if([200,201].indexOf(a.status)===-1){Object(c.cleanUp)(s),s.onError(a.statusText,a);return}t(s,l,a.response)}),a.open("GET",s.printable,!0),a.send()}};function t(u,s,l){var d=new window.Blob([l],{type:"application/pdf"});d=window.URL.createObjectURL(d),s.setAttribute("src",d),e.default.send(u,s)}},"./src/js/print.js":function(o,n,i){i.r(n);var e=i("./src/js/browser.js"),c=i("./src/js/functions.js"),t={send:function(a,y){document.getElementsByTagName("body")[0].appendChild(y);var w=document.getElementById(a.frameId);w.onload=function(){if(a.type==="pdf"){e.default.isFirefox()?setTimeout(function(){return u(w,a)},1e3):u(w,a);return}var r=w.contentWindow||w.contentDocument;if(r.document&&(r=r.document),r.body.appendChild(a.printableElement),a.type!=="pdf"&&a.style){var h=document.createElement("style");h.innerHTML=a.style,r.head.appendChild(h)}var m=r.getElementsByTagName("img");m.length>0?s(Array.from(m)).then(function(){return u(w,a)}):u(w,a)}}};function u(d,a){try{if(d.focus(),e.default.isEdge()||e.default.isIE())try{d.contentWindow.document.execCommand("print",!1,null)}catch{d.contentWindow.print()}else d.contentWindow.print()}catch(y){a.onError(y)}finally{e.default.isFirefox()&&(d.style.visibility="hidden",d.style.left="-1px"),Object(c.cleanUp)(a)}}function s(d){var a=d.map(function(y){if(y.src&&y.src!==window.location.href)return l(y)});return Promise.all(a)}function l(d){return new Promise(function(a){var y=function w(){!d||typeof d.naturalWidth>"u"||d.naturalWidth===0||!d.complete?setTimeout(w,500):a()};y()})}n.default=t},"./src/js/raw-html.js":function(o,n,i){i.r(n);var e=i("./src/js/print.js");n.default={print:function(t,u){t.printableElement=document.createElement("div"),t.printableElement.setAttribute("style","width:100%"),t.printableElement.innerHTML=t.printable,e.default.send(t,u)}}},"./src/sass/index.scss":function(o,n,i){},0:function(o,n,i){o.exports=i("./src/index.js")}}).default})})(st);var tn=st.exports;const nn=Bt(tn),fe=f=>{if(!f)return!1;const x=rt(f);return x?Object.values(Re).includes(x):!1},G=f=>f?f instanceof File?f.type==="application/pdf":wt(f):!1,an={ref:"contentRef",class:"slider-modal__content"},on=["onClick"],rn={class:"slider-modal__side-bar-count"},sn={key:0,class:"slider-modal__counter"},ln=["data-testid"],dn=["src"],cn=["src"],un={class:"slider-modal__bottom"},fn={class:"slider-modal__nav-block"},mn=["disabled"],pn=["src","alt"],hn=["src"],vn=["disabled"],gn={class:"slider-modal__nav-block"},yn={class:"slider-modal__sub-nav"},_n=["disabled"],bn=["disabled"],wn=["disabled"],xn={class:"slider-modal__sub-nav"},Sn=["disabled"],En=["disabled"],Je=80,qe=20,Mn=150,In=50,lt=q({name:"SliderModal",__name:"SliderModal",props:{dataTestid:{default:"SliderModal"},animateType:{},open:{type:Boolean},position:{},width:{},height:{},items:{},defaultIndex:{default:0}},emits:["close","unmounted","end-animation"],setup(f,{emit:x}){const o=f,n=x,i=window.matchMedia("(max-width: 768px)"),e=le({defaultIndex:o.defaultIndex,file:o.items[o.defaultIndex],sideBarItems:[],sideBarIndex:0,sideBarLength:0,isErrorFile:!1,isClickOnExit:!1,isDragging:!1,isMobile:!1,isPointerActive:!1,isExistSwipe:!1,isChangeItemSwipe:!1,isSwipeNextSlide:!1,isSwipePrevSlide:!1,zoomValue:1,offsetX:0,offsetY:0,startX:0,startY:0,startXForMobile:0,startYForMobile:0,endXForMobile:0,endYForMobile:0}),c=k(null),t=k(null),u=k(null),s=k(null),l=k(null),d=k(null),a=k(null),y=k(null),w=Q(()=>e.defaultIndex===0),r=Q(()=>e.defaultIndex===o.items.length-1),h=Q(()=>{var g,C;let p=!e.file||e.isErrorFile;return p=fe((g=e.file)==null?void 0:g.path)||p,p=e.isMobile&&G((C=e.file)==null?void 0:C.path)||p,p}),m=Q(()=>{var g;let p=!e.file||e.isErrorFile;return p=fe((g=e.file)==null?void 0:g.path)||p,p}),_=Q(()=>!e.file||e.isErrorFile),S=Q(()=>{var g;let p=!e.file||e.isErrorFile;return p=fe((g=e.file)==null?void 0:g.path)||p,p}),O=Q(()=>({transform:`
    translate(${e.offsetX}px, ${e.offsetY}px)
    scale(${e.zoomValue})
  `}));F([()=>o.items,()=>o.defaultIndex],()=>{e.file=o.items[o.defaultIndex??0],e.defaultIndex=o.defaultIndex??0}),F([()=>e.file,()=>o.open],()=>{if(!o.open){Se(),e.file=null;return}e.zoomValue=1,e.file||(e.file=o.items[o.defaultIndex??0]),e.isErrorFile=!1,pt()}),F(()=>o.open,()=>{o.open&&(J(()=>{a.value&&a.value.initScroll()}),e.defaultIndex=o.defaultIndex??0)}),F(()=>e.sideBarIndex,()=>{ht()});const j=()=>{e.isClickOnExit&&n("close")},M=p=>{ce(p)},I=p=>{e.sideBarIndex=p},T=p=>{e.isMobile||mt(p.deltaY)},$=()=>{Ne(!0)},z=()=>{Ne(!1)},X=()=>{d.value&&d.value.rotatePdf(-90),y.value&&y.value.rotateImage(-90)},Z=()=>{var B,L,H;if(!((B=e.file)!=null&&B.path))return;let p="pdf",g="",C="";Ie((L=e.file)==null?void 0:L.path)&&(p="image",g=`
        @page {
          size: A4 portrait;
          margin: 10mm;
        }
      `,C="max-height: 95vh; margin-bottom: 10px; max-width: 100%"),nn({printable:(H=e.file)==null?void 0:H.path,type:p,style:g,imageStyle:C})},ne=()=>{var p,g,C;(p=e.file)!=null&&p.path&&en((g=e.file)==null?void 0:g.path,(C=e.file)==null?void 0:C.name)},ie=(p,g=!1)=>{const C=p.target;C&&(C.src=re),g&&(e.isErrorFile=!0)},A=()=>{a.value&&ce(a.value.nextSlide())},V=()=>{a.value&&ce(a.value.prevSlide())},U=p=>{if(e.isMobile)return;const g=p.target;(g===l.value||g===u.value)&&(e.isClickOnExit=!0)},ge=p=>{const g=p.target;(g===l.value||g===u.value)&&j(),e.isClickOnExit=!1},je=p=>{e.isDragging=!0,e.startX=p.clientX-e.offsetX,e.startY=p.clientY-e.offsetY},Ae=p=>{e.isDragging&&(e.offsetX=p.clientX-e.startX,e.offsetY=p.clientY-e.startY,De(),requestAnimationFrame(()=>{s.value&&he(O.value,s.value)}))},ye=()=>{e.isDragging=!1},_e=p=>{e.isMobile&&(e.startXForMobile=p.clientX,e.startYForMobile=p.clientY,e.isPointerActive=!0)},ut=()=>{e.isMobile&&(Le(),$e())},ft=p=>{var H,ue;if(!e.isMobile)return;const g=p.clientX,C=p.clientY,B=Math.abs(g-e.startXForMobile),L=C-e.startYForMobile;e.isExistSwipe&&L>Je&&L>B&&n("close"),e.isChangeItemSwipe&&a.value&&(e.isSwipeNextSlide&&ce((H=a.value)==null?void 0:H.nextSlide()),e.isSwipePrevSlide&&ce((ue=a.value)==null?void 0:ue.prevSlide())),Le(),J(()=>{$e()})},be=p=>{if(!e.isMobile||!e.isPointerActive)return;const g=p.clientY-e.startYForMobile,C=p.clientX-e.startXForMobile,B=Math.abs(C);if(B<g&&g>qe&&!e.isChangeItemSwipe&&u.value&&u.value.scrollTop===0&&(e.isExistSwipe=!0),B>g&&B>In&&!e.isExistSwipe&&(e.isChangeItemSwipe=!0),e.isExistSwipe){const L=Math.max(0,1-(g-qe)/Je);requestAnimationFrame(()=>{l.value&&he({opacity:L},l.value)})}if(e.isChangeItemSwipe&&B>Mn){const L=e.defaultIndex===o.items.length-1,H=e.defaultIndex===0;if(C>0){if(H)return;e.isSwipePrevSlide=!0}if(C<0){if(L)return;e.isSwipeNextSlide=!0}}},$e=()=>{requestAnimationFrame(()=>{l.value&&he({opacity:1},l.value)})},Le=()=>{e.isPointerActive=!1,e.isExistSwipe=!1,e.isSwipeNextSlide=!1,e.isSwipePrevSlide=!1,e.isChangeItemSwipe=!1},De=()=>{if(!u.value||!s.value)return;const p=u.value.clientWidth,g=u.value.clientHeight,C=s.value.offsetWidth*e.zoomValue,B=s.value.offsetHeight*e.zoomValue,L=Math.max(0,(C-p)/2);e.offsetX=Math.min(L,Math.max(-L,e.offsetX));const H=Math.max(0,(B-g)/2);e.offsetY=Math.min(H,Math.max(-H,e.offsetY))},Ne=p=>{const g=e.zoomValue;e.zoomValue+=p?1:-1,e.zoomValue=Math.min(Math.max(1,e.zoomValue),3);const C=e.zoomValue;if(g===C)return;const B=C/g;e.offsetX*=B,e.offsetY*=B,De(),s.value&&(y.value||d.value)&&he(O.value,s.value)},ce=p=>{o.items[p]&&(e.defaultIndex=p,Se(),e.file=o.items[p])},mt=p=>{let g=e.sideBarIndex;p>0?(g=e.sideBarIndex+1,g=Math.min(e.sideBarLength-1,g)):(g=e.sideBarIndex-1,g=Math.max(0,g)),e.sideBarIndex=g},pt=()=>{J(()=>{var p,g;e.file&&(G((p=e.file)==null?void 0:p.path)||G((g=e.file)==null?void 0:g.file))&&(e.isErrorFile=!0,vt())})},ht=()=>{J(()=>{if(!c.value||!t.value)return;const p=c.value[e.sideBarIndex];Pe(p,t.value)})},vt=async()=>{var p,g;try{if(!e.file)return;const C=Ue.getCache(e.file.path);let B;if(C?B=C:B=await xt((p=e.file)==null?void 0:p.path).promise,!B){e.isErrorFile=!0;return}e.sideBarLength=B.numPages,e.sideBarItems=new Array(B.numPages).fill(((g=e.file)==null?void 0:g.path)??""),Ue.setCache(e.file.path,B),gt(0),e.isErrorFile=!1}catch(C){console.error(C),e.isErrorFile=!0}},gt=async(p=0)=>{e.sideBarIndex=p},Se=()=>{e.sideBarItems=[],e.sideBarIndex=0,e.sideBarLength=0},Ee=()=>{e.isMobile=i.matches};return se(()=>{Ee(),i.addEventListener("change",Ee)}),Te(()=>{Se(),i.removeEventListener("change",Ee)}),(p,g)=>(E(),te(tt,{position:"center",class:"slider-modal",ref:"modalRef",open:f.open,height:f.height,width:f.width,"animate-type":v(St).fade,onClose:j,onEndAnimation:g[2]||(g[2]=C=>p.$emit("end-animation")),onUnmounted:g[3]||(g[3]=C=>p.$emit("unmounted")),onPointerup:ft,onPointerleave:ut},{default:oe(()=>{var C,B,L,H,ue,He,We,Fe,ze;return[b("div",an,[b("div",{ref_key:"sideBarRef",ref:t,class:de(["slider-modal__side-bar",[{"slider-modal__side-bar_active":v(G)((C=e.file)==null?void 0:C.path)||v(G)((B=e.file)==null?void 0:B.file)}]])},[(E(!0),P(me,null,Me(e.sideBarItems,(D,W)=>(E(),P("div",{ref_for:!0,ref_key:"miniItemsRef",ref:c,class:de(["slider-modal__side-bar-item",{"slider-modal__side-bar-item_active":W===e.sideBarIndex}]),key:W},[b("div",{class:"slider-modal__mini-prewiew-wrapper",onClick:we=>I(W)},[R(pe,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__mini-preview",src:D,page:W+1},null,8,["src","page"])],8,on),b("div",rn,xe(W+1),1)],2))),128))],2),e.isMobile?(E(),P("div",sn,xe(e.defaultIndex+1)+" из "+xe(o.items.length),1)):ae("",!0),b("div",{ref_key:"mainRef",ref:l,class:"slider-modal__main",onMousedown:N(U,["self"]),onMouseup:N(ge,["self"])},[v(G)((L=e.file)==null?void 0:L.path)||v(G)((H=e.file)==null?void 0:H.file)?(E(),P("div",{key:0,ref_key:"itemRef",ref:u,class:"slider-modal__item",onMousedown:N(U,["self"]),onMouseup:N(ge,["self"]),onWheel:T,onPointerdown:_e,onPointermove:be},[e.isMobile?(E(!0),P(me,{key:1},Me(e.sideBarItems,(D,W)=>(E(),P("div",{key:W,class:"slider-modal__viewport"},[R(pe,{ref_for:!0,ref:"miniPreviewsRef",class:"slider-modal__pdf slider-modal__pdf_mobile",src:D,page:W+1},null,8,["src","page"])]))),128)):(E(),P("div",{key:0,ref_key:"viewportRef",ref:s,class:"slider-modal__viewport",onMousedown:N(je,["stop"]),onMousemove:Ae,onMouseup:ye,onMouseleave:ye},[R(pe,{class:"slider-modal__pdf",ref_key:"pdfRef",ref:d,src:(ue=e==null?void 0:e.file)==null?void 0:ue.path,page:e.sideBarIndex+1},null,8,["src","page"])],544))],544)):v(Ie)((He=e.file)==null?void 0:He.path)?(E(),P("div",{key:1,ref_key:"itemRef",ref:u,class:"slider-modal__item",onClick:N(j,["self"]),onPointerdown:_e,onPointermove:be},[b("div",{ref_key:"viewportRef",ref:s,class:"slider-modal__viewport",onMousedown:N(je,["stop"]),onMousemove:Ae,onMouseup:ye,onMouseleave:ye},[R(ot,{ref_key:"imagePreviewRef",ref:y,class:"slider-modal__image",src:(We=e.file)==null?void 0:We.path,onError:g[0]||(g[0]=D=>ie(D,!0))},null,8,["src"])],544)],544)):v(fe)((Fe=e.file)==null?void 0:Fe.path)?(E(),P("div",{key:2,class:"slider-modal__item",onClick:N(j,["self"]),onPointerdown:_e,onPointermove:be},[b("video",{controls:"",class:"slider-modal__video","data-testid":`${o.dataTestid}-Video`,onError:g[1]||(g[1]=D=>ie(D,!0))},[b("source",{src:((ze=e.file)==null?void 0:ze.path)??""},null,8,dn)],40,ln)],32)):(E(),P("div",{key:3,class:"slider-modal__item",onClick:N(j,["self"]),onPointerdown:_e,onPointermove:be},[b("img",{class:"slider-modal__image",src:v(re)},null,8,cn)],32)),b("div",un,[g[4]||(g[4]=b("div",{class:"slider-modal__nav-block"},[b("br")],-1)),b("div",fn,[o.items.length>1?(E(),P(me,{key:0},[b("button",{class:"slider-modal__side-button",disabled:w.value,onClick:V},[R(K,{class:"slider-modal__icon",name:v(Y).leftBig,width:24,height:24},null,8,["name"])],8,mn),R(nt,{ref_key:"sliderRef",ref:a,class:"slider-modal__bottom-slider","active-index":e.defaultIndex},{default:oe(()=>[(E(!0),P(me,null,Me(o.items,(D,W)=>(E(),te(it,{class:de(["slider-modal__slide",{"slider-modal__slide_active":W===e.defaultIndex}]),key:W,"is-active":W===e.defaultIndex,onClick:we=>M(W)},{default:oe(()=>{var we;return[v(Ie)(D.path)?(E(),P("img",{key:0,class:"slider-modal__slide-image",src:D.path,alt:D.path,onError:ie},null,40,pn)):v(G)(D.path)||v(G)((we=e.file)==null?void 0:we.file)?(E(),te(pe,{key:1,class:"slider-modal__slide-image",src:D.path,page:1},null,8,["src"])):v(fe)(D.path)?(E(),te(Oe,{key:2,class:"slider-modal__slide-image",src:D.path},null,8,["src"])):(E(),P("img",{key:3,class:"slider-modal__slide-image",src:v(re)},null,8,hn))]}),_:2},1032,["class","is-active","onClick"]))),128))]),_:1},8,["active-index"]),b("button",{class:"slider-modal__side-button",disabled:r.value,onClick:A},[R(K,{class:"slider-modal__icon",name:v(Y).rightBig,width:24,height:24},null,8,["name"])],8,vn)],64)):ae("",!0)]),b("div",gn,[b("div",yn,[b("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:S.value,onClick:z},[R(K,{class:"slider-modal__icon",name:v(Y).zoomMinus,width:24,height:24},null,8,["name"])],8,_n),b("button",{class:"slider-modal__side-button slider-modal__side-button_zoom",disabled:S.value,onClick:$},[R(K,{class:"slider-modal__icon",name:v(Y).zoomPlus,width:24,height:24},null,8,["name"])],8,bn),b("button",{class:"slider-modal__side-button",disabled:h.value,onClick:X},[R(K,{class:"slider-modal__icon",name:v(Y).reset,width:24,height:24},null,8,["name"])],8,wn)]),b("div",xn,[b("button",{class:"slider-modal__side-button",disabled:_.value,onClick:ne},[R(K,{class:"slider-modal__icon",name:v(Y).uploadCloud,width:24,height:24},null,8,["name"])],8,Sn),b("button",{class:"slider-modal__side-button slider-modal__side-button_printer",disabled:m.value,onClick:Z},[R(K,{class:"slider-modal__icon",name:v(Y).printer,width:24,height:24},null,8,["name"])],8,En)])])])],544)],512)]}),_:1},8,["open","height","width","animate-type"]))}}),Cn=Be(lt,[["__scopeId","data-v-99df73ad"]]);lt.__docgenInfo={name:"SliderModal",exportName:"default",displayName:"SliderModal",description:"",tags:{},props:[{name:"defaultIndex",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"animateType",required:!1,type:{name:"ModalAnimateEnum"}},{name:"open",required:!0,type:{name:"boolean"}},{name:"position",required:!1,type:{name:"union",elements:[{name:'"right"'},{name:'"center"'},{name:'"bottom"'}]}},{name:"width",required:!1,type:{name:"string"}},{name:"height",required:!1,type:{name:"string"}},{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'SliderModal'"}}],events:[{name:"end-animation"},{name:"unmounted"},{name:"close"}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/SliderModal.vue"]};const Pn=["data-testid"],Tn=["data-testid"],Bn=["disabled","data-testid"],kn=["data-testid"],Rn=["data-testid"],On=["src","data-testid"],jn=["data-testid"],An=["data-testid"],$n=["src"],Ln=["src","data-testid"],Dn=["disabled","data-testid"],dt=q({__name:"Slider",props:{items:{},defaultIndex:{},dataTestid:{default:"Slider"}},setup(f,{expose:x}){const o=f,n=le({files:o.items.length?o.items:[],file:null,currentIndex:o.defaultIndex||0,extension:null,filePath:null,isShowSliderModal:!1,indexModal:0});F(()=>n.file,()=>{var m;n.filePath=((m=n.file)==null?void 0:m.path)??null},{immediate:!0}),F(()=>o.items,()=>{n.files=o.items.length?o.items:[]});const i=()=>{n.filePath=re},e=m=>{if(!m)return;const _=n.files.findIndex(S=>m.path===S.path);_!==-1&&(n.indexModal=_,n.isShowSliderModal=!0)},c=()=>{n.isShowSliderModal=!1},t=()=>{var m;return(m=o.items)!=null&&m.length?n.currentIndex===o.items.length-1:!0},u=m=>{if(!m)return null;const _=m.split("?")[0],S=/\.\w+$/,O=_.match(S);return n.extension=O?O[0].replace(".",""):null,n.extension},s=m=>{const _=u(m);return _?Object.values(ke).includes(_.toLowerCase()):!1},l=m=>{const _=u(m);return _?Object.values(Re).includes(_):!1},d=m=>u(m)==="pdf",a=()=>{n.currentIndex--,n.file=n.files[n.currentIndex]},y=()=>{n.currentIndex++,n.file=n.files[n.currentIndex]},w=()=>n.files.length===0,r=()=>{var m,_,S;return s(((m=n.file)==null?void 0:m.path)??null)==!1&&l(((_=n.file)==null?void 0:_.path)??null)==!1&&d(((S=n.file)==null?void 0:S.path)??null)==!1&&n.files.length>0};se(()=>{if(!o.items)return 0;n.files=o.items,o.defaultIndex&&(n.file=n.files[n.currentIndex]),n.file=n.files[n.currentIndex]});const h=m=>{m>=0&&m<n.files.length&&(n.currentIndex=m,n.file=n.files[n.currentIndex])};return F(()=>o.items,()=>{n.files=o.items},{deep:!0}),x({setSlide:h}),(m,_)=>{var S,O,j,M,I;return E(),P("div",{class:"slider-yui-kit","data-testid":o.dataTestid},[b("div",{class:"slider-yui-kit__wrapper",ref:"slider-yui-kitWrapperRef","data-testid":`${o.dataTestid}-Wrapper`},[b("button",{class:"slider-yui-kit__button slider-yui-kit__button--prev",onClick:a,disabled:n.currentIndex===0,"data-testid":`${o.dataTestid}-Prev-Button`},[R(K,{name:v(Y).leftBig,"data-testid":`${o.dataTestid}-Prev-Icon`},null,8,["name","data-testid"])],8,Bn),b("div",{class:"slider-yui-kit__slides","data-testid":`${o.dataTestid}-Slides-Container`},[w()?(E(),P("div",{key:0,class:"placeholder-yui-kit no-content","data-testid":`${o.dataTestid}-NoContent-Placeholder`},[b("img",{src:v(re),alt:"",width:"111px",height:"111px","data-testid":`${o.dataTestid}-NoContent-Image`},null,8,On),b("p",{"data-testid":`${o.dataTestid}-NoContent-Paragrpah`}," Контент отсутствует ",8,jn)],8,Rn)):r()?(E(),P("div",{key:1,class:"placeholder-yui-kit","data-testid":`${o.dataTestid}-Invalid-Extension-Placeholder`},[b("img",{src:v(re),alt:"",width:"111px",height:"111px"},null,8,$n),b("p",null,"."+xe(n.extension),1)],8,An)):(E(),P(me,{key:2},[s(((S=n.file)==null?void 0:S.path)??"")?(E(),P("img",{key:0,class:"slider__item",src:n.filePath??"","data-testid":`${o.dataTestid}-Image`,onClick:_[0]||(_[0]=T=>e(n.file)),onError:i},null,40,Ln)):l(((O=n.file)==null?void 0:O.path)??"")?(E(),te(Oe,{key:1,class:"slider__item",src:((j=n.file)==null?void 0:j.path)??"",onClick:_[1]||(_[1]=T=>e(n.file))},null,8,["src"])):d(((M=n.file)==null?void 0:M.path)??"")?(E(),te(pe,{key:2,class:"slider-yui-kit__pdf-preview slider__item",src:(I=n.file)==null?void 0:I.path,onClick:_[2]||(_[2]=T=>e(n.file))},null,8,["src"])):ae("",!0)],64))],8,kn),b("button",{class:"slider-yui-kit__button slider-yui-kit__button--next",onClick:y,disabled:t(),"data-testid":`${o.dataTestid}-Next-Button`},[R(K,{name:v(Y).rightBig,"data-testid":`${o.dataTestid}-Next-Icon`},null,8,["name","data-testid"])],8,Dn)],8,Tn),(E(),te(bt,{to:"body"},[R(Cn,{open:n.isShowSliderModal,items:n.files,"default-index":n.indexModal,onClose:c},null,8,["open","items","default-index"])]))],8,Pn)}}}),ct=Be(dt,[["__scopeId","data-v-40ac125b"]]);dt.__docgenInfo={exportName:"default",displayName:"Slider",description:"",tags:{},expose:[{name:"setSlide"}],props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Slider'"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"SliderItem"}]}},{name:"defaultIndex",required:!1,type:{name:"number"}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/Slider/Slider.vue"]};const Nn=[{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.jpg"},{path:"https://www.sunhome.ru/i/wallpapers/14/loshadi-v4.orig.woff"},{path:"https://videocdn.cdnpk.net/joy/content/video/free/video0467/large_preview/_import_61557331a47cb7.87464437.mp4?filename=1109668_stairs_standard_dawn_1920x1080.mp4"},{path:"https://www.sunhome.ru/i/wallpapers/210/voronie-loshadi.orig.jpg"}],Hi={title:"Slider/Slider",component:ct,argTypes:{defaultIndex:{control:{type:Ye.number}},items:{control:{type:Ye.object}}},args:{onClick:kt()},parameters:{layout:"center"},tags:["autodocs"]},Hn=f=>({components:{Slider:ct},setup(){return{args:f}},template:`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> `}),ve=Hn.bind({});ve.args={items:Nn,defaultIndex:0};var Ze,Ge,Qe;ve.parameters={...ve.parameters,docs:{...(Ze=ve.parameters)==null?void 0:Ze.docs,source:{originalSource:`args => ({
  components: {
    Slider
  },
  setup() {
    return {
      args
    };
  },
  template: \`
  <div style="width: 500px; heigth: 500px;">
  <Slider v-bind="args" />
  </div> \`
})`,...(Qe=(Ge=ve.parameters)==null?void 0:Ge.docs)==null?void 0:Qe.source}}};const Wi=["Default"];export{ve as Default,Wi as __namedExportsOrder,Hi as default};
