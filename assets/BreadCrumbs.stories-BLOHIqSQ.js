import{j as F,b as q,f as n,q as M,k as r,l as d,F as v,B,z as m,D as p,m as k,p as h,C as j,v as z,u as A,r as O}from"./vue.esm-bundler-CCGp2uGQ.js";import{I as X,a as Y}from"./Icon-B-azytQy.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as H}from"./storybook-BJU81olc.js";const J=["data-testid"],K=["data-testid"],P=["data-testid"],Q=["data-testid"],R=["data-testid"],U=["data-testid"],W=["title","onClick","data-testid"],Z=["data-testid"],x=["onClick","data-testid"],tt=["data-testid"],y=25,I=F({__name:"BreadCrumbs",props:{items:{},dataTestid:{default:"BreadCrumbs"}},emits:["click"],setup(o,{emit:N}){const e=o,E=N,s=q({items:[],crumbs:n(()=>{const t=e.items.length<4?e.items.length-1:3;let l=[e.items[0],...e.items.slice(-t)];return e.items.length===1&&(l=[e.items[0]]),l.map(i=>(i.isSub=!1,i))}),subCrumbs:n(()=>e.items.slice(1,-3).map(t=>(t.isSub=!0,t))),getClassesLink:n(()=>(t,l=!1)=>({"bread-crumbs-yui-kit__link":!0,"disabled-yui-kit":!t.path,active:l})),getClassesSpan:n(()=>t=>({"checked-yui-kit":t===s.crumbs.length-1})),fullTitle:n(()=>t=>t.title.length>y),isShowList:!1}),C=n(()=>({crumbs:{"bread-crumbs-yui-kit__item":!0},subcrumbs:{"bread-subcrumbs-yui-kit__item":!0}})),V=n(()=>({crumbs:{"bread-subcrumbs-yui-kit":!0,"scroll-yui-kit":!0,"active-yui-kit":s.isShowList}})),g=(t,l)=>{l!==s.items.length-1&&(t.isSub&&f(),e.items.forEach(({path:i},a)=>{i===t.path&&E("click",{title:t.title,path:t.path,inx:a+1})}))},f=()=>s.isShowList=!s.isShowList,S=t=>t.title.length>y?t.title.slice(0,y).trim()+"...":t.title,D=t=>s.items.length>=5&&t===1;return M(()=>s.items=s.crumbs.concat(s.subCrumbs)),(t,l)=>(r(),d("ul",{class:"bread-crumbs-yui-kit","data-testid":e.dataTestid},[(r(!0),d(v,null,B(s.items,(i,a)=>(r(),d("li",{class:m(C.value.crumbs),key:i.path,"data-testid":`${e.dataTestid}-Crumbs${a}`},[D(a)?(r(),d("div",{key:0,"data-testid":`${e.dataTestid}-ShowSubList${a}`},[p("span",{class:"bread-crumbs-yui-kit--closed",onClick:f,"data-testid":`${e.dataTestid}-Closed${a}`},"...",8,Q),p("ul",{class:m(V.value.crumbs),"data-testid":`${e.dataTestid}-Crumbs${a}`},[(r(!0),d(v,null,B(s.subCrumbs,(u,_)=>(r(),d("li",{key:u.path,class:m(C.value.subcrumbs),"data-testid":`${e.dataTestid}-SubCrumbs${_}`},[p("span",{title:u.title,onClick:at=>g(u,_),class:m({"disabled-yui-kit":!u.path}),"data-testid":`${e.dataTestid}-SubCrumbs-Title${_}`},k(S(u)),11,W)],10,U))),128))],10,R)],8,P)):h("",!0),i.isSub?h("",!0):(r(),d("div",{key:1,class:m(s.getClassesLink(i,a===s.crumbs.length-1)),"data-testid":`${e.dataTestid}-Classes${a}`},[p("span",{class:m(s.getClassesSpan(a)),onClick:u=>g(i,a),"data-testid":`${e.dataTestid}-Checked${a}`},[j(k(a!==s.crumbs.length-1?S(i):i.title),1),s.fullTitle(i)&&a!==s.crumbs.length-1?(r(),d("span",{key:0,"data-testid":`${e.dataTestid}-FullName`,class:"fullName-yui-kit"},k(i.title),9,tt)):h("",!0)],10,x),a!==s.crumbs.length-1?(r(),z(Y,{key:0,name:A(X).rightSmall,"data-testid":`${e.dataTestid}-Icon`},null,8,["name","data-testid"])):h("",!0)],10,Z))],10,K))),128))],8,J))}}),L=G(I,[["__scopeId","data-v-07b79f0f"]]);I.__docgenInfo={exportName:"default",displayName:"BreadCrumbs",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'BreadCrumbs'"}},{name:"items",required:!0,type:{name:"Array",elements:[{name:"IBreadCrumbsItem"}]}}],events:[{name:"click",type:{names:["IBreadCrumbsEmit"]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/BreadCrumbs/BreadCrumbs.vue"]};const c=O([{path:"/assembly",title:"Главная"},{path:"",title:"База деталей"},{path:"/assembly3",title:"Редактор Детали "},{path:"/assembly4",title:"База материалов"},{path:"/assembly6",title:"База оборудования"},{path:"/assembly7",title:"База инструментов"},{path:"/story/breadcrumbs",title:"База покупателей awef awe wef we "},{path:"",title:"Несуществующая База"},{path:"/assembly9",title:"База продавцов awef awe wef we "}]),et=o=>{c.value=c.value.slice(0,o.inx)},nt={title:"BreadCrumbs/BreadCrumbs",component:L,argTypes:{items:{type:H.object,defaultValue:c}},args:{onClick:{path:"path",title:"name"}},tags:["autodocs"]},st=o=>({components:{BreadCrumbs:L},setup(){return{args:o,crumbsItems:c,breadCrumbsSelect:et}},template:`<div style="margin-top: 100px"><BreadCrumbs v-bind="args" :items="crumbsItems"       :key="crumbsItems.length"
      @click="breadCrumbsSelect"/>
  </div>`}),b=st.bind({});b.args={key:c.value.length,items:c};var T,$,w;b.parameters={...b.parameters,docs:{...(T=b.parameters)==null?void 0:T.docs,source:{originalSource:`args => ({
  components: {
    BreadCrumbs
  },
  setup() {
    return {
      args,
      crumbsItems,
      breadCrumbsSelect
    };
  },
  template: \`<div style="margin-top: 100px"><BreadCrumbs v-bind="args" :items="crumbsItems"       :key="crumbsItems.length"
      @click="breadCrumbsSelect"/>
  </div>\`
})`,...(w=($=b.parameters)==null?void 0:$.docs)==null?void 0:w.source}}};const ut=["Default"];export{b as Default,ut as __namedExportsOrder,nt as default};
