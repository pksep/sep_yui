import{p as A,d as M,k as _,w as T,o as D,H as E,u as S,m as i,q as f,D as c,y as u,z as C,F as p,A as m,C as L,I as O,v as h,B as z,l}from"./vue.esm-bundler-DwgwRRKm.js";import{B as r}from"./Badges-D0ahzjay.js";import{I as $,a as x}from"./Icon-DPPrtFKC.js";import{v as W}from"./index-CUwEPDia.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j=["data-testid"],G=["data-testid"],J=["data-testid"],K=["data-testid"],P=["data-testid"],Q=["data-testid"],R=["data-testid"],U=["data-testid"],X=["data-testid"],Y=["data-testid"],Z=["data-testid"],ee=["data-testid"],te=["data-testid"],ae=["data-testid"],B=A({__name:"FilterTag",props:{title:{},iconName:{default:$.filter},options:{default:()=>[]},selectedValues:{default:()=>[]},multiply:{type:Boolean,default:!0},maxShowCount:{default:5},showClearButton:{type:Boolean,default:!1},disallowNull:{type:Boolean,default:!1},dataTestid:{default:"FilterTag"}},emits:["change"],setup(v,{emit:b}){const e=v,t=M({isShow:!1,options:[]}),k=b,N=_(()=>({"filter-yui-kit__wrapper":!0,"active-yui-kit":t.isShow})),V=()=>t.isShow=!t.isShow,F=()=>{t.isShow=!1},o=_(()=>t.options.filter(s=>s.chose)),I=_(()=>t.options.filter(s=>!s.chose)),g=s=>{e.disallowNull&&s.chose||(s.chose=!s.chose,e.multiply||(t.options=t.options.map(n=>({...n,chose:s.value===n.value&&s.chose}))),t.options.every(n=>n.chose)&&(t.options=t.options.map(n=>({...n,chose:!1}))),k("change",o.value.map(n=>n.value)),t.isShow=!1)},w=()=>{t.options=t.options.map(s=>({...s,chose:!1})),t.isShow=!1,k("change",[])},y=()=>{t.options=e.options.map(s=>({...s,chose:e.selectedValues.includes(s.value)})),t.options.every(s=>s.chose)&&(t.options=t.options.map(s=>({...s,chose:!1})))};return T(()=>[e.options,e.selectedValues],y),T(()=>e.selectedValues,y),D(y),(s,n)=>E((l(),i("div",{class:"filter-yui-kit","data-testid":e.dataTestid},[f("div",{class:z(N.value),onClick:V,"data-testid":`${e.dataTestid}-Wrapper`},[e.iconName?(l(),c(x,{key:0,name:e.iconName,"data-testid":`${e.dataTestid}-Icon`},null,8,["name","data-testid"])):u("",!0),e.title?(l(),i("span",{key:1,"data-testid":`${e.dataTestid}-Title`},C(e.title),9,J)):u("",!0),!o.value.length&&!e.disallowNull?(l(),c(r,{key:2,disabled:"",text:"Все","data-testid":`${e.dataTestid}-Badges-All`},null,8,["data-testid"])):(l(!0),i(p,{key:3},m(o.value.filter((a,d)=>d<e.maxShowCount),(a,d)=>(l(),c(r,{key:a.value,type:a.type,disabled:"","data-testid":`${e.dataTestid}-Badges${d}`,text:a.label},null,8,["type","data-testid","text"]))),128)),e.maxShowCount<o.value.length?(l(),i("div",{key:4,class:"filter-yui-kit__counter","data-testid":`${e.dataTestid}-MaxShowCount-Counter`},[L(" +"+C(o.value.length-e.maxShowCount)+" ",1),f("div",{class:"filter-yui-kit__counter-content","data-testid":`${e.dataTestid}-MaxShowCount-Content`},[(l(!0),i(p,null,m(o.value.filter((a,d)=>d>=e.maxShowCount),(a,d)=>(l(),c(r,{key:a.value,type:a.type,disabled:"",text:a.label,"data-testid":`${e.dataTestid}-MaxShow-Badges${d}`},null,8,["type","text","data-testid"]))),128))],8,P)],8,K)):u("",!0),e.showClearButton&&o.value.length>0?(l(),i("button",{key:5,type:"button",class:"filter-yui-kit__close",onClick:O(w,["stop"]),"data-testid":`${e.dataTestid}-Filter-CloseButton`},[h(x,{name:S($).crossSmall,"data-testid":`${e.dataTestid}-CloseButton-Icon`},null,8,["name","data-testid"])],8,Q)):u("",!0)],10,G),t.isShow?(l(),i("div",{key:0,class:"filter-yui-kit__select-wrapper","data-testid":`${e.dataTestid}-Select-Wrapper`},[f("ul",{class:"filter-yui-kit__select-list selected-yui-kit","data-testid":`${e.dataTestid}-Select-List`},[o.value.length?u("",!0):(l(),i("li",{key:0,class:"filter-yui-kit__select-item","data-testid":`${e.dataTestid}-Select-Item`},[h(r,{disabled:"",text:"Все","data-testid":`${e.dataTestid}-Select-Badges`},null,8,["data-testid"])],8,X)),(l(!0),i(p,null,m(o.value,(a,d)=>(l(),i("li",{class:"filter-yui-kit__select-item",key:a.value,"data-testid":`${e.dataTestid}-Select-Item${d}`},[h(r,{disabled:!0,choosed:!e.disallowNull&&a.chose,type:a.type,onClick:q=>g(a),text:a.label,"data-testid":`${e.dataTestid}-Select-Badges${d}`},null,8,["choosed","type","onClick","text","data-testid"])],8,Y))),128))],8,U),f("div",{class:"filter-yui-kit__select__divider","data-testid":`${e.dataTestid}-Select-Divider`},null,8,Z),t.isShow?(l(),i("ul",{key:0,class:"filter-yui-kit__select-list","data-testid":`${e.dataTestid}-Select-List`},[(l(!0),i(p,null,m(I.value,(a,d)=>(l(),i("li",{class:"filter-yui-kit__select-item",key:a.value,"data-testid":`${e.dataTestid}-Select-List${d}`},[h(r,{disabled:!0,choosed:!1,type:a.type,text:a.label,"data-testid":`${e.dataTestid}-Select-Badges${d}`,onClick:q=>g(a)},null,8,["type","text","data-testid","onClick"])],8,te))),128)),v.disallowNull?u("",!0):(l(),i("li",{key:0,class:"filter-yui-kit__select-item","data-testid":`${e.dataTestid}-Select-Item`},[o.value.length?(l(),c(r,{key:0,disabled:"","data-testid":`${e.dataTestid}-Select-Badges`,text:"Все",onClick:w},null,8,["data-testid"])):u("",!0)],8,ae))],8,ee)):u("",!0)],8,R)):u("",!0)],8,j)),[[S(W),F,void 0,{bubble:!0}]])}}),ne=H(B,[["__scopeId","data-v-49f21839"]]);B.__docgenInfo={exportName:"default",displayName:"FilterTag",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'FilterTag'"}},{name:"title",required:!1,type:{name:"string"}},{name:"iconName",required:!1,type:{name:"IconNameEnum"},defaultValue:{func:!1,value:"IconNameEnum.filter"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"IFilterTagOption"}]},defaultValue:{func:!1,value:"() => []"}},{name:"selectedValues",required:!1,type:{name:"Array",elements:[{name:"string"}]},defaultValue:{func:!1,value:"() => []"}},{name:"multiply",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"maxShowCount",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"showClearButton",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disallowNull",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["Array"],elements:[{name:"string"}]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/FilterTag/FilterTag.vue"]};export{ne as F};
