import{j as z,b as W,f as g,w as b,q as G,H,u as x,l as i,D as m,v as c,p as u,m as C,F as y,B as h,C as J,G as K,x as _,z as P,k as l}from"./vue.esm-bundler-CCGp2uGQ.js";import{B as r,a as k}from"./Badges-CTda4vtn.js";import{I as $,a as B}from"./Icon-B-azytQy.js";import{v as Q}from"./index-D63UQOtt.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as N}from"./storybook-BJU81olc.js";const U=["data-testid"],X=["data-testid"],Y=["data-testid"],Z=["data-testid"],ee=["data-testid"],te=["data-testid"],ae=["data-testid"],se=["data-testid"],le=["data-testid"],ie=["data-testid"],de=["data-testid"],oe=["data-testid"],ne=["data-testid"],ue=["data-testid"],q=z({__name:"FilterTag",props:{title:{},iconName:{default:$.filter},options:{default:()=>[]},selectedValues:{default:()=>[]},multiply:{type:Boolean,default:!0},maxShowCount:{default:5},showClearButton:{type:Boolean,default:!1},disallowNull:{type:Boolean,default:!1},dataTestid:{default:"FilterTag"}},emits:["change"],setup(f,{emit:D}){const e=f,t=W({isShow:!1,options:[]}),T=D,M=g(()=>({"filter-yui-kit__wrapper":!0,"active-yui-kit":t.isShow})),O=()=>t.isShow=!t.isShow,A=()=>{t.isShow=!1},o=g(()=>t.options.filter(s=>s.chose)),L=g(()=>t.options.filter(s=>!s.chose)),w=s=>{e.disallowNull&&s.chose||(s.chose=!s.chose,e.multiply||(t.options=t.options.map(n=>({...n,chose:s.value===n.value&&s.chose}))),t.options.every(n=>n.chose)&&(t.options=t.options.map(n=>({...n,chose:!1}))),T("change",o.value.map(n=>n.value)),t.isShow=!1)},S=()=>{t.options=t.options.map(s=>({...s,chose:!1})),t.isShow=!1,T("change",[])},v=()=>{t.options=e.options.map(s=>({...s,chose:e.selectedValues.includes(s.value)})),t.options.every(s=>s.chose)&&(t.options=t.options.map(s=>({...s,chose:!1})))};return b(()=>[e.options,e.selectedValues],v),b(()=>e.selectedValues,v),G(v),(s,n)=>H((l(),i("div",{class:"filter-yui-kit","data-testid":e.dataTestid},[m("div",{class:P(M.value),onClick:O,"data-testid":`${e.dataTestid}-Wrapper`},[e.iconName?(l(),c(B,{key:0,name:e.iconName,"data-testid":`${e.dataTestid}-Icon`},null,8,["name","data-testid"])):u("",!0),e.title?(l(),i("span",{key:1,"data-testid":`${e.dataTestid}-Title`},C(e.title),9,Y)):u("",!0),!o.value.length&&!e.disallowNull?(l(),c(r,{key:2,disabled:"",text:"Все","data-testid":`${e.dataTestid}-Badges-All`},null,8,["data-testid"])):(l(!0),i(y,{key:3},h(o.value.filter((a,d)=>d<e.maxShowCount),(a,d)=>(l(),c(r,{key:a.value,type:a.type,disabled:"","data-testid":`${e.dataTestid}-Badges${d}`,text:a.label},null,8,["type","data-testid","text"]))),128)),e.maxShowCount<o.value.length?(l(),i("div",{key:4,class:"filter-yui-kit__counter","data-testid":`${e.dataTestid}-MaxShowCount-Counter`},[J(" +"+C(o.value.length-e.maxShowCount)+" ",1),m("div",{class:"filter-yui-kit__counter-content","data-testid":`${e.dataTestid}-MaxShowCount-Content`},[(l(!0),i(y,null,h(o.value.filter((a,d)=>d>=e.maxShowCount),(a,d)=>(l(),c(r,{key:a.value,type:a.type,disabled:"",text:a.label,"data-testid":`${e.dataTestid}-MaxShow-Badges${d}`},null,8,["type","text","data-testid"]))),128))],8,ee)],8,Z)):u("",!0),e.showClearButton&&o.value.length>0?(l(),i("button",{key:5,type:"button",class:"filter-yui-kit__close",onClick:K(S,["stop"]),"data-testid":`${e.dataTestid}-Filter-CloseButton`},[_(B,{name:x($).crossSmall,"data-testid":`${e.dataTestid}-CloseButton-Icon`},null,8,["name","data-testid"])],8,te)):u("",!0)],10,X),t.isShow?(l(),i("div",{key:0,class:"filter-yui-kit__select-wrapper","data-testid":`${e.dataTestid}-Select-Wrapper`},[m("ul",{class:"filter-yui-kit__select-list selected-yui-kit","data-testid":`${e.dataTestid}-Select-List`},[o.value.length?u("",!0):(l(),i("li",{key:0,class:"filter-yui-kit__select-item","data-testid":`${e.dataTestid}-Select-Item`},[_(r,{disabled:"",text:"Все","data-testid":`${e.dataTestid}-Select-Badges`},null,8,["data-testid"])],8,le)),(l(!0),i(y,null,h(o.value,(a,d)=>(l(),i("li",{class:"filter-yui-kit__select-item",key:a.value,"data-testid":`${e.dataTestid}-Select-Item${d}`},[_(r,{disabled:!0,choosed:!e.disallowNull&&a.chose,type:a.type,onClick:j=>w(a),text:a.label,"data-testid":`${e.dataTestid}-Select-Badges${d}`},null,8,["choosed","type","onClick","text","data-testid"])],8,ie))),128))],8,se),m("div",{class:"filter-yui-kit__select__divider","data-testid":`${e.dataTestid}-Select-Divider`},null,8,de),t.isShow?(l(),i("ul",{key:0,class:"filter-yui-kit__select-list","data-testid":`${e.dataTestid}-Select-List`},[(l(!0),i(y,null,h(L.value,(a,d)=>(l(),i("li",{class:"filter-yui-kit__select-item",key:a.value,"data-testid":`${e.dataTestid}-Select-List${d}`},[_(r,{disabled:!0,choosed:!1,type:a.type,text:a.label,"data-testid":`${e.dataTestid}-Select-Badges${d}`,onClick:j=>w(a)},null,8,["type","text","data-testid","onClick"])],8,ne))),128)),f.disallowNull?u("",!0):(l(),i("li",{key:0,class:"filter-yui-kit__select-item","data-testid":`${e.dataTestid}-Select-Item`},[o.value.length?(l(),c(r,{key:0,disabled:"","data-testid":`${e.dataTestid}-Select-Badges`,text:"Все",onClick:S},null,8,["data-testid"])):u("",!0)],8,ue))],8,oe)):u("",!0)],8,ae)):u("",!0)],8,U)),[[x(Q),A,void 0,{bubble:!0}]])}}),E=R(q,[["__scopeId","data-v-41d2f43b"]]);q.__docgenInfo={exportName:"default",displayName:"FilterTag",description:"",tags:{},props:[{name:"dataTestid",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'FilterTag'"}},{name:"title",required:!1,type:{name:"string"}},{name:"iconName",required:!1,type:{name:"IconNameEnum"},defaultValue:{func:!1,value:"IconNameEnum.filter"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"IFilterTagOption"}]},defaultValue:{func:!1,value:"() => []"}},{name:"selectedValues",required:!1,type:{name:"Array",elements:[{name:"string"}]},defaultValue:{func:!1,value:"() => []"}},{name:"multiply",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"maxShowCount",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"5"}},{name:"showClearButton",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disallowNull",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["Array"],elements:[{name:"string"}]}}],sourceFiles:["/home/runner/work/sep_yui/sep_yui/src/components/FilterTag/FilterTag.vue"]};const re=[{value:"value1",type:k.pink,label:"Удалено"},{value:"value2",type:k.red,label:"Просрочено"},{value:"value3",type:k.blue,label:"Покупатель"}],ve={title:"Filter/FilterTag",component:E,argTypes:{title:{control:{type:N.text}},options:{control:{type:N.object}}},tags:["autodocs"]},ce=f=>({components:{FilterTag:E},setup(){return{args:f}},template:`
    <div style="display: flex; flex-direction: row; gap: 12px;">
      <FilterTag v-bind="args" />
    </div>
  `}),p=ce.bind({});p.args={title:"Статус",options:re};var F,V,I;p.parameters={...p.parameters,docs:{...(F=p.parameters)==null?void 0:F.docs,source:{originalSource:`args => ({
  components: {
    FilterTag
  },
  setup() {
    return {
      args
    };
  },
  template: \`
    <div style="display: flex; flex-direction: row; gap: 12px;">
      <FilterTag v-bind="args" />
    </div>
  \`
})`,...(I=(V=p.parameters)==null?void 0:V.docs)==null?void 0:I.source}}};const ge=["Default"];export{p as Default,ge as __namedExportsOrder,ve as default};
